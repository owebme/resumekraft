riot.tag2("section-auth",'<div if="{app.device.isPhone}" class="oScreen__buttons" data-pos="top-right"> <div onclick="{close}" class="button__close" data-color="gray"></div> </div> <auth-signin></auth-signin> <auth-remember></auth-remember> <auth-signup></auth-signup>',"","class=\"{app.device.isPhone ? 'section' : 'oScreen'} zIndex-100 pos-fixed\" data-open=\"false\"",function(t){var e=this;e.active=!1,e.on("mount",function(){location.href.match(/\?signin/)?$afterlag.run(function(){e.open("signin")}):location.href.match(/\?signup/)&&$afterlag.run(function(){e.open("signup",!!location.href.match(/\&plan=premium/)&&"premium")}),$afterlag.xs(function(){e.notify=app.tag("section-notify"),window.ymaps&&ymaps.ready(function(){ymaps.geolocation&&ymaps.geolocation.city&&e.update({location:{country:ymaps.geolocation.country,city:ymaps.geolocation.city,region:ymaps.geolocation.region}})})})}),e.open=function(t,a){e.active=!0,e.root.setAttribute("data-open",!0);var s=e.tags["auth-"+t];s&&s.open&&s.open(a)},e.close=function(){e.root.setAttribute("data-open",!1),e.update({active:!1})}}),riot.tag2("auth-social",'<div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-duration-m" data-balloon="Войти через Facebook" data-balloon-pos="left"> <div class="auth__social__button" data-share="fb"> <icon-fb color="white"></icon-fb> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-xs anim-duration-m" data-balloon="Войти через ВКонтакте" data-balloon-pos="left"> <div class="auth__social__button" data-share="vk"> <icon-vk color="white"></icon-vk> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-s anim-duration-m" data-balloon="Войти через Twitter" data-balloon-pos="left"> <div class="auth__social__button" data-share="tw"> <icon-tw color="white"></icon-tw> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-m anim-duration-m" data-balloon="Войти через Одноклассники" data-balloon-pos="left"> <div class="auth__social__button" data-share="dk"> <icon-dk color="white"></icon-dk> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-l anim-duration-m" data-balloon="Войти через Google+" data-balloon-pos="left"> <div class="auth__social__button" data-share="gl"> <icon-gl color="white"></icon-gl> </div> </div>',"",'class="section auth__social"',function(t){}),riot.tag2("auth-signin",'<form id="form" method="post" action="/login" class="auth__form anim-group1 anim-scale{\'-ease\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="logined" value="true"> <input type="hidden" name="country" value="{location.country}"> <input type="hidden" name="city" value="{location.city}"> <input type="hidden" name="region" value="{location.region}"> <div if="{!app.device.isPhone}" class="auth__close anim-group3 anim-lr anim-delay-xs anim-duration-m"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Авторизация </div> <div class="auth__body"> <div class="mb-m input-group input-group-icon" data-errballoon="{!validate.login.valid ? validate.login.text : null}"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl {input-error : !validate.login.valid}" type="text" placeholder="Логин (ваш email)" autocomplete="off" name="login" value=""> <div class="input-icon"> <svg class="input-svg input-svg-login" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div class="mb-xs input-group input-group-icon" data-errballoon="{!validate.password.valid ? validate.password.text : null}"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl {input-error : !validate.password.valid}" type="password" placeholder="Пароль" autocomplete="off" name="password"> <div class="input-icon"> <svg class="input-svg input-svg-password" xmlns="http://www.w3.org/2000/svg" viewbox="0 -6 30 30" enable-background="new 0 -6 30 30"> <path class="input-svg-color" d="M21.6 8.3c-.2-.2-.5-.3-.9-.3h-.7v-2.6c0-1.3-.5-2.4-1.4-3.2-.9-.8-2.1-1.2-3.6-1.2s-2.7.4-3.6 1.2c-.9.8-1.4 1.9-1.4 3.2v2.6h-.7c-.3 0-.7.1-.9.4-.3.2-.4.5-.4.8v6.1c0 .3.1.5.3.7.2.2.4.3.7.4 1.9.4 3.9.6 6 .6 2 0 4-.2 5.9-.6.3-.1.5-.2.7-.4.2-.2.3-.4.3-.7v-6.1c.1-.3 0-.6-.3-.9zm-8.6-2.4c0-1.3.7-1.9 2-1.9s2 .6 2 1.9v2.1h-4v-2.1z"></path> </svg> </div> </div> <div class="mb-m xs-mb-xs pr-xxs pb-xs text-right"> <span onclick="{show.remember}" class="link-gray-hover-primary text-uppercase fontSize-xs fontFamily-helvetica letterSpacing-l cursor-pointer">Забыли пароль?</span> </div> <div onclick="{sendForm}" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} {btn-loading : loading}"><span class="plr-s">Войти</span></div> <div if="{!app.device.isPhone}" class="mt-xs pt-m pb-xs text-center"> <a onclick="{show.signup}" class="link-gray-hover-primary text-uppercase fontSize-s fontFamily-helvetica letterSpacing-l cursor-pointer">У вас нет аккаунта?</a> </div> </div> <auth-social></auth-social> </form>',"",'class="section auth" data-active="false" data-form="signin"',function(t){var e=this,a=$$(e.form);e.active=!1,e.loading=!1,e.validate={login:{valid:!0,text:"Введите свой логин"},password:{valid:!0,text:"Введите свой пароль"}},e.on("mount",function(){e.animate=new app.plugins.animate(e.root)}),e.on("updated",function(){!e.active&&e.animate.active&&(e.root.setAttribute("data-active",!1),e.animate.hide())}),e.open=function(){e.active=!0,e.root.setAttribute("data-active",!0),e.animate.show()},e.show={signup:function(){e.active=!1,e.root.setAttribute("data-active",!1),e.animate.hide(),e.parent.tags["auth-signup"].open()},remember:function(){e.active=!1,e.root.setAttribute("data-active",!1),e.animate.hide(),e.parent.tags["auth-remember"].open()}},e.onKeydown=function(t){return 13==t.which&&e.sendForm(),!0},e.sendForm=function(){if(!e.loading){var t={login:_.clean(e.login.value,[]),password:_.clean(e.password.value,[])},s=e.validator(t);e.update({loading:s}),s&&setTimeout(function(){$$.post({url:"/login",data:t,dataType:"json",success:function(t,s){if(t&&t.status)if("error"==t.status){var o="Не верный логин и/или пароль";e.parent.notify?e.parent.notify.show({color:"danger",text:o}):alert(o)}else"OK"==t.status&&app.tag("section-loader").show().then(function(){a.submit()})},error:function(){var t="Ошибка авторизации, повторите попытку чуть позже";e.parent.notify?e.parent.notify.show({color:"danger",text:"Ошибка авторизации, повторите попытку чуть позже"}):alert(t)},complete:function(t,a){e.update({loading:!1})}})},300)}},e.validator=function(t){return e.validate.login.valid=!0,e.validate.password.valid=!0,_.each(t,function(t,a){"login"!==a||t.length?"password"!==a||t.length||(e.validate.password.valid=!1):e.validate.login.valid=!1}),_.every(_.pluck(_.values(e.validate),"valid"))},e.close=function(){e.parent.close()}}),riot.tag2("auth-signup",'<form id="form" method="post" action="/register" class="auth__form anim-group1 anim-scale{\'-ease\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="logined" value="true"> <input type="hidden" name="referer" value="{get.referer()}"> <input type="hidden" name="country" value="{location.country}"> <input type="hidden" name="city" value="{location.city}"> <input type="hidden" name="region" value="{location.region}"> <div if="{!app.device.isPhone}" class="auth__close anim-group3 anim-lr anim-delay-xs anim-duration-m"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Регистрация </div> <div class="auth__body"> <div class="mb45 xs-mb-m xs-pb-xxs"> <div class="switcher-group"> <div class="switcher-group-container" style="width:240px"> <input onclick="{changePlan}" onupdate="none" type="radio" name="plan" value="free" id="switcher-plan-free" __checked="{plan == ⁗free⁗}"> <label for="switcher-plan-free">Free</label> <input onclick="{changePlan}" onupdate="none" type="radio" name="plan" value="premium" id="switcher-plan-premium" __checked="{plan == ⁗premium⁗}"> <label for="switcher-plan-premium">Premium</label> <span class="switcher-group-switch"></span> </div> </div> </div> <div class="mb-m input-group input-group-icon" data-errballoon="{!validate.login.valid ? validate.login.text : null}"> <input class="input input-xl {input-error : !validate.login.valid}" type="text" placeholder="Ваш email (логин)" autocomplete="off" name="login" value=""> <div class="input-icon"> <svg class="input-svg input-svg-login" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div class="mb-xs input-group input-group-icon" data-errballoon="{!validate.password.valid ? validate.password.text : null}"> <input class="input input-xl {input-error : !validate.password.valid}" type="text" placeholder="Пароль (мин. из 6 сим-ов)" autocomplete="off" name="password"> <div class="input-icon"> <svg class="input-svg input-svg-password" xmlns="http://www.w3.org/2000/svg" viewbox="0 -6 30 30" enable-background="new 0 -6 30 30"> <path class="input-svg-color" d="M21.6 8.3c-.2-.2-.5-.3-.9-.3h-.7v-2.6c0-1.3-.5-2.4-1.4-3.2-.9-.8-2.1-1.2-3.6-1.2s-2.7.4-3.6 1.2c-.9.8-1.4 1.9-1.4 3.2v2.6h-.7c-.3 0-.7.1-.9.4-.3.2-.4.5-.4.8v6.1c0 .3.1.5.3.7.2.2.4.3.7.4 1.9.4 3.9.6 6 .6 2 0 4-.2 5.9-.6.3-.1.5-.2.7-.4.2-.2.3-.4.3-.7v-6.1c.1-.3 0-.6-.3-.9zm-8.6-2.4c0-1.3.7-1.9 2-1.9s2 .6 2 1.9v2.1h-4v-2.1z"></path> </svg> </div> </div> <div class="mb-m xs-mb-xs pr-xxs pb-xs text-right"> <span if="{!app.device.isPhone}" onclick="{openSignIn}" class="link-gray-hover-primary text-uppercase fontSize-xs fontFamily-helvetica letterSpacing-l cursor-pointer">У вас уже есть аккаунт?</span> </div> <div onclick="{sendForm}" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} mb-xs xs-mb0 {btn-loading : loading}">Создать аккаунт</div> </div> <auth-social></auth-social> </form>',"",'class="section auth" data-active="false" data-form="signup"',function(t){var e=this,a=$$(e.form);e.active=!1,e.plan="free",e.loading=!1,e.validate={login:{valid:!0,text:null,vars:{v1:"Введите свой email",v2:"Введите корректный email"}},password:{valid:!0,text:null,vars:{v1:"Введите свой пароль",v2:"Введите пароль мин. из 6 символов"}}},e.on("mount",function(){e.animate=new app.plugins.animate(e.root)}),e.on("updated",function(){!e.active&&e.animate.active&&(e.root.setAttribute("data-active",!1),e.animate.hide())}),e.get={referer:function(){return!1}},e.open=function(t){e.active=!0,e.update({plan:t?t:app.metrika.get("plan.name")}),e.root.setAttribute("data-active",!0),e.animate.show(function(){app.device.isPhone||app.metrika.get("tooltips.regSocial")||(app.tag("section-notify").show({text:"Для регистрации вы можете использовать свою социальную сеть",pos:"bottom-left",timeout:5}),app.metrika.set("tooltips.regSocial",!0))})},e.openSignIn=function(){e.active=!1,e.root.setAttribute("data-active",!1),e.animate.hide(),e.parent.tags["auth-signin"].open()},e.changePlan=function(t){app.metrika.set("plan.name",t.target.value)},e.sendForm=function(){if(!e.loading){var t={login:_.clean(e.login.value,[]),password:_.clean(e.password.value,[])},s=e.validator(t);e.update({loading:s}),s&&setTimeout(function(){$$.post({url:"/register",data:t,dataType:"json",success:function(t,e){t&&t.status&&("error"==t.status?app.tag("section-notify").show({color:"info",text:"Указанный email уже используется"}):"OK"==t.status&&app.tag("section-loader").show().then(function(){a.submit()}))},error:function(){app.tag("section-notify").show({color:"danger",text:"Ошибка регистрации, повторите попытку чуть позже"})},complete:function(t,a){e.update({loading:!1})}})},300)}},e.validator=function(t){return e.validate.login.valid=!0,e.validate.password.valid=!0,_.each(t,function(t,a){"login"===a?t.length?_.isEmail(t)||(e.validate.login.valid=!1,e.validate.login.text=e.validate.login.vars.v2):(e.validate.login.valid=!1,e.validate.login.text=e.validate.login.vars.v1):"password"===a&&(t.length?t.length<6&&(e.validate.password.valid=!1,e.validate.password.text=e.validate.password.vars.v2):(e.validate.password.valid=!1,e.validate.password.text=e.validate.password.vars.v1))}),_.every(_.pluck(_.values(e.validate),"valid"))},e.close=function(){e.parent.close()}}),riot.tag2("auth-remember",'<form method="post" action="/auth" class="auth__form anim anim-scale{\'-zoom\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="logined" value="true"> <div if="{!app.device.isPhone}" class="auth__close"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Восстановить пароль <div class="auth__subtitle">Отправить на свой email инструкцию по сбросу пароля.</div> </div> <div class="auth__body"> <div class="mb-l input-group input-group-icon"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl" type="text" placeholder="Введите свой email (логин)" autocomplete="off" name="login" value=""> <div class="input-icon"> <svg class="input-svg" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div id="submit" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'}">Отправить</div> </div> </form>',"",'class="section auth {showAnim : animate}" data-active="{active}" data-form="remember"',function(t){var e=this;e.active=!1,e.on("updated",function(){!e.active&&e.animate&&e.update({animate:!1})}),e.open=function(){e.update({active:!0,animate:!0})},e.onKeydown=function(t){return!0},e.openAuth=function(){e.animate=!1,e.parent.tags["auth-form"].open()},e.close=function(){e.parent.close()}}),riot.tag2("section-notify",'<div onclick="{hide}" name="notify" class="notify {opts.size ? \'notify-\' + opts.size : \'notify-m\'}" data-color="{opts.color ? opts.color : ⁗primary⁗}" riot-style="{opts.width ? \'width:\' + opts.width : null}">{opts.text}</div>',"",'class="notify-wrapper" data-active="{active}" data-pos="{opts.pos ? opts.pos : ⁗top-left⁗}"',function(t){var e=this;e.active=!1,e.timeout=2,e.interval=null,e.opts={pos:"top-left"},e.on("mount",function(){setTimeout(function(){e.root.style.display="block"},20)}),e.show=function(t){return clearTimeout(e.interval),"undefined"==typeof t.timeout&&(t.color||(t.timeout=1)),e.active&&e.autoHide(t),t.pos!=e.opts.pos?(e.update({opts:t}),setTimeout(function(){e.update({active:!0})},200)):e.update({opts:t,active:!0}),new Promise(function(a,s){_.onEndTransition(e.notify,function(){return e.autoHide(t),a()})})},e.autoHide=function(t){t.timeout!==!1&&(e.interval=setTimeout(function(){e.hide()},t.timeout?1e3*t.timeout:1e3*e.timeout))},e.hide=function(){e.update({active:!1})}}),riot.tag2("section-loader",'<div class="loader-spinner"></div>',"",'class="loader" data-show="{active}" data-color="{color}"',function(t){var e=this;e.default=function(){return{color:null,active:!0}},e.show=function(t){return e.update(_.extend(e.default(),t)),new Promise(function(t,a){_.onEndTransition(e.root,function(){return t()})})},e.hide=function(){e.update({active:!1})}}),riot.tag2("ui-input",'<input name="input" oninput="{onInput}" onkeydown="{opts.autosuggest ? autosuggest.navigate : false}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" class="input input-{opts.size ? opts.size : \'m\'} {opts.color} {opts.align ? \'text-\' + opts.align : \'\'} {input-rounded : opts.rounded}" value="{value}" placeholder="{opts.placeholder}" __disabled="{typeof opts.disabled !== \'undefined\'}" type="text" autocomplete="off" spellcheck="false"> <div if="{opts.autosuggest}" class="input-autosuggest-items"><div onclick="{autosuggest.select}" each="{item in autosuggest.items}" no-reorder class="input-autosuggest-item" data-active="{item.active}"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div>',"","class=\"{opts.autosuggestsize ? 'display-block input-autosuggest input-autosuggest-' + opts.autosuggestsize : 'display-block input-autosuggest input-autosuggest-m'}\"",function(t){var e=this;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.value=e.opts.value,e.opts.autosuggest&&(e.suggest=_.debounce(e.autosuggest.request,app.device.isMobile?300:150))}),e.on("mount",function(){if(window.$$&&(!window.$$||$$.fn.mask)&&(e.opts.pattern||e.opts.mask)){var t=$$(e.input);e.opts.pattern?t.mask(e.opts.pattern):e.opts.mask&&"phone"==e.opts.mask&&t.mask("(000) 000-0000")}}),e.on("update",function(){e.opts.value&&e.opts.onupdate||!e.opts.update||!e.opts.cursor?e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value,e.input.value=e.value):(e.value=e.opts.cursor.get(e.opts.update),e.input.value=e.value)}),e.onInput=function(t){var a=t.target.value;e.onUpdate(this,a),e.opts.autosuggest&&a&&(e.autosuggest.el=t.target,e.suggest(e.opts.autosuggest,a),document.removeEventListener("click",e.autosuggest.handleClickOutside),document.addEventListener("click",e.autosuggest.handleClickOutside))},e.onUpdate=function(t,a){e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,a),e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(t,a,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](a,e.opts.i),e.value=a},e.autosuggest={el:null,value:"",items:[],select:function(){e.autosuggest.update([],this.item)},request:function(t,a){a.length>1?app.request(t,a).then(function(t){if(t.items){if("1"==t.items.length&&a==t.items[0].text)return void(e.autosuggest.items=[]);e.autosuggest.update(t.items)}}):e.autosuggest.update([])},update:function(t,a){e.autosuggest.items=t,a?(e.update({id:a.id,value:a.text}),e.onUpdate(this,a.text)):e.update()},navigate:function(t){if([13,38,40].indexOf(t.keyCode)>-1&&_.isEmpty(e.autosuggest.items))return t.preventDefault(),!0;var a=e.autosuggest.items,s=a.length;if(s>0&&[13,38,40].indexOf(t.keyCode)>-1){t.preventDefault();for(var o=null,i=0;i<s;i++){var n=a[i];if(n.active){o=i;break}}null!=o&&(a[o].active=!1),38==t.keyCode?null==o||0==o?a[s-1].active=!0:a[o-1].active=!0:40==t.keyCode?null==o||o==s-1?a[0].active=!0:a[o+1].active=!0:13==t.keyCode&&null!=o&&e.autosuggest.select.call({item:a[o]}),e.update()}return!0},handleClickOutside:function(t){e.autosuggest.el&&!e.autosuggest.el.contains(t.target)&&setTimeout(function(){e.autosuggest.update([])},20),document.removeEventListener("click",e.autosuggest.handleClickOutside)}},e.on("unmount",function(){(e.opts.pattern||e.opts.mask)&&$$(e.input).unmask()})}),riot.tag2("ui-textarea",'<textarea name="textarea" oninput="{onInput}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" class="textarea textarea-{opts.size ? opts.size : \'m\'}" placeholder="{opts.placeholder}" __disabled="{typeof opts.disabled !== \'undefined\'}" autocomplete="off" spellcheck="false">{value}</textarea>',"","",function(t){var e=this;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.value=e.opts.value}),e.on("update",function(){e.opts.value&&e.opts.onupdate||!e.opts.update||!e.opts.cursor?e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value,e.textarea.value=e.value):(e.value=e.opts.cursor.get(e.opts.update),e.textarea.value=e.value)}),e.onInput=function(t){var a=t.target.value;e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,a),e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,a,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](a,e.opts.i),e.value=a}}),riot.tag2("ui-checkbox",'<label onclick="{onClick}" onupdate="{opts.onupdate ? opts.onupdate : ⁗self⁗}" class="checkbox {small : typeof opts.small !== \'undefined\'}" data-color="{opts.theme}"> <input type="checkbox" __checked="{value}"> <span class="checkbox-control"></span> <span class="checkbox-text fontSize-{opts.size ? opts.size : \'m\'} {opts.color ? \'c-\' + opts.color : null}">{opts.title}</span> </label>',"","",function(t){var e=this,a=!1;e.on("before-mount",function(){if(e.opts.update&&e.opts.cursor)if(e.opts.group){var t=e.opts.cursor.get(e.opts.update);e.value=t==e.opts.value}else e.value=e.opts.cursor.get(e.opts.update);else e.opts.update||(void 0===e.opts.value?e.opts.value=e.value=!1:e.value=e.opts.value)}),e.on("update",function(){a||!e.opts.group&&!_.isBoolean(e.opts.value)&&e.opts.update&&e.opts.cursor&&(e.value=e.opts.cursor.get(e.opts.update))}),e.onClick=function(){a=!0,e.opts.group?e.value||(_.each(e.parent.tags,function(t,a){"ui-checkbox"==a&&_.each(t,function(t){t.opts.group==e.opts.group&&t.update({value:!1})})}),e.value=!e.value):e.value=!e.value,e.opts.update&&e.opts.cursor&&(e.opts.group?e.opts.cursor.set(e.opts.update,e.opts.value):e.opts.cursor.set(e.opts.update,e.value)),e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,e.value,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](e.value,e.opts.i),setTimeout(function(){a=!1},5)}}),riot.tag2("jobs-favorites",'<div> <icon-like color="blueBright" size="xs"></icon-like>Мои избранные </div>',"",'class="jobs__search__nav__buttons__item" data-item="favorites"',function(t){}),riot.tag2("jobs-search-vacancy-form",'<div class="col-md-10"> <div class="input-group input-group-icon input-group-m" data-item="vacancy"> <ui-input name="vacancy" placeholder="Я ищу..." autosuggest="getSuggestVacancy" autosuggestsize="l"></ui-input> <div class="input-icon"> <svg class="input-svg input-svg-search" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 21 3 C 11.623004 3 4 10.623004 4 20 C 4 29.376996 11.623004 37 21 37 C 24.709505 37 28.140329 35.803849 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460556 28.087561 38 24.221313 38 20 C 38 10.623004 30.376996 3 21 3 z M 21 5 C 29.296116 5 36 11.703884 36 20 C 36 28.296116 29.296116 35 21 35 C 12.703884 35 6 28.296116 6 20 C 6 11.703884 12.703884 5 21 5 z"></path> </svg> </div> </div> </div> <div class="col-md-10"> <div class="input-group input-group-icon input-group-m" data-item="city"> <ui-input name="area" placeholder="Где?" autosuggest="getSuggestCity" autosuggestsize="l"></ui-input> <div class="input-icon"> <svg class="input-svg input-svg-location" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><path d="M50,5C31.3,5,16,19.6,16,37.6l0,0.1c0.4,12.1,6,25.1,16.8,38.9c7.9,10.1,15.6,16.7,16,17l1.3,1.1l1.3-1.1 c0.3-0.3,8-6.8,16-17C78,62.8,83.6,49.8,84,37.6C84,19.6,68.7,5,50,5z M64.1,74C58.3,81.5,52.5,87,50,89.3 C47.5,87,41.7,81.5,35.9,74c-7-8.9-15.4-22.5-15.9-36.4C20,21.8,33.5,9,50,9c16.5,0,30,12.8,30,28.6C79.6,51.5,71.1,65.1,64.1,74z M50,24c-8.3,0-15,6.7-15,15s6.7,15,15,15c8.3,0,15-6.7,15-15S58.3,24,50,24z M50,50c-6.1,0-11-4.9-11-11s4.9-11,11-11s11,4.9,11,11 S56.1,50,50,50z"></path></svg> </div> </div> </div> <div class="col-md-4"> <button onclick="{onSuccess}" onupdate="none" class="btn btn-m btn-primary-hover-success">Найти</button> </div>',"",'class="section row w100p"',function(t){var e=this,a=$$(e.root);e.on("before-mount",function(){if(window.$State){var t=$State.select("area").get(),a=Url.parseQuery().text;t&&e.area._tag.update({id:t.id,value:t.name}),a&&e.vacancy._tag.update({value:a})}}),e.on("mount",function(){$Sections=window.$Sections||{},$Sections.form=e,a.on("focus blur","input[type='text']",function(t){"focus"==t.type||"focusin"==t.type?$$(t.target).parent().addClass("focused"):$$(t.target).parent().removeClass("focused")}),a.find("input[type='text']").on("keydown.success",function(t){t.keyCode==KEY.ENTER&&(a.find(".input-autosuggest-item").length||e.onSuccess())})}),e.onSuccess=function(){var t=_.clean(e.vacancy._tag.value),a=e.area._tag.id;if(window.$State&&$Sections&&$Sections.filter){var s=Url.parseQuery();t?s.text=t:s.text&&delete s.text,a&&_.clean(e.area._tag.value)?(s.area=a,$State.select("area").set({id:a,name:e.area._tag.value})):s.area&&(delete s.area,$State.select("area").set(null)),$Sections.filter.onSearch($Sections.filter.getUrl(s))}else{var s={};t&&(s.text=t),a&&(s.area=a),_.isEmpty(s)||location.replace("/jobs/search/?"+Url.stringify(s))}}}),riot.tag2("jobs-search-panel",'<div class="row"> <div class="col-md-6"> <a class="jobs__search__nav__subpanel__logo" href="/jobs/search"></a> </div> <div class="col-md-9"> <div class="jobs__search__nav__form"> <div class="input-group input-group-icon input-group-m" data-item="vacancy"> <input type="text" class="input input-m" placeholder="Я ищу..."> <div class="input-icon"> <svg class="input-svg input-svg-search" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 21 3 C 11.623004 3 4 10.623004 4 20 C 4 29.376996 11.623004 37 21 37 C 24.709505 37 28.140329 35.803849 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460556 28.087561 38 24.221313 38 20 C 38 10.623004 30.376996 3 21 3 z M 21 5 C 29.296116 5 36 11.703884 36 20 C 36 28.296116 29.296116 35 21 35 C 12.703884 35 6 28.296116 6 20 C 6 11.703884 12.703884 5 21 5 z"></path> </svg> </div> </div> <div class="input-group input-group-icon input-group-m" data-item="city"> <input type="text" class="input input-m" placeholder="Где?"> <div class="input-icon"> <svg class="input-svg input-svg-location" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><path d="M50,5C31.3,5,16,19.6,16,37.6l0,0.1c0.4,12.1,6,25.1,16.8,38.9c7.9,10.1,15.6,16.7,16,17l1.3,1.1l1.3-1.1 c0.3-0.3,8-6.8,16-17C78,62.8,83.6,49.8,84,37.6C84,19.6,68.7,5,50,5z M64.1,74C58.3,81.5,52.5,87,50,89.3 C47.5,87,41.7,81.5,35.9,74c-7-8.9-15.4-22.5-15.9-36.4C20,21.8,33.5,9,50,9c16.5,0,30,12.8,30,28.6C79.6,51.5,71.1,65.1,64.1,74z M50,24c-8.3,0-15,6.7-15,15s6.7,15,15,15c8.3,0,15-6.7,15-15S58.3,24,50,24z M50,50c-6.1,0-11-4.9-11-11s4.9-11,11-11s11,4.9,11,11 S56.1,50,50,50z"></path></svg> </div> </div> </div> </div> <div class="col-md-4"> <div class="jobs__search__nav__options"> <jobs-search-panel-settings></jobs-search-panel-settings> <jobs-search-panel-views></jobs-search-panel-views> </div> </div> </div>',"",'class="jobs__search__nav__subpanel section container"',function(t){}),riot.tag2("jobs-search-panel-settings",'<div class="jobs__search__nav__options__item" data-item="settings" data-active="{active}"> <div onclick="{show}" class="jobs__search__nav__options__item__button"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M0 3h9v2H0V3zm0 4h6v2H0V7zm0 4h8v2H0v-2zm13-8v6l1.5-1.5L16 9l-4 4-4-4 1.5-1.5L11 9V3h2z"></path></svg> </div> <div class="jobs__search__nav__popup" data-active="{active}"> <div class="jobs__search__nav__options__list__items"> <div class="jobs__search__nav__options__list"> <label each="{item in $store.jobs.dictionary.get(⁗vacancy_search_order⁗)}" no-reorder class="jobs__search__nav__options__list__item"> <input onclick="{onCheck.order}" onupdate="none" type="radio" name="order_by" value="{item.id}" __checked="{$State.get(⁗order_by⁗) == item.id}"> {item.name} </label> </div> <div class="jobs__search__nav__options__list"> <label each="{item in $store.jobs.dictionary.get(⁗vacancy_search_period⁗)}" no-reorder class="jobs__search__nav__options__list__item"> <input onclick="{onCheck.period}" onupdate="none" type="radio" name="period" value="{item.id}" __checked="{$State.get(⁗period⁗) == item.id}"> {item.name} </label> </div> </div> <div onclick="{success}" class="btn-default btn-m">Применить</div> </div> </div>',"",'class="display-block"',function(t){var e=this;e.on("before-mount",function(){e.state={order_by:$State.get("order_by"),period:$State.get("period")}}),e.show=function(){e.active=!e.active},e.onCheck={order:function(){e.state.order_by=this.item.id},period:function(){e.state.period=this.item.id}},e.success=function(){e.active=!1,$State.set(_.extend($State.get(),e.state));var t=Url.parseQuery();t.order_by=e.state.order_by,t.period=e.state.period,$Sections.filter.onSearch($Sections.filter.getUrl(t))},e.hide=function(){e.update({active:!1})},e.handleClickOutside=function(t){e.root.contains(t.target)||e.update({active:!1})},e.on("updated",function(){e.active?document.addEventListener("click",e.handleClickOutside):document.removeEventListener("click",e.handleClickOutside)})}),riot.tag2("jobs-search-panel-views",'<div onclick="{onList.less}" class="jobs__search__nav__options__item" data-item="list-less" data-balloon="С описанием" data-balloon-pos="down" data-active="{list == ⁗less⁗}"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2 3h12v4H2V3zm0 6h12v4H2V9z"></path></svg> </div> <div onclick="{onList.more}" class="jobs__search__nav__options__item" data-item="list-more" data-balloon="Без описания" data-balloon-pos="down" data-active="{list == ⁗more⁗}"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2 3h12v2H2V3zm0 4h12v2H2V7zm0 4h12v2H2v-2z"></path></svg> </div>',"",'class="flex-centered"',function(t){var e=this,a=_.getCookie("jobsSearchList");e.list=a?a:"less",e.onList={less:function(){e.list="less",app.$dom.root.attr("data-list",e.list),_.setCookie("jobsSearchList",e.list,{path:"/"})},more:function(){e.list="more",app.$dom.root.attr("data-list",e.list),_.setCookie("jobsSearchList",e.list,{path:"/"})}}}),riot.tag2("jobs-search-filter",'<div class="jobs__search__result">Найдено {$store.jobs.found} вакансий</div> <div class="jobs__search__filter"> <jobs-search-filter-block item="area" name="Регион" active="{true}"></jobs-search-filter-block> <jobs-search-filter-block item="metro" name="Метро" active="{true}"></jobs-search-filter-block> <jobs-search-filter-salary item="salary" name="Зарплата" active="{true}"></jobs-search-filter-salary> <jobs-search-filter-block item="specialization" name="Профобласть" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="industry" name="Отрасль компании" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="experience" name="Опыт работы" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="employment" name="Тип занятости" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="schedule" name="График работы" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="label" name="Исключения" active="{false}"></jobs-search-filter-block> </div>',"",'class="section jobs__search__sidebar"',function(t){
var e=this;e.on("mount",function(){$Sections.filter=e,window.addEventListener("popstate",function(t){location.reload()},!1)}),e.onSearch=function(t,a){if(t){if(app.$dom.body.scrollTop()>94&&app.$dom.body.scrollTop(94),!a&&$State.get("page")>0){$State.select("page").set(0);var s=Url.parseQuery(t.replace($store.jobs.apiUrl,""));delete s.page,t=e.getUrl(s)}app.$dom.root.attr("data-loading",!0),app.request("getJobsSearch",encodeURIComponent(t)).then(function(s){$store.jobs.clusters=s.clusters,$store.jobs.items=s.items,$store.jobs.found=s.found;var o=Url.parseQuery(t.replace($store.jobs.apiUrl,"").replace(/^&/,""));o.clusters&&delete o.clusters,o.text&&(o.text=o.text.replace(/\+/g," ")),History.pushState(null,null,_.isEmpty(o)?"/jobs/search":"?"+Url.stringify(o)),e.update(),$Sections.content?$Sections.content.update():$Sections.content=riot.mount("jobs-search-content","jobs-search-content-client")[0],a||($State.select("pages").set(s.pages?parseInt(s.pages):0),$Sections.pages.update()),app.$dom.root.removeAttr("data-loading")})}},e.getUrl=function(t){if(t&&_.isObject(t))return t.clusters="true",$store.jobs.apiUrl+Url.stringify(t)},e.onSelect=function(){var t=this.item.url,a=Url.parseQuery(t.replace($store.jobs.apiUrl,""));$State.select(this.parent.opts.item).set({id:a[this.parent.opts.item],name:this.item.name}),"area"==this.parent.opts.item&&$Sections.form.area._tag.update({id:a[this.parent.opts.item],value:this.item.name}),e.onSearch(this.item.url)},e.onRemove=function(){$State.select(this.opts.item).set(null);var t=Url.parseQuery();delete t[this.opts.item],"area"==this.opts.item&&$Sections.form.area._tag.update({id:null,value:""}),e.onSearch($Sections.filter.getUrl(t))}}),riot.tag2("jobs-search-filter-block",'<div class="jobs__search__filter__block__content" data-active="{active ? ⁗true⁗ : ⁗false⁗}"> <div onclick="{onOpener}" class="jobs__search__filter__title">{opts.name}</div> <div class="jobs__search__filter__block__opener"></div> <div onclick="{parent.onRemove}" onupdate="none" if="{$store.jobs.state && $State.get(opts.item)}" class="jobs__search__filter__item" data-select="true">{$State.get(opts.item).name}</div> <div name="list" class="jobs__search__filter__items" data-animate="{isAnimate}"> <div name="container" class="jobs__search__filter__items__list"> <div onclick="{parent.parent.onSelect}" onupdate="none" each="{item, i in _.sortArray($store.jobs[opts.item], ⁗count⁗, ⁗desc⁗)}" no-reorder class="jobs__search__filter__item" data-hidden="{shortList && shortItems.indexOf(parent.opts.item) !== -1 && i > 2}"> <div class="jobs__search__filter__item__title">{item.name}</div> <div class="jobs__search__filter__item__count">{item.count}</div> </div> <div onclick="{onMore}" if="{shortList && shortItems.indexOf(opts.item) !== -1 && $store.jobs[opts.item].length > 3}" class="jobs__search__filter__more">Еще {$store.jobs[opts.item].length - 3}</div> </div> </div> </div>',"",'class="jobs__search__filter__block" data-hidden="{_.isEmpty($store.jobs[opts.item]) && !$State.get(opts.item)}"',function(t){var e=this;e.shortItems=["area","metro","specialization","industry"],e.list=$$(e.list),e.container=$$(e.container),e.shortList=!0,e.on("before-mount",function(){e.active=e.opts.active}),e.on("mount",function(){e.active&&e.list.css("height",e.container.height()+"px")}),e.on("update",function(){if($store.jobs.clusters){var t=_.findWhere($store.jobs.clusters,{id:"specialization"==e.opts.item?"professional_area":e.opts.item});$store.jobs[e.opts.item]=t?t.items:null,e.active&&e.isMounted&&!e.isAnimate&&(e.shortList=!0,e.one("updated",function(){e.list.css("height",e.container.height()+"px")}))}}),e.onOpener=function(){e.isAnimate=!0,e.active=!e.active,e.active?e.list.css("height",e.container.height()+"px"):e.list.css("height","0px"),setTimeout(function(){e.isAnimate=!1},5)},e.onMore=function(){e.isAnimate=!0,e.shortList=!1,e.one("updated",function(){e.list.css("height",e.container.height()+"px")}),setTimeout(function(){e.isAnimate=!1},5)}}),riot.tag2("jobs-search-filter-salary",'<div class="jobs__search__filter__block__content" data-active="{active ? ⁗true⁗ : ⁗false⁗}"> <div onclick="{opener}" class="jobs__search__filter__title">{opts.name}</div> <div class="jobs__search__filter__block__opener"></div> <div class="jobs__search__filter__salary"> от {onFormat(salary)}<svg class="jobs__search__filter__salary__rub" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><g><path class="jobs__search__filter__salary__rub__color" d="M58.4,56.2c13.3,0,24.1-10.8,24.1-24.1S71.7,8,58.4,8H33.9v5.6V18v28.2h-9v10h9v8.3h-9v10h9v12.4h10V74.5h22.7v-10H43.9 v-8.3H58.4z M43.9,18h9.7c12.6,0,18.9,6.3,18.9,14.1s-6.3,14.1-14.1,14.1H43.9V18z"></path></g></svg> </div> <div class="jobs__search__filter__range mb-xs"> <input name="slider" onchange="{onChange}" oninput="{onRange}" onupdate="none" type="range" min="10000" max="250000" step="5000" class="range range-s range-blueBright"> </div> <div onclick="{onRemove}" onupdate="none" if="{Url.parseQuery().salary}" class="jobs__search__filter__item" data-select="true">от {Url.parseQuery().salary} руб.</div> <div name="list" class="jobs__search__filter__items" data-animate="{isAnimate}"> <div name="container" class="jobs__search__filter__items__list"> <div onclick="{onSelect}" onupdate="none" each="{item in _.sortArray($store.jobs[opts.item], ⁗count⁗, ⁗desc⁗)}" no-reorder class="jobs__search__filter__item"> <div class="jobs__search__filter__item__title">{item.name}</div> <div class="jobs__search__filter__item__count">{item.count}</div> </div> </div> </div> </div>',"",'class="jobs__search__filter__block" data-hidden="{_.isEmpty($store.jobs[opts.item]) && $store.jobs.found}"',function(t){var e=this;e.default="25000",e.salary=Url.parseQuery().salary?Url.parseQuery().salary:e.default,e.list=$$(e.list),e.container=$$(e.container),e.on("before-mount",function(){e.active=e.opts.active,e.slider.value=e.salary}),e.on("mount",function(){e.active&&e.list.css("height",e.container.height()+"px")}),e.on("update",function(){if($store.jobs.clusters&&!e.isRange){var t=_.findWhere($store.jobs.clusters,{id:e.opts.item});$store.jobs[e.opts.item]=t?t.items:null,e.active&&e.isMounted&&!e.isAnimate&&e.one("updated",function(){e.list.css("height",e.container.height()+"px")})}}),e.onSelect=function(){var t=this.item.name.match(/\d+/);t&&t[0]&&(e.slider.value=t[0],e.salary=t[0],e.update()),e.parent.onSelect.call(this)},e.onRemove=function(){e.slider.value=e.default,e.salary=e.default,e.parent.onRemove.call(this)},e.opener=function(){e.isAnimate=!0,e.active=!e.active,e.active?e.list.css("height",e.container.height()+"px"):e.list.css("height","0px"),setTimeout(function(){e.isAnimate=!1},5)},e.onRange=function(t){e.isRange=!0,e.update({salary:t.target.value}),setTimeout(function(){e.isRange=!1},5)},e.onChange=function(t){var e=t.target.value,a=Url.parseQuery();a.salary=e,a.only_with_salary="true",$Sections.filter.onSearch($Sections.filter.getUrl(a))},e.onFormat=function(t){return _.numberFormat(t,0,".",",")}}),riot.tag2("jobs-search-content-client",'<div class="jobs__list"> <div if="{!$store.jobs.items.length}" class="jobs__list__empty text-center"> <h3 class="c-silver mb-s">Нет подходящих результатов</h3> <p class="mb25">попробуйте смягчить условия поиска</p> <a onclick="{onBack}" onupdate="none" href="/jobs/search/" class="btn btn-l btn-primary-hover-success">Вернуться на шаг назад</a> </div> <div each="{item, i in $store.jobs.items}" no-reorder class="jobs__list__item"> <div class="jobs__list__item__content"> <a target="_blank" href="/jobs/vacancy/{item.id}/{link(item.employer.name)}" class="jobs__list__item__title">{item.name}</a> <div if="{item.salary}" class="jobs__list__item__salary"> {\'от\' : item.salary.from} {_.numberFormat(item.salary.from, 0, ⁗.⁗, ⁗ ⁗)} <span if="{item.salary.to}">до {_.numberFormat(item.salary.to, 0, ⁗.⁗, ⁗ ⁗)}</span> {currency(item.salary.currency)} </div> <div class="jobs__list__item__text"> <strong>Требования:</strong> <jobs-search-content-raw content="{item.snippet.requirement}"></jobs-search-content-raw> </div> <div class="jobs__list__item__company"> <div class="jobs__list__item__company__text" data-trusted="{item.employer.trusted}">{item.employer.name}</div> </div> <div class="jobs__list__item__address"> <span class="jobs__list__item__address__city">{item.area.name}</span><span if="{item.address && item.address.metro}" class="jobs__list__item__address__metro"><span class="c-gray">&nbsp;&nbsp;•&nbsp;&nbsp;</span>{item.address.metro.station_name}</span>&nbsp;&nbsp;•&nbsp;&nbsp;{moment(item.published_at).format(⁗D MMMM⁗)} </div> <div class="jobs__list__item__buttons"> <icon-like color="blueBright" size="xs"></icon-like> <div class="btn-default btn-m">Откликнуться</div> </div> </div> </div> </div>',"",'class="section jobs__search__content"',function(t){var e=this;e.onBack=function(){History.back()},e.link=function(t){return t.replace(/\s+/gi,"-")},e.currency=function(t){if(t)return _.findWhere($store.jobs.dictionary.get("currency"),{code:t}).abbr}}),riot.tag2("jobs-search-content-raw","","","",function(t){this.root.innerHTML=t.content}),riot.tag2("jobs-search-pages-client",'<div class="row"> <div class="col-md-offset-19 col-md-5"> <div class="row jobs__search__pages__items"> <div if="{$State.get(⁗pages⁗) > 1}" class="jobs__search__pages__arrows"> <div onclick="{onPrev}" onupdate="none" class="jobs__search__pages__arrow" data-arrow="prev" data-active="{$State.get(⁗page⁗) > 0}">Alt + ←</div> <div onclick="{onNext}" onupdate="none" class="jobs__search__pages__arrow" data-arrow="next" data-active="{$State.get(⁗page⁗) + 1 < $State.get(⁗pages⁗)}">Alt + →</div> </div> <virtual each="{item, i in get.pages()}" no-reorder> <span onclick="{onSelect}" class="col-md-4 jobs__search__pages__item" data-active="{item == $State.get(⁗page⁗)}">{item + 1}</span> </virtual> </div> </div> </div>',"",'class="section container jobs__search__pages"',function(t){var e=this;e.perPage=5,e.on("mount",function(){app.$dom.document.on("keydown",function(t){t.altKey&&(37==t.keyCode?e.onPrev():39==t.keyCode&&e.onNext())})}),e.onSelect=function(){e.changePage(parseInt(this.item))},e.onNext=function(){$State.get("page")+1<$State.get("pages")&&(e.changePage($State.get("page")+1),e.update())},e.onPrev=function(){$State.get("page")>0&&(e.changePage($State.get("page")-1),e.update())},e.changePage=function(t){$State.select("page").set(t);var e=Url.parseQuery();t>0?e.page=t:e.page&&delete e.page,$Sections.filter.onSearch($Sections.filter.getUrl(e),!0)},e.get={pages:function(){var t=$State.get("page"),a=$State.get("pages");if(!(a<2)){if(t+e.perPage<=a)return t>0?_.range(t-1,t+(e.perPage-1)):_.range(t,t+e.perPage);var s=a-t;return s=2,t-s<0&&(s=t),a-(t-s)>e.perPage&&(a-=1),_.range(t-s,a)}}}}),riot.tag2("icon-like",'<svg class="icon-like {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M70.459,13.858c11.515,0,20.846,9.334,20.846,20.846c0,23.3-34.423,44.555-41.306,51.438 C43.152,79.294,8.695,58.004,8.695,34.704c0-11.512,9.333-20.846,20.847-20.846c10.153,0,18.602,7.261,20.457,16.874 C51.856,21.119,60.305,13.858,70.459,13.858 M70.459,7.738c-8.079,0-15.467,3.606-20.459,9.412 c-4.991-5.806-12.378-9.412-20.458-9.412c-14.87,0-26.967,12.097-26.967,26.966c0,21.608,22.979,39.693,36.708,50.5 c2.831,2.228,5.275,4.151,6.389,5.265l4.328,4.329l4.329-4.328c1.123-1.123,3.576-3.055,6.418-5.292 c13.719-10.799,36.68-28.873,36.68-50.474C97.425,19.835,85.328,7.738,70.459,7.738L70.459,7.738z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-location",'<svg class="icon-location {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 24 30" style="enable-background:new 0 0 24 24;" xml:space="preserve"><g><path d="M6.321,14.839l5.285,5.285c0.109,0.109,0.251,0.163,0.394,0.163s0.285-0.054,0.394-0.163l5.297-5.298 c0.602-0.641,1.085-1.369,1.438-2.161c0.448-0.999,0.675-2.067,0.675-3.173c0-4.303-3.501-7.804-7.804-7.804 S4.196,5.188,4.196,9.492c0,1.106,0.227,2.174,0.674,3.172C5.223,13.457,5.707,14.185,6.321,14.839z M12,2.802 c3.688,0,6.689,3.001,6.689,6.689c0,0.948-0.194,1.862-0.578,2.719c-0.302,0.68-0.717,1.303-1.22,1.841L12,18.942l-4.878-4.878 c-0.516-0.55-0.931-1.174-1.234-1.855c-0.383-0.855-0.578-1.769-0.578-2.717C5.311,5.803,8.312,2.802,12,2.802z"></path><path d="M22.01,21.595l-1.672-5.574l-1.068,0.32l1.457,4.857H3.273l1.457-4.857l-1.068-0.32L1.99,21.595 c-0.051,0.169-0.019,0.352,0.087,0.493c0.105,0.142,0.271,0.225,0.447,0.225h18.953c0.176,0,0.342-0.083,0.447-0.225 C22.029,21.947,22.061,21.764,22.01,21.595z"></path><path d="M12,12.836c1.844,0,3.345-1.5,3.345-3.345S13.844,6.147,12,6.147s-3.345,1.5-3.345,3.345S10.156,12.836,12,12.836z M12,7.262c1.229,0,2.23,1,2.23,2.23s-1,2.23-2.23,2.23s-2.23-1-2.23-2.23S10.771,7.262,12,7.262z"></path></g></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-fb",'<svg class="icon-fb {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M60.5 32.5c-1.7-.6-4.8-.7-6.5-.7-5.1 0-7.2 4.1-7.2 8.9v3.2h-3v6.4h3V68H53V50.3h6v-6.4h-6v-3.8c0-1.6 2.6-2.4 3.7-2.4 1 0 2 .2 2.9.5l.9-5.7"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-vk",'<svg class="icon-vk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.7 49.5v-.1c2.3-1 3.5-3.1 3.5-5.6 0-5.6-5.2-6-9.5-6h-9.9v26h10.8c5.1 0 10.3-2 10.3-8 0-3.4-2-5.6-5.2-6.3zm-8.9-7h1.9c1.9 0 3.9.2 3.9 2.6 0 2.7-2 2.9-4.1 2.9h-1.8v-5.5h.1zM50 59h-2.2v-6.5h3c2.3 0 4.5.3 4.5 3.2 0 3.1-2.9 3.3-5.3 3.3z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-tw",'<svg class="icon-tw {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M63.8 41.8c1.5-.8 2.6-2.1 3.1-3.6-1.4.7-2.9 1.3-4.5 1.6-1.3-1.3-3.2-2-5.1-2-3.9 0-7 2.9-7 6.5 0 .5 0 1 .2 1.5-5.6-.4-10.9-2.8-14.5-6.9-.6 1-.9 2.1-.9 3.3 0 2.2 1.2 4.2 3.1 5.4-1.2 0-2.2-.3-3.2-.8v.1c-.1 3.1 2.3 5.7 5.6 6.3-.6.2-1.2.2-1.9.2-.4 0-.9 0-1.3-.1.9 2.6 3.6 4.5 6.5 4.5-2.5 1.8-5.5 2.8-8.7 2.8-.5 0-1.1 0-1.6-.1 3.2 1.9 6.9 2.9 10.8 2.9 8.1 0 14.9-4 18.2-10.9 1.1-2.4 1.8-4.9 1.8-7.5v-.9c1.4-.9 2.6-2 3.5-3.3-1.4.5-2.7.9-4.1 1z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-dk",'<svg class="icon-dk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.3 52.2c-2 .9-4.1 1.5-6.3 1.5-2.3 0-4.1-.6-6.2-1.5-.4-.2-.8-.3-1.3-.3-1.5 0-2.7 1.2-2.7 2.6 0 2.6 4.5 3.5 6.6 4l-5.3 4.9c-.5.5-.8 1.1-.8 1.8 0 1.4 1.2 2.6 2.7 2.6.7 0 1.4-.2 1.9-.7l5-4.7 5 4.7c.5.5 1.2.7 1.9.7 1.5 0 2.7-1.2 2.7-2.6 0-.7-.3-1.3-.8-1.8l-5.3-4.9c2.2-.4 6.6-1.5 6.6-4 0-1.3-1.2-2.6-2.7-2.6-.2-.1-.6 0-1 .3M50.1 34.3c-5.3 0-9.2 4-9.2 8.7 0 4.6 4 8.7 9.2 8.7 5.3 0 9.2-4 9.2-8.7 0-4.6-4-8.7-9.2-8.7zm0 12.3c-2.2 0-3.8-1.7-3.8-3.6 0-1.9 1.7-3.6 3.8-3.6 2.2 0 3.8 1.7 3.8 3.6 0 1.9-1.7 3.6-3.8 3.6z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-gl",'<svg class="icon-gl {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" enable-background="new 0 0 128 128" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd"></rect><path clip-rule="evenodd" d="M40.654,55.935v16.13 c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194 s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877 c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727 c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823 H128V56.742H113.912z" fill="#fff" fill-rule="evenodd"></path></svg>',"",'class="icon"',function(t){});