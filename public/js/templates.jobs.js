riot.tag2("section-auth",'<div if="{app.device.isPhone}" class="oScreen__buttons" data-pos="top-right"> <div onclick="{close}" class="button__close" data-color="gray"></div> </div> <auth-signin></auth-signin> <auth-remember></auth-remember> <auth-signup></auth-signup>',"",'class="{app.device.isPhone ? \'section\' : \'oScreen\'} zIndex-100 pos-fixed" data-open="false" style="display:none"',function(e){var t=this;t.active=!1,t.ymaps=!1,t.firstOpen=!1,t.on("mount",function(){location.href.match(/\?signin/)?$afterlag.run(function(){t.open("signin")}):location.href.match(/\?signup/)&&$afterlag.run(function(){t.open("signup",!!location.href.match(/\&plan=premium/)&&"premium")}),app.tag("section-notify",function(e){t.notify=e}),window.ymapsReady=function(){t.ymaps=window.ymaps||{},t.ymaps.geolocation&&t.ymaps.geolocation.city&&t.update({location:{country:t.ymaps.geolocation.country,city:t.ymaps.geolocation.city,region:t.ymaps.geolocation.region}})},app.$dom.window.on("message",function(e){var i=e.originalEvent.data;if(i&&i.user){var s=_.isJSON(i.user)&&JSON.parse(i.user)||i.user;if(s.error)app.tag("section-notify").show({color:"danger",text:"Ошибка проведения верификации, повторите попытку чуть позже"});else{var a=JSON.stringify(s);$$.post({url:"/auth",data:{oauth:a},dataType:"json",success:function(e,i){var o={oauth:s.channel,avatar:s.avatar,name:s.name,surname:s.surname};e.user&&(o.avatar=e.user.photo||o.avatar,o.name=e.user.name,o.surname=e.user.surname),app.tag("section-loader-user").show({user:o}).then(function(){t.tags["auth-"+e.auth].form.removeAttr("target"),t.tags["auth-"+e.auth].form.find("input[name=oauth]").val(a),t.submit(t.tags["auth-"+e.auth].form)})},error:function(){var e="Ошибка авторизации, повторите попытку чуть позже";t.auth.notify?t.auth.notify.show({color:"danger",text:"Ошибка авторизации, повторите попытку чуть позже"}):alert(e)}})}}})}),t.referer=function(){return app.metrika.get("referer")},t.notifyOAuth=function(){app.metrika.get("notify.oauth")&&!location.hash.match(/oauth/)||(app.tag("section-notify").show({color:"info",text:"Для регистрации/авторизации в один клик, выберите свою социальную сеть",pos:app.device.isPhone?"top-left":"bottom-left",timeout:app.device.isPhone?3.5:5}),app.metrika.set("notify.oauth",!0))},t.onNotify=function(e,i,s){e&&(t.notify?t.notify.show({color:i,text:e,timeout:s||1.5}):alert(e))},t.oauth=function(e){var t=e.currentTarget.getAttribute("data-social");window.open("/auth/"+t,"","width=600,height=400,left=350,top=170,status=no,toolbar=no,menubar=no")},t.submit=function(e){$afterlag.run(function(){e.submit()},{iterations:5,timeout:500,delay:200})},t.open=function(e,i){t.firstOpen?t._open(e,i):(t.firstOpen=!0,t.root.style.display="block",$afterlag.run(function(){t._open(e,i)}))},t._open=function(e,i){t.active=!0,t.root.setAttribute("data-open",!0);var s=t.tags["auth-"+e];if(s&&s.open&&s.open(i),t.ymaps===!1){t.ymaps="load";var a=document.createElement("script");a.src="https://api-maps.yandex.ru/2.0-stable/?load=package.standard&lang=ru-RU&onload=ymapsReady",document.head.appendChild(a)}},t.close=function(){t.root.setAttribute("data-open",!1);var e=t.tags["auth-"+t.section];e&&e.active&&e.close()}}),riot.tag2("auth-social",'<div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-duration-m" data-balloon="Войти через Facebook" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="fb"> <icon-fb color="white"></icon-fb> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-xs anim-duration-m" data-balloon="Войти через ВКонтакте" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="vk"> <icon-vk color="white"></icon-vk> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-s anim-duration-m" data-balloon="Войти через Twitter" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="tw"> <icon-tw color="white"></icon-tw> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-m anim-duration-m" data-balloon="Войти через Одноклассники" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="dk"> <icon-dk color="white"></icon-dk> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-l anim-duration-m" data-balloon="Войти через Google" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="gl"> <icon-glc></icon-glc> </div> </div>',"",'class="section auth__social"',function(e){}),riot.tag2("auth-signin",'<form ref="form" method="post" action="/auth" class="auth__form anim-group1 anim-scale{\'-ease\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="oauth" value="false"> <input type="hidden" name="auth" value="signin"> <input type="hidden" name="logined" value="true"> <input type="hidden" name="referer" riot-value="{parent.referer()}"> <input type="hidden" name="country" riot-value="{parent.location.country}"> <input type="hidden" name="city" riot-value="{parent.location.city}"> <input type="hidden" name="region" riot-value="{parent.location.region}"> <div if="{!app.device.isPhone}" class="auth__close anim-group3 anim-lr anim-delay-xs anim-duration-m"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Авторизация </div> <div class="auth__body"> <div class="mb-m input-group input-group-icon" data-errballoon="{!validate.login.valid ? validate.login.text : null}"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl {input-error : !validate.login.valid}" type="text" placeholder="Логин (ваш email)" autocomplete="off" name="login" ref="login"> <div class="input-icon"> <svg class="input-svg input-svg-login" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div class="mb-xs input-group input-group-icon" data-errballoon="{!validate.password.valid ? validate.password.text : null}"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl {input-error : !validate.password.valid}" type="password" placeholder="Пароль" autocomplete="off" name="password" ref="password"> <div class="input-icon"> <svg class="input-svg input-svg-password" xmlns="http://www.w3.org/2000/svg" viewbox="0 -6 30 30" enable-background="new 0 -6 30 30"> <path class="input-svg-color" d="M21.6 8.3c-.2-.2-.5-.3-.9-.3h-.7v-2.6c0-1.3-.5-2.4-1.4-3.2-.9-.8-2.1-1.2-3.6-1.2s-2.7.4-3.6 1.2c-.9.8-1.4 1.9-1.4 3.2v2.6h-.7c-.3 0-.7.1-.9.4-.3.2-.4.5-.4.8v6.1c0 .3.1.5.3.7.2.2.4.3.7.4 1.9.4 3.9.6 6 .6 2 0 4-.2 5.9-.6.3-.1.5-.2.7-.4.2-.2.3-.4.3-.7v-6.1c.1-.3 0-.6-.3-.9zm-8.6-2.4c0-1.3.7-1.9 2-1.9s2 .6 2 1.9v2.1h-4v-2.1z"></path> </svg> </div> </div> <div class="mb-m xs-mb-xs pr-xxs pb-xs text-right"> <span onclick="{show.remember}" onupdate="none" class="link-gray-hover-primary text-uppercase fontSize-xs fontFamily-helvetica letterSpacing-l cursor-pointer">Забыли пароль?</span> </div> <div onclick="{sendForm}" onupdate="none" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} {btn-loading : loading}"><span class="plr-s">Войти</span></div> <div if="{!app.device.isPhone}" class="mt-xs pt-m pb-xs text-center"> <a onclick="{show.signup}" onupdate="none" class="link-gray-hover-primary text-uppercase fontSize-s fontFamily-helvetica letterSpacing-l cursor-pointer">У вас нет аккаунта?</a> </div> </div> <auth-social></auth-social> </form>',"",'class="section auth" data-active="false" data-form="signin"',function(e){var t=this;t.active=!1,t.loading=!1,t.validate={login:{valid:!0,text:"Введите свой логин"},password:{valid:!0,text:"Введите свой пароль"}},t.on("mount",function(){t.auth=t.parent,t.form=$$(t.refs.form),t.animate=new app.plugins.animate(t.root)}),t.on("updated",function(){!t.active&&t.animate.active&&(t.root.setAttribute("data-active",!1),t.animate.hide())}),t.open=function(){t.active=!0,t.auth.section="signin",t.root.setAttribute("data-active",!0),t.animate.show(function(){location.hash.match(/activate/)?t.auth.onNotify("Ваш доступ успешно активирован, можно использовать свой логин и пароль для входа","info",5):t.parent.notifyOAuth()})},t.show={signup:function(){t.active=!1,t.root.setAttribute("data-active",!1),t.animate.hide(),t.auth.tags["auth-signup"].open()},remember:function(){t.active=!1,t.root.setAttribute("data-active",!1),t.animate.hide(),t.auth.tags["auth-remember"].open()}},t.onKeydown=function(e){return 13==e.which&&(e.preventDefault(),t.sendForm()),!0},t.sendForm=function(){if(!t.loading){var e={auth:"signin",login:_.clean(t.refs.login.value,[]),password:_.clean(t.refs.password.value,[])},i=t.validator(e);t.update({loading:i}),i&&setTimeout(function(){$$.post({url:"/auth",data:e,dataType:"json",success:function(e,i){e&&e.status&&("error"==e.status?t.auth.onNotify("Не верный логин и/или пароль","danger"):"notActivate"==e.status?t.auth.onNotify("Ваш доступ еще не активирован, проверьте свой e-mail c письмом активации","warning"):"OK"==e.status&&app.tag("section-loader-user").show({user:e.user}).then(function(){t.parent.submit(t.form)}))},error:function(){t.auth.onNotify("Ошибка авторизации, повторите попытку чуть позже","danger")},complete:function(e,i){t.update({loading:!1})}})},300)}},t.validator=function(e){return t.validate.login.valid=!0,t.validate.password.valid=!0,_.each(e,function(e,i){"login"!==i||e.length?"password"!==i||e.length||(t.validate.password.valid=!1):t.validate.login.valid=!1}),_.every(_.pluck(_.values(t.validate),"valid"))},t.close=function(){t.active=!1,app.device.isPhone?t.root.setAttribute("data-active",!1):t.animate.hide(function(){t.root.setAttribute("data-active",!1)}),t.auth.section=null,t.auth.close()}}),riot.tag2("auth-signup",'<form ref="form" method="post" action="/auth" class="auth__form anim-group1 anim-scale{\'-ease\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}" target="sendform"> <input type="hidden" name="oauth" value="false"> <input type="hidden" name="auth" value="signup"> <input type="hidden" name="logined" value="true"> <input type="hidden" name="referer" riot-value="{parent.referer()}"> <input type="hidden" name="country" riot-value="{parent.location.country}"> <input type="hidden" name="city" riot-value="{parent.location.city}"> <input type="hidden" name="region" riot-value="{parent.location.region}"> <div if="{!app.device.isPhone}" class="auth__close anim-group3 anim-lr anim-delay-xs anim-duration-m"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Регистрация </div> <div class="auth__body"> <div class="pos-abs-full anim anim-bt-ease anim-duration-l anim-delay-xs {success ? \'animated\' : \'pointerEvents-none\'}"> <div class="flex-column-centered pos-centered pt-l xs-pt0 {app.device.isPhone ? \'w95p\' : \'w80p\'}"> <div class="flex-centered w100 h100 bg-green borderRadius-circle anim anim-scale anim-delay-m {success ? \'animated\' : \'pointerEvents-none\'}"> <svg class="w80 h80" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 40 40"> <path d="M15.57,26.49l-3.87-3.7a2.52,2.52,0,0,1,0-3.49l0,0a2.35,2.35,0,0,1,3.39,0L17,21l8-7.35a2.43,2.43,0,0,1,3.3,0l0,0a2.12,2.12,0,0,1,0,3.12L18.16,26.49a1.91,1.91,0,0,1-2.59,0" class="fill-white"></path> </svg> </div> <h2 class="c-green {\'fontSize-28\' : app.device.isPhone} mt-l xs-mt-m fontWeight-bold">Отлично, осталось активировать!</h2> <h3 class="c-gray mt-m xs-mt-s fontWeight-normal {app.device.isPhone ? \'fontSize-22 lineHeight-32\' : \'lineHeight-36\'}">Проверьте <a if="{emailLink()}" href="{emailLink()}" class="link-blue link-underline">свой e-mail</a><span if="{!emailLink()}">свой e-mail</span>, на него отправлено письмо для активации аккаунта.</h3> </div> </div> <div class="anim anim-scale-ease anim-duration-m {success ? \'pointerEvents-none\' : \'animated\'}"> <div class="mb45 xs-mb-m xs-pb-xxs"> <div class="switcher-group"> <div class="switcher-group-container" style="width:240px"> <input type="radio" name="plan" value="free" __checked="{plan == ⁗free⁗}"> <label onclick="{changePlan}">Free</label> <input type="radio" name="plan" value="premium" __checked="{plan == ⁗premium⁗}"> <label onclick="{changePlan}">Premium</label> <span class="switcher-group-switch"></span> </div> </div> </div> <div class="mb-m input-group input-group-icon" data-errballoon="{!validate.login.valid ? validate.login.text : null}"> <input class="input input-xl {input-error : !validate.login.valid}" type="text" placeholder="Ваш email (логин)" autocomplete="off" name="login" ref="login"> <div class="input-icon"> <svg class="input-svg input-svg-login" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div class="mb-xs input-group input-group-icon" data-errballoon="{!validate.password.valid ? validate.password.text : null}"> <input class="input input-xl {input-error : !validate.password.valid}" type="text" placeholder="Пароль (мин. из 6 сим-ов)" autocomplete="off" name="password" ref="password"> <div class="input-icon"> <svg class="input-svg input-svg-password" xmlns="http://www.w3.org/2000/svg" viewbox="0 -6 30 30" enable-background="new 0 -6 30 30"> <path class="input-svg-color" d="M21.6 8.3c-.2-.2-.5-.3-.9-.3h-.7v-2.6c0-1.3-.5-2.4-1.4-3.2-.9-.8-2.1-1.2-3.6-1.2s-2.7.4-3.6 1.2c-.9.8-1.4 1.9-1.4 3.2v2.6h-.7c-.3 0-.7.1-.9.4-.3.2-.4.5-.4.8v6.1c0 .3.1.5.3.7.2.2.4.3.7.4 1.9.4 3.9.6 6 .6 2 0 4-.2 5.9-.6.3-.1.5-.2.7-.4.2-.2.3-.4.3-.7v-6.1c.1-.3 0-.6-.3-.9zm-8.6-2.4c0-1.3.7-1.9 2-1.9s2 .6 2 1.9v2.1h-4v-2.1z"></path> </svg> </div> </div> <div class="mb-m xs-mb-xs pr-xxs pb-xs text-right"> <span if="{!app.device.isPhone}" onclick="{openSignIn}" onupdate="none" class="link-gray-hover-primary text-uppercase fontSize-xs fontFamily-helvetica letterSpacing-l cursor-pointer">У вас уже есть аккаунт?</span> </div> <div onclick="{sendForm}" onupdate="none" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} mb-xs xs-mb0 {btn-loading : loading}">Создать аккаунт</div> </div> </div> <auth-social></auth-social> <iframe name="sendform" class="pos-bl opacity-0 w1px h1px zIndex--1"></iframe> </form>',"",'class="section auth" data-active="false" data-form="signup"',function(e){var t=this;t.active=!1,t.plan=app.metrika.get("plan.name")||"free",t.loading=!1,t.validate={login:{valid:!0,text:null,vars:{v1:"Введите свой email",v2:"Введите корректный email"}},password:{valid:!0,text:null,vars:{v1:"Введите свой пароль",v2:"Введите пароль мин. из 6 символов"}}},t.on("mount",function(){t.auth=t.parent,t.form=$$(t.refs.form),t.animate=new app.plugins.animate(t.root)}),t.on("updated",function(){!t.active&&t.animate.active&&(t.root.setAttribute("data-active",!1),t.animate.hide())}),t.open=function(e){t.active=!0,t.auth.section="signup",e&&e!=t.plan&&(t.update({plan:e}),app.metrika.set("plan.name",e)),t.root.setAttribute("data-active",!0),t.animate.show(function(){t.parent.notifyOAuth()})},t.openSignIn=function(){t.active=!1,t.root.setAttribute("data-active",!1),t.animate.hide(),t.auth.tags["auth-signin"].open()},t.changePlan=function(e){t.plan=e.target.previousElementSibling.value,app.metrika.set("plan.name",t.plan)},t.sendForm=function(){if(!t.loading){var e={auth:"signup",login:_.clean(t.refs.login.value,[]),password:_.clean(t.refs.password.value,[])},i=t.validator(e);t.update({loading:i}),i&&setTimeout(function(){$$.post({url:"/auth",data:e,dataType:"json",success:function(e,i){e&&e.status&&("error"==e.status?t.auth.onNotify("К сожалению, указанный e-mail уже кем-то используется","warning"):"OK"==e.status&&(t.update({success:!0}),t.parent.submit(t.form)))},error:function(){t.auth.onNotify("Ошибка регистрации, повторите попытку чуть позже","danger")},complete:function(e,i){t.update({loading:!1})}})},300)}},t.validator=function(e){return t.validate.login.valid=!0,t.validate.password.valid=!0,_.each(e,function(e,i){"login"===i?e.length?_.isEmail(e)||(t.validate.login.valid=!1,t.validate.login.text=t.validate.login.vars.v2):(t.validate.login.valid=!1,t.validate.login.text=t.validate.login.vars.v1):"password"===i&&(e.length?e.length<6&&(t.validate.password.valid=!1,t.validate.password.text=t.validate.password.vars.v2):(t.validate.password.valid=!1,t.validate.password.text=t.validate.password.vars.v1))}),_.every(_.pluck(_.values(t.validate),"valid"))},t.emailLink=function(){if(t.refs.login.value&&_.isEmail(t.refs.login.value))return _.emailLinkProvider(t.refs.login.value)},t.close=function(){t.active=!1,app.device.isPhone?t.root.setAttribute("data-active",!1):t.animate.hide(function(){t.root.setAttribute("data-active",!1)}),t.auth.section=null,t.auth.close()}}),riot.tag2("auth-remember",'<form ref="form" action="#" class="auth__form anim-group1 anim-scale{\'-zoom\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="logined" value="true"> <div if="{!app.device.isPhone}" class="auth__close"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Восстановить пароль <div class="auth__subtitle">Отправить на свой email инструкцию по сбросу пароля.</div> </div> <div class="auth__body"> <div class="pos-abs-full anim anim-bt-ease anim-duration-l anim-delay-xs {success ? \'animated\' : \'pointerEvents-none\'}"> <div class="flex-column-centered pos-centered pt-l w80p"> <h2 class="mt-l c-green">Отлично, письмо отправлено!</h2> <h3 class="c-gray mt-m fontWeight-normal lineHeight-36">Проверьте <a if="{emailLink()}" href="{emailLink()}" class="link-blue link-underline">свой e-mail</a><span if="{!emailLink()}">свой e-mail</span>, на него отправлено письмо по сбросу пароля.</h3> </div> </div> <div class="anim anim-scale-ease anim-duration-m {success ? \'pointerEvents-none\' : \'animated\'}"> <div class="mb-l input-group input-group-icon"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl" type="text" placeholder="Введите свой email (логин)" autocomplete="off" ref="login" value=""> <div class="input-icon"> <svg class="input-svg" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div onclick="{sendForm}" onupdate="none" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} {btn-loading : loading}">Отправить</div> </div> </div> </form>',"",'class="section auth" data-active="false" data-form="remember"',function(e){var t=this;t.active=!1,t.on("mount",function(){t.auth=t.parent,t.form=$$(t.refs.form),t.animate=new app.plugins.animate(t.root)}),t.on("updated",function(){!t.active&&t.animate.active&&(t.root.setAttribute("data-active",!1),t.animate.hide())}),t.open=function(){t.active=!0,t.parent.section="remember",t.root.setAttribute("data-active",!0),t.animate.show()},t.onKeydown=function(e){return 13==e.which&&(e.preventDefault(),t.sendForm()),!0},t.sendForm=function(){if(!t.loading){if(!_.isEmail(t.refs.login.value))return void t.auth.onNotify("Введите e-mail, который вы вводили в момент регистрации аккаунта","info",3);t.update({loading:!0}),setTimeout(function(){$$.post({url:"/remember",data:{login:_.clean(t.refs.login.value)},dataType:"json",success:function(e,i){e&&e.status&&("error"==e.status?t.auth.onNotify("Указанный e-mail не зарегистрирован","danger"):"OK"==e.status&&t.update({success:!0}))},error:function(){t.auth.onNotify("Ошибка проведения операции, повторите попытку чуть позже","danger")},complete:function(e,i){t.update({loading:!1})}})},300)}},t.openAuth=function(){t.parent.tags["auth-form"].open()},t.emailLink=function(){if(t.refs.login.value&&_.isEmail(t.refs.login.value))return _.emailLinkProvider(t.refs.login.value)},t.close=function(){t.active=!1,app.device.isPhone?t.root.setAttribute("data-active",!1):t.animate.hide(function(){t.root.setAttribute("data-active",!1)}),t.parent.section=null,t.parent.close()}}),riot.tag2("section-notify",'<div onclick="{hide}" onupdate="none" ref="notify" class="notify {\'notify-\' + size}" data-color="{color}" riot-style="{width ? \'width:\' + width : null}">{text}</div>',"",'class="notify-wrapper" data-active="{active}" data-pos="{pos}"',function(e){var t=this;t.active=!1,t.interval=null,t.default=function(){return{active:!0,timeout:1.5,pos:"top-left",size:"m",color:"primary"}},t.on("mount",function(){t.notify=t.refs.notify,$afterlag.run(function(){t.update(_.extend(t.default(),{active:!1}))})}),t.show=function(e){if(!t.active)return t.active=!0,clearTimeout(t.interval),t.root.style.display="block",$afterlag.run(function(){t.update(_.extend(t.default(),e))}),new Promise(function(e,i){_.onEndTransition(t.notify,function(){return t.autoHide(),e()})})},t.autoHide=function(){t.timeout!==!1&&(t.interval=setTimeout(function(){t.hide()},1e3*t.timeout))},t.hide=function(){clearTimeout(t.interval),t.update({active:!1}),_.onEndTransition(t.notify,function(){t.root.style.display="none"})}}),riot.tag2("ui-input",'<input ref="input" oninput="{onInput}" onkeydown="{opts.autosuggest ? autosuggest.navigate : false}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" class="input input-{opts.size ? opts.size : \'m\'} {opts.color} {opts.align ? \'text-\' + opts.align : \'\'} {input-rounded : opts.rounded}" riot-value="{value}" placeholder="{opts.placeholder}" __disabled="{typeof opts.disabled !== \'undefined\'}" type="text" autocomplete="off" spellcheck="false"> <div if="{opts.autosuggest}" class="input-autosuggest-items"><div onclick="{autosuggest.select}" onupdate="none" each="{item in autosuggest.items}" no-reorder class="input-autosuggest-item" data-active="{item.active}"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div>',"","class=\"{opts.autosuggestsize ? 'display-block input-autosuggest input-autosuggest-' + opts.autosuggestsize : 'display-block input-autosuggest input-autosuggest-m'}\"",function(e){var t=this,i=!1;t.on("before-mount",function(){t.opts.autosuggest&&(t.suggest=_.debounce(t.autosuggest.request,app.device.isMobile?300:150),(t.opts.autoselect===!1||app.device.isMobile&&t.opts.autoselect!==!0)&&(t.autosuggest.autoselect=!1))}),t.on("mount",function(){t.input=t.refs.input}),t.on("update",function(){i||(t.opts.value&&t.opts.onupdate||!t.opts.update||!t.opts.cursor?t.opts.value&&t.opts.value!==t.value&&(t.value=t.opts.value,t.input.value=t.value||""):(t.value=t.opts.cursor.get(t.opts.update),t.input.value=t.value||""))}),t.onInput=function(e){var i=e.target.value;t.onUpdate(this,i),t.opts.autosuggest&&i&&(t.autosuggest.el=e.target,t.suggest(t.opts.autosuggest,i),document.removeEventListener("click",t.autosuggest.handleClickOutside),document.addEventListener("click",t.autosuggest.handleClickOutside))},t.onUpdate=function(e,i){t.opts.update&&t.opts.cursor&&t.opts.cursor.set(t.opts.update,i),t.opts.commit===!0||"true"==t.opts.commit?t.parent.update():_.isFunction(t.opts.commit)?t.opts.commit.call(e,i,t.opts.i):t.opts.commit&&t.parent[t.opts.commit]&&t.parent[t.opts.commit](i,t.opts.i),t.value=i},t.onClear=function(){t.onUpdate(this,""),t.update()},t.autosuggest={el:null,value:"",items:[],autoselect:{interval:null,timeout:app.device.isMobile?1e3:300},select:function(){i=!0,t.autosuggest.update([],this.item),setTimeout(function(){i=!1},5)},request:function(e,i){i.length>1?app.request(e,i,{notify:!1,loader:!1}).then(function(e){if(e.items){if("1"==e.items.length){if(i==e.items[0].text)return void(t.autosuggest.items=[]);t.autosuggest.autoselect&&(t.autosuggest.autoselect.interval=setTimeout(function(){t.autosuggest.select.call({item:e.items[0]})},t.autosuggest.autoselect.timeout))}t.autosuggest.update(e.items)}}):t.autosuggest.update([])},update:function(e,i){t.autosuggest.items=e,i?(t.value=i.text,t.update({id:i.id,value:i.text}),t.trigger("autocomplete.select",i),t.onUpdate(this,i.text)):t.update()},navigate:function(e){if(e.preventUpdate=!0,t.autosuggest.autoselect&&clearTimeout(t.autosuggest.autoselect.interval),[13,38,40].indexOf(e.keyCode)>-1&&_.isEmpty(t.autosuggest.items))return e.preventDefault(),!0;var i=t.autosuggest.items,s=i.length;if(s>0&&[13,38,40].indexOf(e.keyCode)>-1){e.preventDefault();for(var a=null,o=0;o<s;o++){var n=i[o];if(n.active){a=o;break}}null!=a&&(i[a].active=!1),38==e.keyCode?null==a||0==a?i[s-1].active=!0:i[a-1].active=!0:40==e.keyCode?null==a||a==s-1?i[0].active=!0:i[a+1].active=!0:13==e.keyCode&&null!=a&&t.autosuggest.select.call({item:i[a]}),t.update()}return!0},handleClickOutside:function(e){t.autosuggest.el&&!t.autosuggest.el.contains(e.target)&&setTimeout(function(){t.autosuggest.items&&t.autosuggest.items.length&&t.autosuggest.update([])},20),document.removeEventListener("click",t.autosuggest.handleClickOutside)}},t.on("unmount",function(){(t.opts.pattern||t.opts.mask)&&$$(t.input).unmask()})}),riot.tag2("ui-dropmenu",'<div if="{items && items.length}" class="dropmenu__wrapper"> <virtual each="{item in items}" no-reorder> <div if="{item && !item.divider && !item.hidden}" onclick="{onSelect}" class="dropmenu__item {selected : isSelect && parent._id !== \'undefined\' && item._id == parent._id}"> {item.title ? item.title : item} </div> <div if="{item && item.divider}" class="dropmenu__item divider"></div> </virtual> </div>',"",'class="dropmenu" data-pos="{pos}" data-active="{active}" data-select="{isSelect}"',function(e){var t=this,i=$$(t.root);t.active=!1,t.item=null,t.items=[],t.rootScroll=null,t.show=function(e){if(e&&e.elem){if(e.id||(e.id="0"),t._id&&t._id===e.id)return void t.hide();t.active&&t.hide(),e.id&&(t._id=e.id),e.item&&(t.item=e.item),t.pos=e.pos?e.pos:"center",t.items=e.menu,t.callback=e.callback,t.isSelect=e.isSelect,t.active=!0;var s=e.elem.offset(),a=0,o=0;"center"===t.pos?a=e.elem.outerWidth()/2:"left"===t.pos||"down-left"===t.pos?o=-(e.elem.outerHeight()/2):"right"!==t.pos&&"down-right"!==t.pos||(a=e.elem.outerWidth(),o=-(e.elem.outerHeight()/2)),t.rootScroll=e.rootScroll?e.rootScroll:app.$dom.root,setTimeout(function(){app.$dom.body.on("click.dropdown",function(e){t.hide()})},5),t.update(),e.offset&&(s.top+=e.offset.top?e.offset.top:0,s.left+=e.offset.left?e.offset.left:0),i.css({top:t.rootScroll[0].scrollTop+s.top+e.elem.outerHeight()+"px",left:s.left+"px",marginLeft:a+"px",marginTop:o+"px"})}},t.hide=function(){app.$dom.body.off("click.dropdown"),t.active=!1,t._id&&(t._id=null),t.item&&(t.item=null),t.update()},t.onSelect=function(){var e=this.item._id||t._id||this.item;t.value=e,this.item&&_.isFunction(this.item.callback)&&this.item.callback(t.value,t.item),t.callback&&t.callback(t.value,t.item)}}),riot.tag2("popup-homescreen",'<div class="popup__close"></div> <div class="popup__inner"> <div class="popup__icon bg-yellowBright"> <svg class="w40 h40 pos-centered" style="margin-top:2px" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" version="1.1" x="0px" y="0px" viewbox="0 0 100 125"><g transform="translate(0,-952.36218)"><path d="m 59.004993,957.35715 c -4.4183,0 -8,3.5817 -8,8 0,4.4183 3.5817,8 8,8 4.4183,0 8,-3.5817 8,-8 0,-4.4183 -3.5817,-8 -8,-8 z m -8.375,20.0312 c -4.9159,0.2222 -10.1433,2.6432 -14.5312,6.0313 l -0.5,5.1562 c 4.1457,-1.6341 8.4134,-1.6403 9.6874,2.25 3.1014,9.46335 -7.5354,26.04275 -10.4374,34.71885 -7.8732,23.5382 11.0495,26.2639 24.5312,16.5625 l 0.5,-5.5937 c -7.3352,2.3119 -12.5525,-0.5155 -8.3125,-12.8126 2.0428,-5.9315 19.1217,-35.83215 7.3125,-44.06255 -2.4726,-1.7236 -5.3005,-2.3832 -8.25,-2.25 z" fill="#3c4858"></path></g></svg> </div> <div class="popup__content"> <div if="{app.device.isSafari}" class="popup__text">Нажмите на иконку <svg class="display-inlineBlock w28 h28" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="fill-blueBright" d="M 25 0.59375 L 24.28125 1.28125 L 16.28125 9.28125 A 1.016466 1.016466 0 1 0 17.71875 10.71875 L 24 4.4375 L 24 32 A 1.0001 1.0001 0 1 0 26 32 L 26 4.4375 L 32.28125 10.71875 A 1.016466 1.016466 0 1 0 33.71875 9.28125 L 25.71875 1.28125 L 25 0.59375 z M 7 16 L 7 17 L 7 49 L 7 50 L 8 50 L 42 50 L 43 50 L 43 49 L 43 17 L 43 16 L 42 16 L 33 16 A 1.0001 1.0001 0 1 0 33 18 L 41 18 L 41 48 L 9 48 L 9 18 L 17 18 A 1.0001 1.0001 0 1 0 17 16 L 8 16 L 7 16 z"></path> </svg> {app.device.isPhone ? \'на нижнем сайдбаре телефона\' : \'в правом верхнем углу\'} и выберите «на экран Домой».</div> <div if="{!app.device.isSafari}" class="popup__text">Откройте меню <svg class="display-inlineBlock w30 h30 mlr--xxs mb--xs" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewbox="0 0 100 125"><g transform="translate(0,-952.36218)"><path class="fill-blueBright" d="m 39.75,962.1122 19.75995,0 0.74005,0 0,0.84648 0,19.65352 -20.5,0 z"></path><path class="fill-blueBright" d="m 39.75,992.1122 19.75995,0 0.74005,0 0,0.84648 0,19.65352 -20.5,0 z"></path><path class="fill-blueBright" d="m 39.75,1022.1122 19.75995,0 0.74005,0 0,0.8465 0,19.6535 -20.5,0 z"></path></g></svg> в вашем браузере и выберите «Добавить на главный экран».</div> </div> </div>',"",'onclick="{close}" onupdate="none" class="popup popup-m" data-pos="bottom-right" data-active="{active}" style="display:none"',function(e){var t=this;t.on("mount",function(){$Sections&&$Sections.module&&$Sections.module("popup.homescreen",t),app.metrika.get("offers.popup.jptest.show")&&t.unmount()}),t.show=function(){if(!t.active)return t.root.style.display="block",$afterlag.xs(function(){t.update({active:!0})}),new Promise(function(e,i){t.resolve=e})},t.success=function(){t.hide(),t.resolve()},t.close=function(){t.hide()},t.hide=function(){t.active&&(t.update({active:!1}),_.onEndTransition(t.root,function(){t.root.style.display="none"}))}}),riot.tag2("vacancy-panel-btn-favorite",'<svg onclick="{removeFavorites}" if="{$store.jobs.favorites.isFavorite(opts.item.id)}" class="icon-like-fill icon-s" fill-color="pink" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 18 20" version="1.1" x="0px" y="0px"><path d="M9,1.82234332 C8.019,0.70626703 6.516,0 4.95,0 C2.178,0 0,2.11008174 0,4.79564033 C0,8.09155313 3.06,10.7771117 7.695,14.8577657 L9,16 L10.305,14.8490463 C14.94,10.7771117 18,8.09155313 18,4.79564033 C18,2.11008174 15.822,0 13.05,0 C11.484,0 9.981,0.70626703 9,1.82234332 Z"></path></svg> <svg onclick="{addFavorites}" if="{!$store.jobs.favorites.isFavorite(opts.item.id)}" class="icon-like icon-s" fill-color="blueBright" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M70.459,13.858c11.515,0,20.846,9.334,20.846,20.846c0,23.3-34.423,44.555-41.306,51.438 C43.152,79.294,8.695,58.004,8.695,34.704c0-11.512,9.333-20.846,20.847-20.846c10.153,0,18.602,7.261,20.457,16.874 C51.856,21.119,60.305,13.858,70.459,13.858 M70.459,7.738c-8.079,0-15.467,3.606-20.459,9.412 c-4.991-5.806-12.378-9.412-20.458-9.412c-14.87,0-26.967,12.097-26.967,26.966c0,21.608,22.979,39.693,36.708,50.5 c2.831,2.228,5.275,4.151,6.389,5.265l4.328,4.329l4.329-4.328c1.123-1.123,3.576-3.055,6.418-5.292 c13.719-10.799,36.68-28.873,36.68-50.474C97.425,19.835,85.328,7.738,70.459,7.738L70.459,7.738z"></path></svg>',"","class=\"btn-icon\" data-balloon=\"{$store.jobs.favorites.isFavorite(opts.item.id) ? 'Убрать из избранных' : 'Добавить в избранное'}\"",function(e){
var t=this;t.addFavorites=function(){$store.jobs.favorites.add(t.opts.item)},t.removeFavorites=function(){$store.jobs.favorites.remove(t.opts.item.id)}}),riot.tag2("sidebar-favorites",'<div ref="wrapper" class="sidebar__wrapper"> <div class="sidebar__container"> <div class="sidebar__navbar"> <div class="sidebar__nav__title"> <icon-like size="xs" color="blueBright"></icon-like> <div class="sidebar__nav__title__text">Мои избранные</div> </div> <div class="sidebar__nav__buttons"> <div onclick="{open.dropMenu}" onupdate="none" class="sidebar__nav__buttons__item" data-item="options"></div> <div onclick="{hide}" onupdate="none" class="sidebar__nav__buttons__item" data-item="close"></div> </div> </div> <div class="sidebar__content"> <div if="{!$store.jobs.favorites.get.items().length}" class="favorites__list__empty"> <div class="favorites__list__empty__text">Добавляйте понравившиеся вакансии в избранное</div> </div> <div class="jobs__list"> <jobs-search-list-item each="{item, i in $store.jobs.favorites.get.items(sortBy)}" no-reorder item="{item}" utils="{window._}" currency="{$store.jobs.dictionary.get(⁗currency⁗)}" isphone="{app.device.isPhone}"></jobs-search-list-item> </div> </div> </div> </div>',"",'class="sidebar" data-pos="right" data-open="false"',function(e){var t=this,i=app.metrika.get("search.favorites.sort");t.sortBy=i?i:"dateDesc",t.on("mount",function(){$Sections.module("favorites",t),t.wrapper=t.refs.wrapper}),t.show=function(e){t.one("updated",function(){t.root.setAttribute("data-open",!0),setTimeout(function(){document.addEventListener("click",t.handleClickOutside)},20)}),t.update(),t.callback=e},t.open={dropMenu:function(e){$dropMenu.show({id:t.sortBy,elem:$$(e.currentTarget),pos:"down-left",offset:{top:10,left:20},isSelect:!0,menu:$store.jobs.favorites.dropMenu,callback:function(e){t.update({sortBy:e}),app.metrika.set("search.favorites.sort",e)}})}},t.hide=function(){t.root.setAttribute("data-open",!1),_.isFunction(t.callback)&&t.callback(),document.removeEventListener("click",t.handleClickOutside)},t.handleClickOutside=function(e){t.wrapper.contains(e.target)||$dropMenu.root.contains(e.target)||"svg"==e.target.nodeName||"path"==e.target.nodeName||t.hide()}}),riot.tag2("jobs-panel-favorite",'<div> <div if="{$store.jobs.favorites.get.items().length}" class="jobs__search__nav__buttons__item__counter">{$store.jobs.favorites.get.items().length}</div> <icon-like color="blueBright" size="xs"></icon-like>Мои избранные </div>',"",'onclick="{open.favorites}" onupdate="none" class="jobs__search__nav__buttons__item" data-item="favorites"',function(e){var t=this;t.on("mount",function(){$store.jobs.favorites.on("update",function(){t.update()})}),t.open={favorites:function(){app.$dom.body.addClass("no-scroll"),$Sections.favorites.show(function(){app.$dom.body.removeClass("no-scroll")})}}}),riot.tag2("jobs-search-form",'<div class="col-md-10 xs-mb-xss"> <div class="input-group input-group-icon input-group-{app.device.isPhone ? \'l\' : \'m\'}" data-item="vacancy"> <ui-input ref="vacancy" placeholder="Я ищу..." autosuggest="getSuggestVacancy" autosuggestsize="l" size="{l : app.device.isPhone}"></ui-input> <div class="input-icon"> <svg class="input-svg input-svg-search" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 21 3 C 11.623004 3 4 10.623004 4 20 C 4 29.376996 11.623004 37 21 37 C 24.709505 37 28.140329 35.803849 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460556 28.087561 38 24.221313 38 20 C 38 10.623004 30.376996 3 21 3 z M 21 5 C 29.296116 5 36 11.703884 36 20 C 36 28.296116 29.296116 35 21 35 C 12.703884 35 6 28.296116 6 20 C 6 11.703884 12.703884 5 21 5 z"></path> </svg> </div> <div onclick="{onClear}" onupdate="none" data-clear="vacancy" class="input-clear"></div> </div> </div> <div class="col-md-10"> <div class="input-group input-group-icon input-group-{app.device.isPhone ? \'l\' : \'m\'}" data-item="city"> <ui-input ref="area" placeholder="Где?" autosuggest="getSuggestCity" autosuggestsize="l" size="{l : app.device.isPhone}"></ui-input> <div class="input-icon"> <svg class="input-svg input-svg-location" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><path d="M50,5C31.3,5,16,19.6,16,37.6l0,0.1c0.4,12.1,6,25.1,16.8,38.9c7.9,10.1,15.6,16.7,16,17l1.3,1.1l1.3-1.1 c0.3-0.3,8-6.8,16-17C78,62.8,83.6,49.8,84,37.6C84,19.6,68.7,5,50,5z M64.1,74C58.3,81.5,52.5,87,50,89.3 C47.5,87,41.7,81.5,35.9,74c-7-8.9-15.4-22.5-15.9-36.4C20,21.8,33.5,9,50,9c16.5,0,30,12.8,30,28.6C79.6,51.5,71.1,65.1,64.1,74z M50,24c-8.3,0-15,6.7-15,15s6.7,15,15,15c8.3,0,15-6.7,15-15S58.3,24,50,24z M50,50c-6.1,0-11-4.9-11-11s4.9-11,11-11s11,4.9,11,11 S56.1,50,50,50z"></path></svg> </div> <div onclick="{onClear}" onupdate="none" data-clear="area" class="input-clear"></div> </div> </div> <div class="col-md-4 xs-pt-m text-center-xs"> <button onclick="{onSuccess}" onupdate="none" class="btn btn-{app.device.isPhone ? \'l\' : \'m\'} btn-primary-hover-success btn-search xs-plr-l">Найти</button> </div>',"",'class="section row xs-plr-xss"',function(e){var t=this,i=$$(t.root);t.on("mount",function(){if($Sections.module("search.form",t),t.area=t.refs.area,t.vacancy=t.refs.vacancy,t.area.on("autocomplete.select",function(){t.onSuccess()}),t.vacancy.on("autocomplete.select",function(){t.onSuccess()}),i.on("focus blur","input[type='text']",function(e){var t=$$(e.target).parent();"focus"==e.type||"focusin"==e.type?t.addClass("focused"):t.removeClass("focused")}),i.find("input[type='text']").each(function(){var e=$$(this);e.data("clear",e.parent().parent().find(".input-clear")),e.on("input.press keydown.success",function(e){if("input"===e.type){var s=$$(e.target).data("clear");this.value.length&&!s.attr("data-visible")?s.attr("data-visible",!0):!this.value.length&&s.attr("data-visible")&&s.removeAttr("data-visible")}else"keydown"===e.type&&e.keyCode==KEY.ENTER&&(i.find(".input-autosuggest-item").length||t.onSuccess())})}),window.$State){var e=$State.select("area").get(),s=Url.parseQuery().text;e&&t.area.update({id:e.id,value:e.name}),s&&t.vacancy.update({value:s})}}),t.onClear=function(e){t[e.currentTarget.getAttribute("data-clear")].onClear(),$$(e.currentTarget).removeAttr("data-visible")},t.onSuccess=function(e){var i=_.clean(t.vacancy.value),s=t.area.id;if(window.$State&&$Sections&&$Sections.search&&$Sections.search.filter){var e=Url.parseQuery();i?e.text=i:e.text&&delete e.text,s&&_.clean(t.area.value)?(e.area=s,$State.select("area").set({id:s,name:t.area.value})):e.area&&(delete e.area,$State.select("area").set(null)),$Sections.search.filter.onSearch($Sections.search.filter.getUrl(e))}else{var e={};i&&(e.text=i),s&&(e.area=s),_.isEmpty(e)||location.replace("/jobs/search/?"+Url.stringify(e))}}}),riot.tag2("jobs-search-list-favorite",'<svg if="{$store.jobs.favorites.isFavorite(opts.item.id)}" class="icon-like-fill {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="pink" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 18 20" version="1.1" x="0px" y="0px"><path d="M9,1.82234332 C8.019,0.70626703 6.516,0 4.95,0 C2.178,0 0,2.11008174 0,4.79564033 C0,8.09155313 3.06,10.7771117 7.695,14.8577657 L9,16 L10.305,14.8490463 C14.94,10.7771117 18,8.09155313 18,4.79564033 C18,2.11008174 15.822,0 13.05,0 C11.484,0 9.981,0.70626703 9,1.82234332 Z"></path></svg> <svg if="{!$store.jobs.favorites.isFavorite(opts.item.id)}" class="icon-like {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ? opts.color : \'blueBright\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M70.459,13.858c11.515,0,20.846,9.334,20.846,20.846c0,23.3-34.423,44.555-41.306,51.438 C43.152,79.294,8.695,58.004,8.695,34.704c0-11.512,9.333-20.846,20.847-20.846c10.153,0,18.602,7.261,20.457,16.874 C51.856,21.119,60.305,13.858,70.459,13.858 M70.459,7.738c-8.079,0-15.467,3.606-20.459,9.412 c-4.991-5.806-12.378-9.412-20.458-9.412c-14.87,0-26.967,12.097-26.967,26.966c0,21.608,22.979,39.693,36.708,50.5 c2.831,2.228,5.275,4.151,6.389,5.265l4.328,4.329l4.329-4.328c1.123-1.123,3.576-3.055,6.418-5.292 c13.719-10.799,36.68-28.873,36.68-50.474C97.425,19.835,85.328,7.738,70.459,7.738L70.459,7.738z"></path></svg>',"",'onclick="{onClick}" onupdate="self" class="icon"',function(e){var t=this;t.onClick=function(){$store.jobs.favorites.isFavorite(t.opts.item.id)?$store.jobs.favorites.remove(t.opts.item.id):$store.jobs.favorites.add(t.opts.item)}}),riot.tag2("ui-share",'<ui-share-opener></ui-share-opener> <ui-share-items tooltip="{opts.tooltip}" url="{opts.url}" title="{opts.title}"></ui-share-items>',"",'class="share"',function(e){}),riot.tag2("ui-share-items",'<div onclick="{hide}" onupdate="none" class="share__close"></div> <div class="share__items__container"> <div class="share__item" data-social="fb" data-balloon="{\'Поделиться в Facebook\' : opts.tooltip}" data-balloon-pos="up"> <icon-fb size="{size}"></icon-fb> </div> <div class="share__item" data-social="vk" data-balloon="{\'Поделиться в ВКонтакте\' : opts.tooltip}" data-balloon-pos="up"> <icon-vk size="{size}"></icon-vk> </div> <div class="share__item" data-social="dk" data-balloon="{\'Поделиться в Одноклассниках\' : opts.tooltip}" data-balloon-pos="up"> <icon-dk size="{size}"></icon-dk> </div> <div class="share__item" data-social="gl" data-balloon="{\'Поделиться в Google+\' : opts.tooltip}" data-balloon-pos="up"> <icon-gl size="{size}"></icon-gl> </div> </div>',"",'class="share__items" data-size="{app.device.isPhone ? ⁗l⁗ : ⁗s⁗}"',function(e){var t=this;t.size=app.device.isPhone?"m":"s",t.on("mount",function(){$Sections.module("share.items",t),t.share=new app.plugins.share(t.root,{buttons:".share__item",url:t.opts.url,share:{title:t.opts.title}})}),t.show=function(e){var e=e||{};t.root.setAttribute("data-open",!0),e.title&&(t.share.options.share.title=e.title),e.url&&(t.share.options.url=e.url)},t.hide=function(){t.root.setAttribute("data-open",!1),_.onEndTransition(t.root,function(){t.root.style.display="none"})},t.on("unmount",function(){t.share.destroy()})}),riot.tag2("ui-share-opener",'<div class="share__opener__title">Поделиться</div> <div class="share__opener__button"> <svg class="share__opener__button__icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 84.6 112.86250000000001" x="0px" y="0px"><path class="share__opener__button__icon__color" d="M67.89,56.86a16.72,16.72,0,0,0-15.05,9.5L33.34,46.86a16.68,16.68,0,0,0,0-3.44L52.83,23.93a16.68,16.68,0,1,0-1.66-7.22,17,17,0,0,0,.09,1.72L31.77,37.93a16.71,16.71,0,1,0,0,14.43L51.26,71.85a16.71,16.71,0,1,0,16.63-15ZM67.89,5A11.71,11.71,0,1,1,56.17,16.71,11.73,11.73,0,0,1,67.89,5ZM16.71,56.86A11.71,11.71,0,1,1,28.43,45.14,11.73,11.73,0,0,1,16.71,56.86ZM67.89,85.29A11.71,11.71,0,1,1,79.6,73.57,11.73,11.73,0,0,1,67.89,85.29Z"></path></svg> </div>',"",'onclick="{show}" onupdate="none" class="share__opener" data-size="{app.device.isPhone ? ⁗m⁗ : ⁗s⁗}"',function(e){var t=this;t.show=function(){$Sections.share&&$Sections.share.items&&($Sections.share.items.root.style.display="block",$afterlag.run(function(){$Sections.share.items.show({title:t.opts.title,url:t.opts.url})}))}}),riot.tag2("popup-blog-subscribe",'<div onclick="{close}" onupdate="none" class="popup__close"></div> <div class="popup__inner"> <div class="popup__image"> <img src="/public/images/popup/blog.png"> </div> <div class="popup__content"> <div class="popup__title c-blueLight fontWeight-bold">Подпишитесь</div> <div class="popup__text">на наш блог, чтобы получать новые статьи каждую неделю</div> <blog-subscribe-form></blog-subscribe-form> </div> </div>',"",'class="popup popup-m" data-pos="bottom-right" data-active="{active}"',function(e){var t=this;t.on("mount",function(){setTimeout(function(){t.root.style.display="block"},20),t.form=t.tags["blog-subscribe-form"],t.form&&(t.form.one("success",function(){t.hide()}),t.form.one("fail",function(){t.hide()}))}),t.show=function(){t.active||(t.update({active:!0}),!app.device.isMobile&&t.form&&$afterlag.xl(function(){t.form.refs.input.focus()}),app.metrika.set("offers.popup.blog.subscribe.show",!0))},t.close=function(){t.hide(),app.metrika.set("offers.popup.blog.subscribe.hide",!0)},t.hide=function(){t.active&&t.update({active:!1})}}),riot.tag2("blog-subscribe-form",'<div class="input-group input-group-icon"> <div onclick="{success}" onupdate="none" class="input-group-addon flex-centered bg-blue borderRadius-m btn-active"> <svg class="w24 h24" style="margin-top:3px" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 511.99998 639.999975" version="1.1" x="0px" y="0px"><g transform="translate(-91.214475,-152.15558)"><g transform="matrix(0,-1.2428946,1.2437461,0,-150.79005,839.70654)"><rect ry="37.436085" y="250.03104" x="308.55121" height="274.84021" width="74.872169" style="fill:#fff"></rect><rect ry="37.46793" transform="matrix(0.70650574,0.70770731,-0.70650574,0.70770731,0,0)" y="-159.08594" x="570.86584" height="313.4476" width="74.93586" style="fill:#fff"></rect><rect ry="37.46793" transform="matrix(0.70650574,-0.70770731,0.70650574,0.70770731,0,0)" y="332.36725" x="-154.34863" height="313.4476" width="74.93586" style="fill:#fff"></rect></g></g></svg> </div> <input ref="input" class="input input-m {input-error : error}" type="text" placeholder="E-mail" autocomplete="off"> <div class="input-icon"> <svg class="input-svg" viewbox="3 -3 24 24"><path class="{error ? \'fill-red\' : \'input-svg-color\'}" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div>',"","",function(e){var t=this;t.success=function(){if(_.isEmail(t.refs.input.value)){var e=t.refs.input.value;app.request("addBlogSubscribe",{email:e}).then(function(){app.metrika.set("offers.popup.blog.subscribe.success",!0),app.metrika.set("offers.popup.blog.subscribe.email",e),t.trigger("success")},function(){t.trigger("fail")})}else t.update({error:!0})}}),riot.tag2("screen-employer",'<div ref="wrapper" class="screenMobile oScreen__content"> <div class="screenMobile__navbar" data-gradient="white"> <div onclick="{hide}" onupdate="none" class="screenMobile__nav__close"></div> <div class="screenMobile__nav__title maxW-80p" data-align="left">{item.name}</div> </div> <div ref="content" class="section__content"> <employer-content classname="employer" isphone="{app.device.isPhone}" item="{item}" items="{items}"></employer-content> <employer-vacancies-mobile items="{items}" utils="{window._}" currency="{$store.jobs.dictionary.get(⁗currency⁗)}"></employer-vacancies-mobile> </div> <div class="section__loading"></div> </div>',"",'class="oScreen section zIndex-6" data-inner="hidden" data-loading="false" data-show="down" data-open="false"',function(e){var t=this;t.on("mount",function(){$Screens.module("employer",t),t.section=new app.plugins.sections(t.root,{content:t.refs.wrapper}),t.scroll=$$(t.refs.content),$$(t.tags["employer-vacancies-mobile"].root).on("click",".employer__vacancies__item__title",function(e){e.preventDefault();var i=$$(this);$Screens.vacancy&&t.hide(function(){$Screens.vacancy.show(i.attr("data-id"),i.attr("href"))})})}),t.show=function(e,i,s){t.section.show({callback:function(s,a){t.request(e,i,s,a)}}),t.backUrl=location.href,t.callback=s},t.request=function(e,i,s,a){app.requestList("getJobsEmployer, getJobsEmployerVacancies",[e,e]).then(function(e){t.one("updated",function(){History.pushState(null,null,i),s&&s(),t.scroll.scrollTop(0)}),t.update({item:e[0],items:e[1]&&e[1].items?e[1].items:[]})},function(){a&&a(),_.isFunction(t.callback)&&t.callback()})},t.hide=function(e){t.section.hide({beforeHide:function(){t.backUrl&&History.pushState(null,null,t.backUrl),_.isFunction(t.callback)&&t.callback()},afterHide:function(){_.isFunction(e)&&e()}})}}),riot.tag2("screen-favorites",'<div ref="wrapper" class="screenMobile oScreen__content"> <div class="screenMobile__navbar" data-gradient="white"> <div onclick="{hide}" onupdate="none" class="screenMobile__nav__close"></div> <div class="screenMobile__nav__title" data-align="center">Мои избранные</div> <div onclick="{open.dropMenu}" onupdate="none" class="screenMobile__nav__options"></div> </div> <div ref="content" class="section__content"> <div if="{!$store.jobs.favorites.get.items().length}" class="favorites__list__empty"> <div class="favorites__list__empty__text">Добавляйте понравившиеся вакансии в избранное</div> </div> <div class="jobs__list"> <jobs-search-list-item each="{item, i in $store.jobs.favorites.get.items(sortBy)}" no-reorder item="{item}" utils="{window._}" currency="{$store.jobs.dictionary.get(⁗currency⁗)}" isphone="{app.device.isPhone}"></jobs-search-list-item> </div> </div> <div class="section__loading"></div> </div>',"",'class="oScreen section zIndex-7" data-inner="hidden" data-loading="false" data-show="down" data-open="false"',function(e){var t=this,i=app.metrika.get("search.favorites.sort");t.sortBy=i?i:"dateDesc",t.on("mount",function(){$Screens.module("favorites",t),t.section=new app.plugins.sections(t.root,{content:t.refs.wrapper}),t.scroll=$$(t.refs.content),$Screens.vacancy&&$$(t.root).on("click",".jobs__list__item__title",function(e){e.preventDefault();var i=$$(this);$Screens.vacancy&&t.hide(function(){$Screens.vacancy.show(i.attr("data-id"),i.attr("href"))})})}),t.show=function(e){t.section.show({tag:t,update:!0,afterShow:function(){t.scroll.scrollTop(0)}}),t.callback=e},t.open={dropMenu:function(e){$dropMenu.show({id:t.sortBy,elem:$$(e.currentTarget),pos:"down-left",offset:{left:10},isSelect:!0,menu:$store.jobs.favorites.dropMenu,callback:function(e){t.update({sortBy:e}),app.metrika.set("search.favorites.sort",e)}})}},t.hide=function(e){t.section.hide({beforeHide:function(){_.isFunction(t.callback)&&t.callback()},afterHide:function(){_.isFunction(e)&&e()}})}}),riot.tag2("jobs-panel-favorite-mobile",'<div if="{$store.jobs.favorites.get.items().length}" class="jobs__search__nav__options__item__counter">{$store.jobs.favorites.get.items().length}</div> <icon-like color="blackLight" size="{opts.size ? opts.size : \'xs\'}"></icon-like>',"",'onclick="{open.favorites}" onupdate="none" data-item="favorite" data-active="{$store.jobs.favorites.get.items().length > 0 ? true : false}"',function(e){var t=this;t.on("mount",function(){$store.jobs.favorites.on("update",function(){t.update()})}),t.open={favorites:function(){app.$dom.body.addClass("no-scroll"),$Screens.favorites.show(function(){(!$Screens.vacancy||$Screens.vacancy&&!$Screens.vacancy.section.active)&&app.$dom.body.removeClass("no-scroll")})}}}),riot.tag2("jobs-search-help-swipeclosevacancy",'<div class="jobs__help__content"> <div class="jobs__help__image" data-image="swipeRight"></div> <div class="jobs__help__text fontSize-20 lineHeight-32">Чтобы быстро вернуться к результатам поиска используйте свайп экрана вправо.</div> <div onclick="{hide}" class="btn btn-xl btn-strong btn-white-hover">Понятно</div> </div>',"",'class="jobs__help" data-active="{active}"',function(e){var t=this;t.on("mount",function(){app.metrika.get("search.help.swipeCloseVacancy")&&t.unmount()}),t.show=function(){t.update({active:!0}),app.metrika.set("search.help.swipeCloseVacancy",!0)},t.hide=function(){t.active=!1,_.onEndTransition(t.root,function(){t.unmount()})}}),riot.tag2("jobs-search-help-swipeopenfilters",'<div class="jobs__help__content"> <div class="jobs__help__image" data-image="swipeLeft"></div> <div class="jobs__help__text fontSize-20 lineHeight-32">Для быстрого доступа к параметрам поиска используйте свайп экрана влево и вправо.</div> <div onclick="{hide}" class="btn btn-xl btn-strong btn-white-hover">Понятно</div> </div>',"",'class="jobs__help" data-active="{active}"',function(e){var t=this;t.on("mount",function(){app.metrika.get("search.help.swipeOpenFilters")?t.unmount():(t.show(),app.metrika.set("search.help.swipeOpenFilters",!0))}),t.show=function(){t.update({active:!0})},t.hide=function(){t.active=!1,_.onEndTransition(t.root,function(){t.unmount()})}}),riot.tag2("jobs-search-filter",'<div class="jobs__search__result hidden-xs">Найдено {$store.jobs.found} вакансий</div> <div class="jobs__search__filter"> <jobs-search-filter-block item="area" name="Регион" active="{true}"></jobs-search-filter-block> <jobs-search-filter-block item="metro" name="Метро" active="{true}"></jobs-search-filter-block> <jobs-search-filter-salary item="salary" name="Зарплата" active="{true}"></jobs-search-filter-salary> <jobs-search-filter-block item="specialization" name="Профобласть" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="industry" name="Отрасль компании" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="experience" name="Опыт работы" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="employment" name="Тип занятости" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="schedule" name="График работы" active="{false}"></jobs-search-filter-block> <jobs-search-filter-block item="label" name="Исключения" active="{false}"></jobs-search-filter-block> </div>',"",'class="section {jobs__search__sidebar : !app.device.isPhone}"',function(e){var t=this;t.on("mount",function(){$Sections.module("search.filter",t)}),t.onSearch=function(e,i){if(e){var i=i||{};if(app.device.isPhone?app.$dom.window.scrollTop(0):!app.device.isPhone&&app.$dom.window.scrollTop()>94&&app.$dom.window.scrollTop(94),!i.changePage&&$State.get("page")>0){$State.select("page").set(0);var s=Url.parseQuery(e.replace($store.jobs.apiUrl,""));delete s.page,e=t.getUrl(s)}app.device.isPhone?$Screens.search.filter.section.active?($Screens.search.filter.root.setAttribute("data-search",!0),$Screens.search.filter.section.loading(!0)):$Sections.search.$content.attr("data-search",!0):app.$dom.root.attr("data-search",!0),app.request("getJobsSearch",encodeURIComponent(e)).then(function(s){$store.jobs.clusters=s.clusters,$store.jobs.items=s.items,$store.jobs.found=s.found;var a=Url.parseQuery(e.replace($store.jobs.apiUrl,"").replace(/^&/,""));a.clusters&&delete a.clusters,a.text&&(a.text=a.text.replace(/\+/g," ")),History.pushState(null,null,_.isEmpty(a)?"/jobs/search":"?"+Url.stringify(a)),i.changePage||t.update(),$Sections.search.content.update(),i.changePage||($State.select("pages").set(s.pages?parseInt(s.pages):0),$Sections.search.pages.update()),t.endSearch()},function(){t.endSearch()})}},t.endSearch=function(){app.device.isPhone?($Screens.search.filter.section.active?($Screens.search.filter.root.setAttribute("data-search",!1),$Screens.search.filter.section.loading(!1)):$Sections.search.$content.removeAttr("data-search"),$store.jobs.found&&$store.jobs.found>0?$Screens.search.filter.result.innerHTML="Показать "+_.numberFormat($store.jobs.found,0,"."," ")+" вакансий":$Screens.search.filter.result.innerHTML=""):app.$dom.root.removeAttr("data-search")},t.getUrl=function(e){if(e&&_.isObject(e))return e.clusters="true",$store.jobs.apiUrl+Url.stringify(e)},t.onSelect=function(){var e=this.item.url,i=Url.parseQuery(e.replace($store.jobs.apiUrl,""));$State.select(this.parent.opts.item).set({id:i[this.parent.opts.item],name:this.item.name}),"area"==this.parent.opts.item&&$Sections.search.form&&$Sections.search.form.refs.area&&$Sections.search.form.refs.area.update({id:i[this.parent.opts.item],value:this.item.name}),t.onSearch(this.item.url)},t.onRemove=function(){$State.select(this.opts.item).set(null);var e=Url.parseQuery();delete e[this.opts.item],"area"==this.opts.item&&$Sections.search.form&&$Sections.search.form.refs.area&&$Sections.search.form.refs.area.update({id:null,value:""}),t.onSearch($Sections.search.filter.getUrl(e))}}),riot.tag2("jobs-search-filter-block",'<div class="jobs__search__filter__block__content" data-active="{active ? ⁗true⁗ : ⁗false⁗}"> <div onclick="{onOpener}" class="jobs__search__filter__title">{opts.name}</div> <div class="jobs__search__filter__block__opener"></div> <div onclick="{parent.onRemove}" onupdate="none" if="{$store.jobs.state && $State.get(opts.item)}" class="jobs__search__filter__item" data-select="true">{$State.get(opts.item).name}</div> <div ref="list" class="jobs__search__filter__items" data-animate="{isAnimate}"> <div ref="container" class="jobs__search__filter__items__list"> <div onclick="{parent.parent.onSelect}" onupdate="none" each="{item, i in _.sortArray($store.jobs[opts.item], ⁗count⁗, ⁗desc⁗)}" no-reorder class="jobs__search__filter__item" data-hidden="{shortList && shortItems.indexOf(parent.opts.item) !== -1 && i > 2}"> <div class="jobs__search__filter__item__title">{item.name}</div> <div class="jobs__search__filter__item__count">{item.count}</div> </div> <div onclick="{onMore}" if="{shortList && shortItems.indexOf(opts.item) !== -1 && $store.jobs[opts.item] && $store.jobs[opts.item].length > 3}" class="jobs__search__filter__more">Еще {$store.jobs[opts.item] && $store.jobs[opts.item].length - 3}</div> </div> </div> </div>',"",'class="jobs__search__filter__block" data-hidden="{_.isEmpty($store.jobs[opts.item]) && !$State.get(opts.item)}"',function(e){var t=this;t.shortItems=["area","metro","specialization","industry"],t.shortList=!0,t.on("before-mount",function(){t.active=t.opts.active}),t.on("mount",function(){t.list=$$(t.refs.list),t.container=$$(t.refs.container),t.active&&t.list.css("height",t.container.height()+"px"),t.update()}),t.on("update",function(){if($store.jobs.clusters){var e=_.findWhere($store.jobs.clusters,{id:"specialization"==t.opts.item?"professional_area":t.opts.item});$store.jobs[t.opts.item]=e?e.items:null,t.active&&t.isMounted&&!t.isAnimate&&(t.shortList=!0,t.one("updated",function(){t.list.css("height",t.container.height()+"px")}))}}),t.onOpener=function(){t.isAnimate=!0,t.active=!t.active,t.active?t.list.css("height",t.container.height()+"px"):t.list.css("height","0px"),setTimeout(function(){t.isAnimate=!1},5)},t.onMore=function(){t.isAnimate=!0,t.shortList=!1,t.one("updated",function(){t.list.css("height",t.container.height()+"px")}),setTimeout(function(){t.isAnimate=!1},5)}}),riot.tag2("jobs-search-filter-salary",'<div class="jobs__search__filter__block__content" data-active="{active ? ⁗true⁗ : ⁗false⁗}"> <div onclick="{opener}" class="jobs__search__filter__title">{opts.name}</div> <div class="jobs__search__filter__block__opener"></div> <div class="jobs__search__filter__salary"> от {onFormat(salary)}<svg class="jobs__search__filter__salary__rub" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><g><path class="jobs__search__filter__salary__rub__color" d="M58.4,56.2c13.3,0,24.1-10.8,24.1-24.1S71.7,8,58.4,8H33.9v5.6V18v28.2h-9v10h9v8.3h-9v10h9v12.4h10V74.5h22.7v-10H43.9 v-8.3H58.4z M43.9,18h9.7c12.6,0,18.9,6.3,18.9,14.1s-6.3,14.1-14.1,14.1H43.9V18z"></path></g></svg> </div> <div class="jobs__search__filter__range"> <input ref="slider" onchange="{onChange}" oninput="{onRange}" onupdate="none" type="range" min="10000" max="250000" step="5000" class="range range-{app.device.isPhone ? \'l\' : \'s\'} range-blueBright"> </div> <div onclick="{onRemove}" onupdate="none" if="{Url.parseQuery().salary}" class="jobs__search__filter__item" data-select="true">от {Url.parseQuery().salary} руб.</div> <div ref="list" class="jobs__search__filter__items" data-animate="{isAnimate}"> <div ref="container" class="jobs__search__filter__items__list"> <div onclick="{onSelect}" onupdate="none" each="{item in _.sortArray($store.jobs[opts.item], ⁗count⁗, ⁗desc⁗)}" no-reorder class="jobs__search__filter__item"> <div class="jobs__search__filter__item__title">{item.name}</div> <div class="jobs__search__filter__item__count">{item.count}</div> </div> </div> </div> </div>',"",'class="jobs__search__filter__block" data-hidden="{_.isEmpty($store.jobs[opts.item]) && $store.jobs.found}"',function(e){var t=this;t.default="25000",t.salary=Url.parseQuery().salary?Url.parseQuery().salary:t.default,t.on("before-mount",function(){t.active=t.opts.active}),t.on("mount",function(){t.list=$$(t.refs.list),t.container=$$(t.refs.container),t.slider=t.refs.slider,t.slider.value=t.salary,t.active&&t.list.css("height",t.container.height()+"px"),t.update()}),t.on("update",function(){if($store.jobs.clusters&&!t.isRange){var e=_.findWhere($store.jobs.clusters,{id:t.opts.item});$store.jobs[t.opts.item]=e?e.items:null,t.active&&t.isMounted&&!t.isAnimate&&t.one("updated",function(){t.list.css("height",t.container.height()+"px")})}}),t.onSelect=function(){var e=this.item.name.match(/\d+/);e&&e[0]&&(t.slider.value=e[0],t.salary=e[0],t.update()),t.parent.onSelect.call(this)},t.onRemove=function(){t.slider.value=t.default,t.salary=t.default,t.parent.onRemove.call(this)},t.opener=function(){t.isAnimate=!0,t.active=!t.active,t.active?t.list.css("height",t.container.height()+"px"):t.list.css("height","0px"),setTimeout(function(){t.isAnimate=!1},5)},t.onRange=function(e){t.isRange=!0,t.update({salary:e.target.value}),setTimeout(function(){t.isRange=!1},5)},t.onChange=function(e){var t=e.target.value,i=Url.parseQuery();i.salary=t,i.only_with_salary="true",$Sections.search.filter.onSearch($Sections.search.filter.getUrl(i))},t.onFormat=function(e){return _.numberFormat(e,0,".",",")}}),riot.tag2("jobs-search-panel",'<div class="row"> <div class="col-md-6"> <a class="jobs__search__nav__subpanel__logo" href="/jobs/search"></a> </div> <div class="col-md-9"> <div class="jobs__search__nav__form"> <div class="input-group input-group-icon input-group-m" data-item="vacancy"> <input type="text" class="input input-m" placeholder="Я ищу..."> <div class="input-icon"> <svg class="input-svg input-svg-search" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 21 3 C 11.623004 3 4 10.623004 4 20 C 4 29.376996 11.623004 37 21 37 C 24.709505 37 28.140329 35.803849 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460556 28.087561 38 24.221313 38 20 C 38 10.623004 30.376996 3 21 3 z M 21 5 C 29.296116 5 36 11.703884 36 20 C 36 28.296116 29.296116 35 21 35 C 12.703884 35 6 28.296116 6 20 C 6 11.703884 12.703884 5 21 5 z"></path> </svg> </div> </div> <div class="input-group input-group-icon input-group-m" data-item="city"> <input type="text" class="input input-m" placeholder="Где?"> <div class="input-icon"> <svg class="input-svg input-svg-location" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><path d="M50,5C31.3,5,16,19.6,16,37.6l0,0.1c0.4,12.1,6,25.1,16.8,38.9c7.9,10.1,15.6,16.7,16,17l1.3,1.1l1.3-1.1 c0.3-0.3,8-6.8,16-17C78,62.8,83.6,49.8,84,37.6C84,19.6,68.7,5,50,5z M64.1,74C58.3,81.5,52.5,87,50,89.3 C47.5,87,41.7,81.5,35.9,74c-7-8.9-15.4-22.5-15.9-36.4C20,21.8,33.5,9,50,9c16.5,0,30,12.8,30,28.6C79.6,51.5,71.1,65.1,64.1,74z M50,24c-8.3,0-15,6.7-15,15s6.7,15,15,15c8.3,0,15-6.7,15-15S58.3,24,50,24z M50,50c-6.1,0-11-4.9-11-11s4.9-11,11-11s11,4.9,11,11 S56.1,50,50,50z"></path></svg> </div> </div> </div> </div> <div class="col-xs-10 col-md-4"> <div class="jobs__search__nav__options"> <jobs-search-panel-settings></jobs-search-panel-settings> <jobs-search-panel-views></jobs-search-panel-views> </div> </div> </div>',"",'class="jobs__search__nav__subpanel section container"',function(e){}),riot.tag2("jobs-search-panel-settings",'<div class="jobs__search__nav__options__item" data-item="settings"> <div onclick="{show}" class="jobs__search__nav__options__item__button"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M0 3h9v2H0V3zm0 4h6v2H0V7zm0 4h8v2H0v-2zm13-8v6l1.5-1.5L16 9l-4 4-4-4 1.5-1.5L11 9V3h2z"></path></svg> </div> <div class="jobs__search__nav__popup"> <div class="jobs__search__nav__options__list__items"> <div class="jobs__search__nav__options__list"> <label each="{item in $store.jobs.dictionary.get(⁗vacancy_search_order⁗)}" no-reorder class="jobs__search__nav__options__list__item"> <input onclick="{onCheck.order}" onupdate="none" type="radio" name="order_by" riot-value="{item.id}" __checked="{$State.get(⁗order_by⁗) == item.id}"> <span>{item.name}</span> </label> </div> <div class="jobs__search__nav__options__list"> <label each="{item in $store.jobs.dictionary.get(⁗vacancy_search_period⁗)}" no-reorder class="jobs__search__nav__options__list__item"> <input onclick="{onCheck.period}" onupdate="none" type="radio" name="period" riot-value="{item.id}" __checked="{$State.get(⁗period⁗) == item.id}"> <span>{item.name}</span> </label> </div> </div> <div onclick="{success}" class="btn-default {app.device.isPhone ? \'btn-primary btn-l\' : \'btn-m\'}">Применить</div> </div> </div>',"",'class="display-block"',function(e){
var t=this;t.on("before-mount",function(){t.state={order_by:$State.get("order_by"),period:$State.get("period")}}),t.show=function(){t.active=!t.active,t.root.setAttribute("data-active",t.active)},t.onCheck={order:function(){t.state.order_by=this.item.id},period:function(){t.state.period=this.item.id}},t.success=function(){t.hide(),$State.set(_.extend($State.get(),t.state));var e=Url.parseQuery();e.order_by=t.state.order_by,e.period=t.state.period,$Sections.search.filter.onSearch($Sections.search.filter.getUrl(e))},t.hide=function(){t.root.setAttribute("data-active",!1),t.active=!1},t.handleClickOutside=function(e){t.root.contains(e.target)||t.hide()},t.on("updated",function(){t.active?setTimeout(function(){document.addEventListener("click",t.handleClickOutside)},0):document.removeEventListener("click",t.handleClickOutside)})}),riot.tag2("jobs-search-panel-views",'<div onclick="{onList.less}" class="jobs__search__nav__options__item" data-item="list-less" data-balloon="С описанием" data-balloon-pos="down" data-active="{list == ⁗less⁗}"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2 3h12v4H2V3zm0 6h12v4H2V9z"></path></svg> </div> <div onclick="{onList.more}" class="jobs__search__nav__options__item" data-item="list-more" data-balloon="Без описания" data-balloon-pos="down" data-active="{list == ⁗more⁗}"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2 3h12v2H2V3zm0 4h12v2H2V7zm0 4h12v2H2v-2z"></path></svg> </div>',"",'class="flex-centered"',function(e){var t=this,i=_.getCookie("jobsSearchList");t.list=i?i:"less",t.onList={less:function(){t.list="less",app.$dom.root.attr("data-list",t.list),_.setCookie("jobsSearchList",t.list,{path:"/"})},more:function(){t.list="more",app.$dom.root.attr("data-list",t.list),_.setCookie("jobsSearchList",t.list,{path:"/"})}}}),riot.tag2("vacancy-panel-mobile",'<a target="_blank" href="https://hh.ru/applicant/vacancy_response?vacancyId={opts.item.id}" class="vacancy__panel__mobile__item"> <div class="vacancy__panel__mobile__item__icon"> <icon-replymail size="l" color="blueBright"></icon-replyMail> </div> <div class="vacancy__panel__mobile__item__title"> Откликнуться </div> </a> <div class="vacancy__panel__mobile__item"> <div class="vacancy__panel__mobile__item__icon"> <svg onclick="{removeFavorites}" if="{$store.jobs.favorites.isFavorite(opts.item.id)}" class="icon-like-fill icon-l" fill-color="pink" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 18 20" version="1.1" x="0px" y="0px"><path d="M9,1.82234332 C8.019,0.70626703 6.516,0 4.95,0 C2.178,0 0,2.11008174 0,4.79564033 C0,8.09155313 3.06,10.7771117 7.695,14.8577657 L9,16 L10.305,14.8490463 C14.94,10.7771117 18,8.09155313 18,4.79564033 C18,2.11008174 15.822,0 13.05,0 C11.484,0 9.981,0.70626703 9,1.82234332 Z"></path></svg> <svg onclick="{addFavorites}" if="{!$store.jobs.favorites.isFavorite(opts.item.id)}" class="icon-like icon-l" fill-color="{opts.color ? opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M70.459,13.858c11.515,0,20.846,9.334,20.846,20.846c0,23.3-34.423,44.555-41.306,51.438 C43.152,79.294,8.695,58.004,8.695,34.704c0-11.512,9.333-20.846,20.847-20.846c10.153,0,18.602,7.261,20.457,16.874 C51.856,21.119,60.305,13.858,70.459,13.858 M70.459,7.738c-8.079,0-15.467,3.606-20.459,9.412 c-4.991-5.806-12.378-9.412-20.458-9.412c-14.87,0-26.967,12.097-26.967,26.966c0,21.608,22.979,39.693,36.708,50.5 c2.831,2.228,5.275,4.151,6.389,5.265l4.328,4.329l4.329-4.328c1.123-1.123,3.576-3.055,6.418-5.292 c13.719-10.799,36.68-28.873,36.68-50.474C97.425,19.835,85.328,7.738,70.459,7.738L70.459,7.738z"></path></svg> </div> <div class="vacancy__panel__mobile__item__title"> {$store.jobs.favorites.isFavorite(opts.item.id) ? \'Уже в избранном\' : \'В избранное\'} </div> </div>',"",'class="vacancy__panel__mobile section"',function(e){var t=this;t.addFavorites=function(){$store.jobs.favorites.add(t.opts.item)},t.removeFavorites=function(){$store.jobs.favorites.remove(t.opts.item.id)}}),riot.tag2("screen-vacancy",'<div ref="wrapper" class="screenMobile oScreen__content"> <div class="screenMobile__navbar"> <div onclick="{hide}" onupdate="none" class="screenMobile__nav__back"></div> <div if="{item && item.salary}" class="screenMobile__nav__title maxW-55p" data-align="left">{\'от\' : item.salary.from} {_.numberFormat(item.salary.from, 0, ⁗.⁗, ⁗ ⁗)} <span if="{item.salary.to}">до {_.numberFormat(item.salary.to, 0, ⁗.⁗, ⁗ ⁗)}</span> {_.findWhere($store.jobs.dictionary.get(⁗currency⁗), {⁗code⁗: item.salary.currency}).abbr}</div> <div if="{item && !item.salary && item.area.name}" class="screenMobile__nav__title maxW-55p" data-align="left">{item.area.name}</div> <div class="screenMobile__nav__buttons"> <jobs-panel-response-mobile class="screenMobile__nav__buttons__item" size="s" item="{item}"></jobs-panel-response-mobile> <jobs-panel-favorite-mobile class="jobs__search__nav__options__item" size="s"></jobs-panel-favorite-mobile> </div> </div> <div ref="content" class="section__content"> <vacancy-content classname="vacancy" item="{item}" utils="{window._}" currency="{$store.jobs.dictionary.get(⁗currency⁗)}" isphone="{app.device.isPhone}"></vacancy-content> <vacancy-panel-mobile item="{item}"></vacancy-panel-mobile> <div ref="preloader" class="vacancy__similary__preloader"> <div class="vacancy__similary__preloader__spinner"></div> <vacancy-similary items="{items}" utils="{window._}" currency="{$store.jobs.dictionary.get(⁗currency⁗)}"></vacancy-similary> </div> </div> <jobs-search-help-swipeclosevacancy></jobs-search-help-swipeCloseVacancy> <div class="section__loading"></div> </div>',"",'class="oScreen section zIndex-5" data-inner="hidden" data-loading="false" data-show="right" data-open="false"',function(e){var t=this,i=$$(t.root);t.on("mount",function(){$Screens.module("vacancy",t),t.section=new app.plugins.sections(t.root,{content:t.refs.wrapper}),i.on("swipeRight",function(){t.hide()}),$$(t.tags["vacancy-content"].root).on("click",".employer__link",function(e){e.preventDefault();var t=$$(this);$Screens.employer&&$Screens.employer.show(t.attr("data-id"),t.attr("href"))}),$$(t.tags["vacancy-similary"].root).on("click",".vacancy__similary__item",function(e){e.preventDefault();var i=$$(this);t.show(i.attr("data-id"),i.attr("href"))}),t.scroll=$$(t.refs.content),t.preloader=t.refs.preloader}),t.show=function(e,i,s){t.section.active?t.changeVacancy(e,i):(t.section.show({callback:function(s,a){t.request(e,i,s,a)}}),t.backUrl=location.href,t.callback=s)},t.changeVacancy=function(e,i){t.section.loading(!0),t.request(e,i,function(){t.section.loading(!1)},function(){t.section.loading(!1)})},t.request=function(e,i,s,a){app.request("getJobsVacancy",e).then(function(e){t.one("updated",function(){t.preloader.setAttribute("data-open",!1),t.preloader.setAttribute("data-active",!1),History.pushState(null,null,i),s&&s(),t.scroll.scrollTop(0),t.scrollFollow.on(),$afterlag.xl(function(){t.tags["jobs-search-help-swipeclosevacancy"]&&t.tags["jobs-search-help-swipeclosevacancy"].show()})}),t.update({item:e,items:null})},function(){a&&a(),_.isFunction(t.callback)&&t.callback()})},t.scrollFollow={on:function(){$afterlag.xs(function(){t.scrollBottom=!1;var e=!1,i=!1,s=t.scroll.find("vacancy-content").outerHeight();t.autoShowItems=function(){var a=t.scroll.scrollTop();!e&&a+2*app.sizes.height>s-150?(e=!0,t.preloader.setAttribute("data-active",!0),t.get.vacancySimilary(t.item.id)):e&&a+app.sizes.height>s+150?t.items?(t.scrollFollow.off(),$afterlag.run(function(){t.preloader.setAttribute("data-open",!0)})):t.scrollBottom=!0:t.items||(t.scrollBottom=!1),i=!1},t.scroll.on("scroll",function(){i||(i=!0,_.raf(t.autoShowItems))})})},off:function(){t.scroll.off("scroll"),_.caf(t.autoShowItems)}},t.get={vacancySimilary:function(e){app.request("getJobsVacancySimilary",e,{notify:!1}).then(function(e){_.isEmpty(e.items)?(t.scrollFollow.off(),t.preloader.setAttribute("data-active",!1)):(t.items=e.items,t.tags["vacancy-similary"].update(),t.scrollBottom&&$afterlag.run(function(){t.preloader.setAttribute("data-open",!0)}))},function(){t.scrollFollow.off(),t.preloader.setAttribute("data-active",!1)})}},t.hide=function(){t.section.hide({beforeHide:function(){t.scrollFollow.off(),_.isFunction(t.callback)&&t.callback()},afterHide:function(){t.backUrl&&History.pushState(null,null,t.backUrl)}})}}),riot.tag2("screen-search-filter",'<div ref="wrapper" class="screenMobile oScreen__content"> <div class="screenMobile__navbar" data-gradient="white"> <div onclick="{hide}" onupdate="none" class="screenMobile__nav__back"></div> <div class="screenMobile__nav__title" data-align="center">Параметры поиска</div> <div onclick="{open.dropMenu}" onupdate="none" class="screenMobile__nav__options"></div> </div> <div ref="content" class="section__content pb70"> <jobs-search-filter></jobs-search-filter> </div> <div onclick="{hide}" onupdate="none" ref="result" class="jobs__search__result__panel"></div> <div class="section__loading"> <div class="section__loading__text">Поиск вакансий...</div> </div> </div>',"",'class="oScreen section zIndex-5" data-inner="hidden" data-loading="false" data-show="right" data-open="false"',function(e){var t=this,i=$$(t.root);t.on("mount",function(){$Screens.module("search.filter",t),$Screens.search.filter.result=t.refs.result,t.section=new app.plugins.sections(t.root,{content:t.refs.wrapper}),i.find(".jobs__search__filter__range").on("swipeLeft swipeRight",function(e){e.stopPropagation()}),i.on("swipeRight",function(){t.hide()})}),t.show=function(e){t.section.show(),t.callback=e},t.open={dropMenu:function(e){$dropMenu.show({elem:$$(e.currentTarget),pos:"down-left",offset:{left:10},menu:[{title:"Сбросить фильтры"}],callback:function(){location.replace("/jobs/search/"+(Url.parseQuery().standalone?"?standalone":""))}})}},t.hide=function(){t.section.hide({beforeHide:function(){_.isFunction(t.callback)&&t.callback()}})}}),riot.tag2("jobs-panel-mobile",'<div class="row"> <div class="jobs__search__nav__form__wrapper col-xs-12"> <div class="jobs__search__nav__form"> <div class="input-group input-group-icon input-group-l" data-item="vacancy"> <ui-input ref="vacancy" placeholder="Я ищу..." autosuggest="getSuggestVacancy" autosuggestsize="l" size="l"></ui-input> <div class="input-icon"> <svg class="input-svg input-svg-search" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 21 3 C 11.623004 3 4 10.623004 4 20 C 4 29.376996 11.623004 37 21 37 C 24.709505 37 28.140329 35.803849 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460556 28.087561 38 24.221313 38 20 C 38 10.623004 30.376996 3 21 3 z M 21 5 C 29.296116 5 36 11.703884 36 20 C 36 28.296116 29.296116 35 21 35 C 12.703884 35 6 28.296116 6 20 C 6 11.703884 12.703884 5 21 5 z"></path> </svg> </div> </div> </div> <div onclick="{search}" onupdate="none" class="jobs__search__nav__form__button"></div> </div> <div class="jobs__search__nav__options__wrapper col-xs-12"> <div class="jobs__search__nav__options"> <jobs-panel-response-mobile class="jobs__search__nav__options__item" size="s" item="{$store.jobs.item}"></jobs-panel-response-mobile> <jobs-panel-favorite-mobile class="jobs__search__nav__options__item" size="s"></jobs-panel-favorite-mobile> </div> </div> </div>',"",'class="jobs__search__nav__panel section container"',function(e){var t=this;t.on("mount",function(){$Sections.module("search.panel",t),t.refs.vacancy.on("autocomplete.select",function(){t.search()})}),t.search=function(){var e=_.clean(t.refs.vacancy.value),i={};e&&(i.text=e),_.isEmpty(i)||location.replace("/jobs/search/?"+Url.stringify(i))}}),riot.tag2("jobs-panel-response-mobile",'<a target="_blank" href="https://hh.ru/applicant/vacancy_response?vacancyId={opts.item.id}"> <icon-replymail color="blueBright" size="{opts.size ? opts.size : \'xs\'}"></icon-replyMail> </a>',"",'data-item="reply"',function(e){}),riot.tag2("jobs-search-panel-mobile",'<div class="row"> <div class="jobs__search__nav__form__wrapper col-xs-12"> <div class="jobs__search__nav__form"> <div class="input-group input-group-icon input-group-l" data-item="vacancy"> <ui-input ref="vacancy" placeholder="Я ищу..." autosuggest="getSuggestVacancy" autosuggestsize="l" size="l"></ui-input> <div class="input-icon"> <svg class="input-svg input-svg-search" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 21 3 C 11.623004 3 4 10.623004 4 20 C 4 29.376996 11.623004 37 21 37 C 24.709505 37 28.140329 35.803849 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460556 28.087561 38 24.221313 38 20 C 38 10.623004 30.376996 3 21 3 z M 21 5 C 29.296116 5 36 11.703884 36 20 C 36 28.296116 29.296116 35 21 35 C 12.703884 35 6 28.296116 6 20 C 6 11.703884 12.703884 5 21 5 z"></path> </svg> </div> <div onclick="{onClear}" onupdate="none" data-clear="vacancy" class="input-clear"></div> </div> <div onclick="{open.filter}" onupdate="none" class="jobs__search__nav__form__settings"> <icon-control size="s" color="silver"></icon-control> </div> </div> <div onclick="{search}" onupdate="none" class="jobs__search__nav__form__button"></div> </div> <div class="jobs__search__nav__options__wrapper col-xs-12"> <div class="jobs__search__nav__options"> <jobs-search-panel-settings></jobs-search-panel-settings> <jobs-search-panel-views></jobs-search-panel-views> <jobs-panel-favorite-mobile class="jobs__search__nav__options__item" size="xs"></jobs-panel-favorite-mobile> </div> </div> </div> <div onclick="{open.filter}" onupdate="none" class="jobs__search__nav__opener__mobile {display-none : app.metrika.get(\'search.refinePanel\')}"> Уточнить поиск <div onclick="{close.refinePanel}" class="jobs__search__nav__opener__mobile__close"></div> </div>',"",'class="jobs__search__nav__panel section container"',function(e){var t=this;t.on("mount",function(){if($Sections.module("search.panel",t),t.vacancy=t.refs.vacancy,t.vacancy.on("autocomplete.select",function(){t.search()}),window.$State){var e=Url.parseQuery().text;e&&t.vacancy.update({value:e}),$$(t.root).find("input[type='text']").each(function(){var e=$$(this);e.data("clear",e.parent().parent().find(".input-clear")),e.on("input.press",function(e){var t=$$(e.target).data("clear");this.value.length&&!t.attr("data-visible")?t.attr("data-visible",!0):!this.value.length&&t.attr("data-visible")&&t.removeAttr("data-visible")})})}}),t.onClear=function(e){t[e.currentTarget.getAttribute("data-clear")].onClear(),$$(e.currentTarget).removeAttr("data-visible")},t.open={filter:function(){app.$dom.body.addClass("no-scroll"),$Screens.search.filter.show(function(){app.$dom.body.removeClass("no-scroll")})}},t.close={refinePanel:function(e){e.stopPropagation(),$$(e.target).parent().addClass("display-none"),app.metrika.set("search.refinePanel",!0)}},t.search=function(){var e=_.clean(t.vacancy.value);if(window.$State&&$Sections&&$Sections.search&&$Sections.search.filter){var i=Url.parseQuery();e?i.text=e:i.text&&delete i.text,$Sections.search.filter.onSearch($Sections.search.filter.getUrl(i))}else{var i={};e&&(i.text=e),_.isEmpty(i)||location.replace("/jobs/search/?"+Url.stringify(i))}}}),riot.tag2("jobs-search-content",'<div class="section__loading visible-xs"> <div class="section__loading__text">Поиск вакансий...</div> </div> <div class="jobs__list"> <div if="{!get.items().length}" class="jobs__list__empty text-center"> <h3 class="c-silver mb-s">Нет подходящих результатов</h3> <p class="mb25">попробуйте смягчить условия поиска</p> <a onclick="{onBack}" onupdate="none" href="/jobs/search/" class="btn btn-l btn-primary-hover-success">{opts.renderClient ? \'Сбросить фильтры\' : \'Вернуться на шаг назад\'}</a> </div> <jobs-search-list-item each="{item, i in get.items()}" no-reorder item="{item}" utils="{parent.get.utils()}" currency="{parent.get.currency()}" isphone="{parent.isPhone()}" _blank="true"></jobs-search-list-item> </div>',"",'class="section jobs__search__content" data-inner="hidden" data-loading="false"',function(e){var t=this;t.on("mount",function(){if(t.opts.renderClient)try{$Sections.module("search.content",t),$Sections.module("search.$content",$$(t.root)),app.device.isPhone&&($Sections.search.$content.on("swipeLeft",function(){$Sections.search.panel.open.filter()}),$Sections.search.$content.on("click",".jobs__list__item__title",function(e){e.preventDefault();var t=$$(this);$Screens.vacancy&&(app.$dom.body.addClass("no-scroll"),$Screens.vacancy.show(t.attr("data-id"),t.attr("href"),function(){app.$dom.body.removeClass("no-scroll")}))}))}catch(e){}}),t.onBack=function(){History.back()},t.isPhone=function(){if(!t.opts.renderClient)return"phone"==t.parent.opts.device.type;try{return app.device.isPhone}catch(e){}},t.get={items:function(){if(!t.opts.renderClient)return t.opts.items;try{return $store.jobs.items}catch(e){}},utils:function(){if(!t.opts.renderClient)return t.opts.utils;try{return window._}catch(e){}},currency:function(){if(!t.opts.renderClient)return t.opts.currency;try{return $store.jobs.dictionary.get("currency")}catch(e){}}}}),riot.tag2("jobs-search-list-item",'<div class="jobs__list__item"> <div class="jobs__list__item__content"> <a target="{⁗_blank⁗ : opts._blank}" href="/jobs/vacancy/{opts.item.id}/{link(opts.item.name)}" class="jobs__list__item__title" data-id="{opts.item.id}">{opts.item.name}</a> <div if="{opts.item.salary}" class="jobs__list__item__salary"> {\'от\' : opts.item.salary.from} {opts.utils.numberFormat(opts.item.salary.from, 0, ⁗.⁗, ⁗ ⁗)} <span if="{opts.item.salary.to}">до {opts.utils.numberFormat(opts.item.salary.to, 0, ⁗.⁗, ⁗ ⁗)}</span> {currency(opts.item.salary.currency)} </div> <div if="{opts.item.snippet.requirement}" class="jobs__list__item__text"> <strong>Требования:</strong> {opts.item.snippet.requirement} </div> <div class="jobs__list__item__company"> <div class="jobs__list__item__company__text" data-trusted="{opts.item.employer.trusted}">{opts.item.employer.name}</div> </div> <div class="jobs__list__item__address"> <span class="jobs__list__item__address__city">{opts.item.area.name}</span><span if="{opts.item.address && opts.item.address.metro}" class="jobs__list__item__address__metro"><span class="c-gray">&nbsp;&nbsp;•&nbsp;&nbsp;</span>{opts.item.address.metro.station_name}</span>&nbsp;&nbsp;•&nbsp;&nbsp;{date(opts.item.published_at)} </div> <div class="jobs__list__item__buttons"> <jobs-search-list-favorite item="{opts.item}" color="{opts.isphone ? ⁗silver⁗ : ⁗blueBright⁗}" size="{opts.isphone ? ⁗s⁗ : ⁗xs⁗}"></jobs-search-list-favorite> <a target="_blank" href="https://hh.ru/applicant/vacancy_response?vacancyId={opts.item.id}" class="btn-default btn-m">Откликнуться</a> </div> </div> </div>',"","",function(e){var t=this;t.link=function(e){return e.replace(/[.|,|:|;|(|)"|']/gi,"").replace(/\s+/gi,"-").replace(/\//gi,"-").replace(/(-)+/gi,"-")},t.date=function(e){var i=t.opts.utils.moment(e).diff(t.opts.utils.moment(),"days");return 0===i?"Сегодня":i===-1?"Вчера":t.opts.utils.moment(e).format("D MMMM")},t.currency=function(e){if(e)return t.opts.utils.findWhere(t.opts.currency,{code:e}).abbr}}),riot.tag2("jobs-search-pages",'<div class="row xs-plr0 xs-mlr0"> <div class="col-md-offset-18 col-md-6 col-lg-offset-19 col-lg-5 xs-plr0 xs-mlr0"> <div class="row jobs__search__pages__items xs-plr0 xs-mlr0"> <div if="{$State.get(⁗pages⁗) > 1}" class="jobs__search__pages__arrows"> <div onclick="{onPrev}" onupdate="none" class="jobs__search__pages__arrow" data-arrow="prev" data-active="{$State.get(⁗page⁗) > 0}">Alt + ←</div> <div onclick="{onNext}" onupdate="none" class="jobs__search__pages__arrow" data-arrow="next" data-active="{$State.get(⁗page⁗) + 1 < $State.get(⁗pages⁗)}">Alt + →</div> </div> <a href="/jobs/search{item > 0 ? \'/?page=\' + item : \'\'}" each="{item, i in get.pages()}" no-reorder onclick="{onSelect}" class="col-md-4 jobs__search__pages__item" data-active="{item == $State.get(⁗page⁗)}">{item + 1}</a> <span onclick="{onNext}" onupdate="none" class="jobs__search__pages__item jobs__search__pages__item__arrow" data-active="{$State.get(⁗page⁗) + 1 < $State.get(⁗pages⁗)}"></span> </div> </div> </div>',"",'class="section container jobs__search__pages"',function(e){var t=this;t.perPage=5,t.on("mount",function(){try{$Sections.module("search.pages",t),app.$dom.document.on("keydown",function(e){e.altKey&&(37==e.keyCode?t.onPrev():39==e.keyCode&&t.onNext())})}catch(e){}}),t.onSelect=function(e){e.preventDefault(),t.changePage(parseInt(this.item))},t.onNext=function(){$State.get("page")+1<$State.get("pages")&&(t.changePage($State.get("page")+1),t.update())},t.onPrev=function(){$State.get("page")>0&&(t.changePage($State.get("page")-1),t.update())},t.changePage=function(e){$State.select("page").set(e);var t=Url.parseQuery();e>0?t.page=e:t.page&&delete t.page,$Sections.search.filter.onSearch($Sections.search.filter.getUrl(t),{changePage:!0})},t.get={pages:function(){if(t.opts.renderClient)try{var e=$State.get("page"),i=$State.get("pages"),s=window._}catch(e){}else var e=1*t.opts.page,i=1*t.opts.pages,s=t.opts.utils;if(!(i<2)){if(e+t.perPage<=i)return e>0?s.range(e-1,e+(t.perPage-1)):s.range(e,e+t.perPage);var a=i-e;return a=2,e-a<0&&(a=e),i-(e-a)>t.perPage&&(i-=1),s.range(e-a,i)}}}}),riot.tag2("vacancy-content",'<div class="section__container"> <h1 class="title">{opts.item.name}</h1> <div class="pos-rel flex-row-left-center"> <a href="/jobs/employer/{opts.item.employer.id}/{link(opts.item.employer.name)}" class="employer__link link link-l text-truncate" data-id="{opts.item.employer.id}">{opts.item.employer.name}</a><div if="{opts.item.employer.trusted}" class="pos-rel ml-xs mt-xxs" data-balloon="Компания прошла идентификацию"><svg width="24" height="24" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path class="fill-green" d="M9.392 9.827L3.148 3.584l-2.54 1.04c-.21.116-.422 0-.53-.23-.104-.232-.104-.464 0-.58L2.832.234C2.937.113 3.044 0 3.15 0c.106 0 .212.115.318.232l6.455 8.9a.8.8 0 0 1 0 .695.286.286 0 0 1-.264.173.292.292 0 0 1-.265-.173" transform="matrix(1 0 0 -1 3 13)"></path></svg></div> <ui-share if="{!opts.isphone}"></ui-share> <ui-share-opener if="{opts.isphone}"></ui-share-opener> </div> <div class="vacancy__header"> <div class="vacancy__header__item" data-item="salary"> <div class="vacancy__header__item__title">Уровень зарплаты</div> <div if="{opts.item.salary}" class="vacancy__header__item__text nowrap">{\'от\' : opts.item.salary.from} {opts.utils.numberFormat(opts.item.salary.from, 0, ⁗.⁗, ⁗ ⁗)} <span if="{opts.item.salary.to}">до {opts.utils.numberFormat(opts.item.salary.to, 0, ⁗.⁗, ⁗ ⁗)}</span> {currency(opts.item.salary.currency)}</div> <div if="{!opts.item.salary}" class="vacancy__header__item__text">з/п не указана</div> <div class="vacancy__header__item__progress" riot-style="width:{!opts.item.salary ? \'0\' : progress.salary(opts.item.salary.from, opts.item.salary.to, opts.item.salary.currency)}%"></div> </div> <div class="vacancy__header__item" data-item="city"> <div class="vacancy__header__item__title">Город</div> <div class="vacancy__header__item__text {mb-xss : opts.item.address.metro_stations}">{opts.item.area.name}</div> <div each="{item in opts.item.address.metro_stations}" class="vacancy__header__item__metro">м. {item.station_name}</div> </div> <div class="vacancy__header__item" data-item="experience"> <div class="vacancy__header__item__title">Требуемый опыт работы</div> <div class="vacancy__header__item__text">{opts.item.experience.name}</div> <div class="vacancy__header__item__progress" data-level="{opts.item.experience.id}"></div> </div> </div> <div class="row vacancy__content"> <div class="col-md-16 vacancy__description"> <raw-content content="{opts.item.description}">{opts.item.description}</raw-content> </div> <div class="col-md-8"> <div class="vacancy__sidebar"> <a if="{opts.item.employer.logo_urls}" href="/jobs/employer/{opts.item.employer.id}/{link(opts.item.employer.name)}"><img riot-src="{opts.item.employer.logo_urls.original}" class="vacancy__logotype"></a> <div class="mb-s">Дата публикации вакансии</div> <div class="c-gray mb-l">{opts.utils.moment(opts.item.published_at).format(⁗D MMMM YYYY⁗)}</div> <div if="{!opts.utils.isEmpty(opts.item.key_skills)}" class="mb-l"> <h3>Ключевые навыки</h3> <div each="{item in opts.item.key_skills}" class="vacancy__skills__item">{item.name}</div> </div> <div if="{opts.item.address.city && opts.item.address.street}" class="mb-l"> <h3>Адрес</h3> <div class="c-blackLight mb-xs"> {opts.item.address.city}, {opts.item.address.street}, {opts.item.address.building} <span each="{item in opts.item.address.metro_stations}">, м. {item.station_name}</span> </div> <a target="_blank" href="https://yandex.ru/maps/?text={opts.item.address.city}, {opts.item.address.street}, {opts.item.address.building}" class="link">Показать на карте</a> </div> <div if="{opts.item.contacts}" class="mb-l"> <h3>Контакты</h3> <div class="c-blackLight fontSize-16"> <div if="{opts.item.contacts.phones}" class="mb-xxs"> <a href="tel:+{opts.item.contacts.phones[0].country} {opts.item.contacts.phones[0].city} {opts.item.contacts.phones[0].number}">+{opts.item.contacts.phones[0].country} {opts.item.contacts.phones[0].city} {opts.item.contacts.phones[0].number}</a> </div> <strong if="{opts.item.contacts.name}"> {opts.item.contacts.name} </strong> <div class="mt-xxs" if="{opts.item.contacts.phones && opts.item.contacts.phones[0].comment}"> {opts.item.contacts.phones[0].comment} </div> <div if="{opts.item.contacts.email}" class="nowrap"> <div class="hr"></div> Почта: <a class="display-inlineBlock text-truncate maxW-75p vAlign-middle link" href="mailto:{opts.item.contacts.email}">{opts.item.contacts.email}</a> </div> </div> </div> <h3>Тип занятости</h3> <div class="c-blackLight"> {opts.item.employment.name} </div> <div class="sidebar__share" data-align="left"> <div class="fb-like sidebar__share__button" data-layout="button_count" data-action="like" data-size="large" data-show-faces="true" data-share="false"></div> <div class="sidebar__share__button"> <a href="https://twitter.com/share" class="twitter-share-button" data-size="large">Tweet</a> </div> </div> </div> </div> </div> </div>',"",'class="section col-md-24 col-lg-19 xs-plr0 xs-mlr0 {opts.classname}"',function(e){var t=this;t.link=function(e){return e.replace(/[.|,|:|;|(|)"|']/gi,"").replace(/\s+/gi,"-").replace(/\//gi,"-").replace(/(-)+/gi,"-")},t.progress={salary:function(e,i,s){var a=120,o=1/t.opts.utils.findWhere(t.opts.currency,{code:s}).rate;if(e&&i){var n=parseInt((e+i)/2*o/1e3/a*100);return n<100?n:100}if(i){var n=parseInt(i*o/1e3/a*100);return n<100?n:100}if(e){var n=parseInt(e*o/1e3/a*100);return n<100?n:100}}},t.currency=function(e){return t.opts.utils.findWhere(t.opts.currency,{code:e}).abbr}}),riot.tag2("vacancy-similary",'<div class="container"> <div class="row"> <div class="col-md-17"> <div class="vacancy__similary"> <h3 class="title">Похожие вакансии</h3> <div class="vacancy__similary__items"> <a if="{i < 6}" each="{item, i in opts.items}" no-reorder href="/jobs/vacancy/{item.id}/{link(item.name)}" data-id="{item.id}" class="vacancy__similary__item"> <div class="vacancy__similary__item__title">{item.name}</div> <div class="vacancy__similary__item__salary"> <span if="{item.salary}">{\'от\' : item.salary.from} {parent.opts.utils.numberFormat(item.salary.from, 0, ⁗.⁗, ⁗ ⁗)} <span if="{item.salary.to}">до {parent.opts.utils.numberFormat(item.salary.to, 0, ⁗.⁗, ⁗ ⁗)}</span> {currency(item.salary.currency)}</span> <span if="{!item.salary}">з/п не указана</span> </div> <div class="vacancy__similary__item__name">{item.employer.name}, {item.area.name}</div> </a> </div> </div> </div> <div class="col-md-7"> <div class="vacancy__similary__resumeOffer"> <div class="resumeOffer"> <div class="resumeOffer__title">У вас уже есть продающее резюме?</div> <div class="resumeOffer__container"> <a target="_blank" href="/premium/"> <div class="resumeOffer__image"></div> <div class="resumeOffer__text">Создайте премиальное резюме нового формата, чтобы работодатели смогли заметить вас и пригласить на работу.</div> </a> </div> <a target="_blank" href="/premium/" class="btn-default btn-l btn-white">Узнать больше</a> </div> </div> </div> </div> </div>',"",'if="{opts.items && !opts.utils.isEmpty(opts.items)}" class="section vacancy__similary__wrapper"',function(e){var t=this;t.link=function(e){return e.replace(/[.|,|:|;|(|)"|']/gi,"").replace(/\s+/gi,"-").replace(/\//gi,"-").replace(/(-)+/gi,"-")},t.currency=function(e){if(e)return t.opts.utils.findWhere(t.opts.currency,{code:e}).abbr}}),riot.tag2("employer-vacancies-mobile",'<h3>Вакансии компании</h3> <div each="{item in opts.items}" no-reorder class="employer__vacancies__item"> <div class="employer__vacancies__item__name"> <a href="/jobs/vacancy/{item.id}/{link(item.employer.name)}" class="employer__vacancies__item__title" data-id="{item.id}">{item.name}</a> <div class="employer__vacancies__item__date"> <span class="c-gray">{parent.opts.utils.moment(item.published_at).format(⁗D MMMM⁗)}</span>, {item.area.name} </div> <div class="employer__vacancies__item__salary"> <span if="{item.salary}">{\'от\' : item.salary.from} {parent.opts.utils.numberFormat(item.salary.from, 0, ⁗.⁗, ⁗ ⁗)} <span if="{item.salary.to}">до {parent.opts.utils.numberFormat(item.salary.to, 0, ⁗.⁗, ⁗ ⁗)} {currency(item.salary.currency)}</span></span> <span if="{!item.salary.to}">{currency(item.salary.currency)}</span> <span if="{!item.salary}">з/п не указана</span> </div> </div> </div>',"",'if="{opts.items && !opts.utils.isEmpty(opts.items)}" id="vacancies" class="section employer__vacancies"',function(e){var t=this;t.link=function(e){return e.replace(/[.|,|:|;|(|)"|']/gi,"").replace(/\s+/gi,"-").replace(/\//gi,"-").replace(/(-)+/gi,"-")},t.currency=function(e){if(e)return t.opts.utils.findWhere(t.opts.currency,{code:e}).abbr}}),riot.tag2("employer-content",'<div class="section__container"> <div class="row xs-plr0 xs-mlr0"> <div class="col-md-7 col-lg-6 xs-plr0 xs-mlr0"> <h1 if="{opts.isphone}" class="title flex-row-left-center">{opts.item.name}<div if="{opts.item.trusted}" class="pos-rel ml-xs mt-xxs" data-balloon="Компания прошла идентификацию"><svg width="24" height="24" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path class="fill-green" d="M9.392 9.827L3.148 3.584l-2.54 1.04c-.21.116-.422 0-.53-.23-.104-.232-.104-.464 0-.58L2.832.234C2.937.113 3.044 0 3.15 0c.106 0 .212.115.318.232l6.455 8.9a.8.8 0 0 1 0 .695.286.286 0 0 1-.264.173.292.292 0 0 1-.265-.173" transform="matrix(1 0 0 -1 3 13)"></path></svg></div></h1> <div class="employer__sidebar"> <img if="{opts.item.logo_urls}" riot-src="{opts.item.logo_urls.original}" class="employer__logotype"> <div class="mt-m mb-l xs-mb-m"> <div class="c-gray mb-xxs"> {opts.item.area.name} </div> <a if="{opts.item.site_url}" target="_blank" href="{opts.item.site_url}" class="link"> {opts.item.site_url} </a> </div> <div class="mb-l xs-mb-m"> <div><strong>Вакансии</strong></div> <a href="#vacancies" if="{opts.items.length}" class="link link__to__vacancies">{opts.items.length} активных вакансий</a> <span if="{!opts.items.length}" class="c-gray">Сейчас нет открытых</span> </div> <div class="employer__type"> <span if="{opts.item.type == ⁗company⁗}">Компания является прямым работодателем</span> <span if="{opts.item.type == ⁗agency⁗}">Компания является кадровым агентством</span> <span if="{opts.item.type == ⁗private_recruiter⁗}">Частный рекрутер</span> </div> </div> <div class="sidebar__share" data-align="left"> <div class="fb-like sidebar__share__button" data-layout="button_count" data-action="like" data-size="large" data-show-faces="true" data-share="false"></div> <div class="sidebar__share__button"> <a href="https://twitter.com/share" class="twitter-share-button" data-size="large">Tweet</a> </div> </div> </div> <div class="col-md-17 col-lg-18 xs-plr0 xs-mlr0 employer__content"> <h1 if="{!opts.isphone}" class="title flex-row-left-center">{opts.item.name}<div if="{opts.item.trusted}" class="pos-rel ml-xs mt-xxs" data-balloon="Компания прошла идентификацию"><svg width="24" height="24" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path class="fill-green" d="M9.392 9.827L3.148 3.584l-2.54 1.04c-.21.116-.422 0-.53-.23-.104-.232-.104-.464 0-.58L2.832.234C2.937.113 3.044 0 3.15 0c.106 0 .212.115.318.232l6.455 8.9a.8.8 0 0 1 0 .695.286.286 0 0 1-.264.173.292.292 0 0 1-.265-.173" transform="matrix(1 0 0 -1 3 13)"></path></svg></div></h1> <div class="employer__description"> <raw-content content="{opts.item.description}">{opts.item.description}</raw-content> </div> </div> </div> </div>',"",'class="section col-md-24 col-lg-19 xs-plr0 xs-mlr0 {opts.classname}"',function(e){}),
riot.tag2("raw-content","","","",function(e){this.on("update",function(){function e(e){var t='<iframe src="',i='" frameborder="0" allowfullscreen></iframe>',s={youtube:/(?:<a\s.+>)https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(&.+)?(?:<\/a>)/gi,vimeo:/(?:<a\s.+>)https?:\/\/(www\.)?vimeo.com\/(\d+)(?:<\/a>)/,image:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi};return e.match(s.youtube)&&(e=e.replace(s.youtube,t+"//www.youtube.com/embed/$1"+i)),e.match(s.vimeo)&&(e=e.replace(s.vimeo,t+"//player.vimeo.com/video/$2"+i)),e}try{if(this.opts.content&&this.opts.content.length){var t=this.opts.content;t=t.replace(/<[^\/]>[\s|\r|\n]{0,}<\/.+?>/gi,""),t=t.replace(/(&nbsp;)+/gi," "),t=t.replace(/\s+/gi," "),t=t.replace(/(<br \/>)+/gi,""),t=t.replace(/<p><br \/><strong>/gi,"<p><strong>"),t=t.replace(/<strong>(.+?)<\/strong>:/gi,"<strong>$1:</strong>"),t=t.replace(/<em><strong>(.+?)<\/strong><\/em>/gi,"<strong>$1</strong>"),t=t.replace(/<strong><em>(.+?)<\/em><\/strong>/gi,"<strong>$1</strong>"),t=t.replace(/<\/(\w+)>\s+<(\w+)/gi,"</$1><$2"),t=t.replace(/<p><strong>([a-zа-яё\s\.,]+):[\s|\r|\n]?<\/strong><\/p>/gi,"<p class='h'>$1:</p>"),t=t.replace(/<strong>([a-zа-яё\s\.,]+):[\s|\r|\n]?<\/strong>/gi,"<p class='h'>$1:</p>"),t=t.replace(/<p class='h'>(.+?):<\/p>/gi,"<p class='h'><strong>$1:</strong></p>"),t=t.replace(/<p><strong>([a-zа-яё\s\.,]+)(?!:)[\s|\r|\n]?<\/strong><\/p><ul>/gi,"<p class='h'><strong>$1:</strong></p><ul>"),t=t.replace(/<p>([a-zа-яё\s\.,]+):[\s|\r|\n]?<\/p><ul>/gi,"<p class='h'><strong>$1:</strong></p><ul>"),t=t.replace(/<li>[\s|\r|\n]?<strong>(.+?)<\/strong>[\s|\r|\n]?<\/li>/gi,"<li class='s'><strong>$1</strong></li>"),t=t.replace(/<li>[\s|\r|\n]?<p>(.+?)<\/p>[\s|\r|\n]?<\/li>/gi,"<li>$1</li>"),t=t.replace(/http:\/\/www\./gi,"http://");var i=/\b((ht|f)tp(s)?:\/\/[\w]+[^ \,\"\n\r\t<]*)\b/gi;t=t.replace(i,function(e){return'<a href="'+e+'" target="_blank">'+e+"</a>"}),this.root.innerHTML=e(t)}else this.root.innerHTML="Компания еще не добавила описание о себе."}catch(e){this.root.innerHTML=this.opts.content&&this.opts.content.length&&this.opts.content||"Компания еще не добавила описание о себе."}})}),riot.tag2("icon-like",'<svg class="icon-like {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M70.459,13.858c11.515,0,20.846,9.334,20.846,20.846c0,23.3-34.423,44.555-41.306,51.438 C43.152,79.294,8.695,58.004,8.695,34.704c0-11.512,9.333-20.846,20.847-20.846c10.153,0,18.602,7.261,20.457,16.874 C51.856,21.119,60.305,13.858,70.459,13.858 M70.459,7.738c-8.079,0-15.467,3.606-20.459,9.412 c-4.991-5.806-12.378-9.412-20.458-9.412c-14.87,0-26.967,12.097-26.967,26.966c0,21.608,22.979,39.693,36.708,50.5 c2.831,2.228,5.275,4.151,6.389,5.265l4.328,4.329l4.329-4.328c1.123-1.123,3.576-3.055,6.418-5.292 c13.719-10.799,36.68-28.873,36.68-50.474C97.425,19.835,85.328,7.738,70.459,7.738L70.459,7.738z"></path></svg>',"",'class="icon"',function(e){}),riot.tag2("icon-replymail",'<svg class="icon-replyMail {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" preserveaspectratio="xMidYMid" viewbox="0 0 63 63.75" version="1.1" x="0px" y="0px"><path d="M 33.40625 0 C 33.022625 -0.0065 32.611 0.15 32.3125 0.4375 C 31.7165 1.0135 31.70525 1.9675 32.28125 2.5625 L 38.46875 8.9375 L 22.4375 8.84375 C 21.6115 8.84375 20.9405 9.51775 20.9375 10.34375 C 20.9335 11.17175 21.6095 11.84075 22.4375 11.84375 L 38.65625 11.84375 L 32.3125 18.28125 C 31.7315 18.87125 31.7235 19.82525 32.3125 20.40625 C 32.6055 20.69425 32.994 20.84375 33.375 20.84375 C 33.763 20.84375 34.1435 20.673 34.4375 20.375 L 43.15625 11.5625 C 43.393877 11.321544 43.490105 11.031323 43.53125 10.71875 C 43.543536 10.66099 43.557307 10.59194 43.5625 10.53125 C 43.563099 10.401712 43.564048 10.251209 43.53125 10.125 C 43.453141 9.7412813 43.224484 9.4207188 42.90625 9.21875 L 34.4375 0.46875 C 34.1505 0.17125 33.789875 0.0065 33.40625 0 z M 9.71875 9 C 4.32775 9 2.5179891e-017 13.402 0 18.625 L 0 42.03125 C 0 47.48225 5.2075 50.84375 10.4375 50.84375 L 54.1875 50.84375 C 59.3655 50.84375 63 47.47425 63 42.03125 L 63 18.625 C 63 13.132 58.9525 9 53.8125 9 C 52.9845 9 52.15625 9.671 52.15625 10.5 C 52.15625 11.329 52.95325 12 53.78125 12 C 55.903333 12 57.723397 13.041216 58.84375 14.71875 L 35.59375 29.5 C 33.58875 30.646 31.079 30.6485 29.125 29.5625 L 4.625 14.3125 C 5.866323 12.898385 7.7204491 12 9.78125 12 C 10.60925 12 11.125 11.329 11.125 10.5 C 11.125 9.671 10.54675 9 9.71875 9 z M 3.21875 16.96875 L 27.625 32.15625 C 29.067 32.95825 30.66425 33.34375 32.28125 33.34375 C 33.95225 33.34375 35.64625 32.9265 37.15625 32.0625 L 59.9375 17.59375 C 59.982471 17.92858 60 18.27094 60 18.625 L 60 42.03125 C 60 44.68825 58.6465 47.84375 54.1875 47.84375 L 10.4375 47.84375 C 6.6345 47.84375 3 45.51525 3 42.03125 L 3 18.625 C 3 18.052656 3.074993 17.502844 3.21875 16.96875 z" fill-rule="evenodd"></path></svg>',"",'class="icon"',function(e){}),riot.tag2("icon-location",'<svg class="icon-location {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 24 30" style="enable-background:new 0 0 24 24;" xml:space="preserve"><g><path d="M6.321,14.839l5.285,5.285c0.109,0.109,0.251,0.163,0.394,0.163s0.285-0.054,0.394-0.163l5.297-5.298 c0.602-0.641,1.085-1.369,1.438-2.161c0.448-0.999,0.675-2.067,0.675-3.173c0-4.303-3.501-7.804-7.804-7.804 S4.196,5.188,4.196,9.492c0,1.106,0.227,2.174,0.674,3.172C5.223,13.457,5.707,14.185,6.321,14.839z M12,2.802 c3.688,0,6.689,3.001,6.689,6.689c0,0.948-0.194,1.862-0.578,2.719c-0.302,0.68-0.717,1.303-1.22,1.841L12,18.942l-4.878-4.878 c-0.516-0.55-0.931-1.174-1.234-1.855c-0.383-0.855-0.578-1.769-0.578-2.717C5.311,5.803,8.312,2.802,12,2.802z"></path><path d="M22.01,21.595l-1.672-5.574l-1.068,0.32l1.457,4.857H3.273l1.457-4.857l-1.068-0.32L1.99,21.595 c-0.051,0.169-0.019,0.352,0.087,0.493c0.105,0.142,0.271,0.225,0.447,0.225h18.953c0.176,0,0.342-0.083,0.447-0.225 C22.029,21.947,22.061,21.764,22.01,21.595z"></path><path d="M12,12.836c1.844,0,3.345-1.5,3.345-3.345S13.844,6.147,12,6.147s-3.345,1.5-3.345,3.345S10.156,12.836,12,12.836z M12,7.262c1.229,0,2.23,1,2.23,2.23s-1,2.23-2.23,2.23s-2.23-1-2.23-2.23S10.771,7.262,12,7.262z"></path></g></svg>',"",'class="icon"',function(e){}),riot.tag2("icon-control",'<svg class="icon-control {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M52.037,48.713V14.806c0-1.081-0.876-1.957-1.957-1.957c-1.081,0-1.957,0.876-1.957,1.957v33.907 c-4.792,0.918-8.427,5.136-8.427,10.193c0,5.056,3.635,9.274,8.427,10.193v15.14c0,1.081,0.876,1.957,1.957,1.957 c1.081,0,1.957-0.876,1.957-1.957v-15.14c4.792-0.918,8.427-5.136,8.427-10.193C60.464,53.849,56.829,49.631,52.037,48.713z M50.08,65.375c-3.568,0-6.47-2.902-6.47-6.47s2.902-6.47,6.47-6.47c3.568,0,6.47,2.902,6.47,6.47S53.648,65.375,50.08,65.375z M26.7,31.361V14.806c0-1.081-0.876-1.957-1.957-1.957c-1.081,0-1.957,0.876-1.957,1.957v16.555 c-4.792,0.918-8.427,5.136-8.427,10.193c0,5.056,3.634,9.274,8.427,10.193v31.736c0,1.081,0.876,1.957,1.957,1.957 c1.081,0,1.957-0.876,1.957-1.957V51.746c4.792-0.918,8.427-5.136,8.427-10.193C35.127,36.497,31.493,32.279,26.7,31.361z M24.744,48.023c-3.568,0-6.47-2.902-6.47-6.47c0-3.545,2.867-6.43,6.403-6.467c0.023,0.001,0.044,0.007,0.067,0.007 s0.044-0.006,0.067-0.007c3.537,0.036,6.403,2.922,6.403,6.467C31.214,45.121,28.311,48.023,24.744,48.023z M85.64,41.553 c0-5.056-3.635-9.274-8.427-10.193V15.762c0-1.081-0.876-1.957-1.957-1.957c-1.081,0-1.957,0.876-1.957,1.957v15.598 c-4.792,0.918-8.427,5.136-8.427,10.193c0,5.056,3.635,9.274,8.427,10.193v33.449c0,1.081,0.876,1.957,1.957,1.957 c1.081,0,1.957-0.876,1.957-1.957V51.746C82.005,50.827,85.64,46.609,85.64,41.553z M75.256,48.023c-3.568,0-6.47-2.902-6.47-6.47 c0-3.568,2.902-6.47,6.47-6.47c3.568,0,6.47,2.902,6.47,6.47C81.727,45.121,78.824,48.023,75.256,48.023z"></path></svg>',"",'class="icon"',function(e){}),riot.tag2("icon-fb",'<svg class="icon-fb {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid" viewbox="0 0 8 19"> <path d="M7.692,-0.007 L6.740,-0.007 C4.093,-0.007 1.939,2.319 1.939,5.178 L1.939,7.366 L0.312,7.366 C0.145,7.366 0.009,7.512 0.009,7.693 L0.009,10.314 C0.009,10.495 0.145,10.642 0.312,10.642 L1.939,10.642 L1.939,18.671 C1.939,18.852 2.075,18.998 2.243,18.998 L4.670,18.998 C4.837,18.998 4.973,18.852 4.973,18.671 L4.973,10.642 L7.388,10.642 C7.555,10.642 7.691,10.495 7.691,10.314 L7.691,7.693 C7.691,7.512 7.555,7.366 7.388,7.366 L4.973,7.366 L4.973,5.178 C4.973,4.126 5.766,3.270 6.740,3.270 L7.692,3.270 C7.860,3.270 7.995,3.123 7.995,2.942 L7.995,0.321 C7.995,0.140 7.860,-0.007 7.692,-0.007 Z"></path> </svg>',"",'class="icon"',function(e){}),riot.tag2("icon-vk",'<svg class="icon-vk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid" viewbox="0 0 19.38 10.94"> <path d="M18.527,8.527 C18.106,8.031 17.626,7.588 17.163,7.160 C16.998,7.006 16.827,6.849 16.663,6.692 C16.191,6.242 16.174,6.073 16.548,5.561 C16.806,5.208 17.080,4.855 17.345,4.513 C17.585,4.203 17.834,3.883 18.072,3.562 L18.121,3.495 C18.576,2.879 19.047,2.244 19.297,1.476 C19.362,1.274 19.431,0.976 19.274,0.727 C19.118,0.477 18.816,0.401 18.601,0.366 C18.495,0.349 18.390,0.346 18.292,0.346 L15.311,0.343 L15.287,0.343 C14.836,0.343 14.532,0.551 14.358,0.978 C14.192,1.386 14.009,1.820 13.801,2.233 C13.387,3.056 12.860,4.003 12.098,4.793 L12.066,4.826 C11.976,4.921 11.874,5.029 11.800,5.029 C11.788,5.029 11.776,5.026 11.762,5.023 C11.604,4.961 11.498,4.588 11.503,4.414 C11.503,4.413 11.503,4.410 11.503,4.408 L11.501,1.042 C11.501,1.030 11.500,1.019 11.499,1.007 C11.423,0.459 11.255,0.119 10.620,-0.002 C10.603,-0.005 10.586,-0.007 10.569,-0.007 L7.469,-0.007 C6.964,-0.007 6.686,0.193 6.424,0.493 C6.354,0.573 6.206,0.741 6.279,0.944 C6.353,1.149 6.593,1.194 6.671,1.207 C7.059,1.280 7.278,1.511 7.340,1.915 C7.448,2.619 7.461,3.370 7.381,4.277 C7.359,4.530 7.315,4.725 7.243,4.892 C7.226,4.931 7.167,5.058 7.106,5.058 C7.087,5.058 7.031,5.050 6.929,4.982 C6.689,4.821 6.513,4.592 6.308,4.308 C5.610,3.344 5.024,2.282 4.517,1.062 C4.329,0.613 3.978,0.362 3.528,0.354 C3.033,0.347 2.584,0.343 2.157,0.343 C1.689,0.343 1.256,0.347 0.833,0.356 C0.471,0.362 0.220,0.468 0.088,0.672 C-0.044,0.875 -0.035,1.141 0.114,1.465 C1.307,4.055 2.388,5.939 3.621,7.572 C4.484,8.716 5.350,9.506 6.346,10.062 C7.395,10.649 8.571,10.933 9.941,10.933 C10.096,10.933 10.256,10.930 10.418,10.923 C11.214,10.885 11.509,10.603 11.546,9.846 C11.564,9.459 11.607,9.055 11.802,8.707 C11.925,8.490 12.040,8.490 12.077,8.490 C12.150,8.490 12.240,8.523 12.336,8.584 C12.509,8.694 12.658,8.842 12.780,8.971 C12.894,9.093 13.008,9.218 13.121,9.342 C13.366,9.609 13.619,9.887 13.883,10.149 C14.462,10.724 15.100,10.977 15.832,10.923 L18.565,10.923 C18.571,10.923 18.577,10.923 18.583,10.922 C18.855,10.905 19.091,10.757 19.230,10.517 C19.402,10.220 19.398,9.841 19.220,9.503 C19.019,9.122 18.757,8.795 18.527,8.527 Z"></path> </svg>',"",'class="icon"',function(e){}),riot.tag2("icon-tw",'<svg class="icon-tw {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid" viewbox="0 0 17.69 14.31"> <path d="M17.627,2.194 C17.561,2.137 17.464,2.128 17.391,2.177 C17.066,2.392 16.629,2.501 16.265,2.557 C16.700,2.202 17.207,1.646 17.204,0.929 C17.203,0.857 17.163,0.790 17.098,0.758 C17.034,0.725 16.956,0.732 16.898,0.775 C16.239,1.254 15.294,1.507 14.948,1.587 C14.703,1.186 13.862,0.004 12.408,0.004 C12.326,0.004 12.243,0.008 12.161,0.016 C10.354,0.182 9.478,1.237 9.062,2.093 C8.799,2.634 8.683,3.158 8.633,3.504 C8.346,3.254 7.846,2.874 7.102,2.495 C5.966,1.914 4.013,1.223 1.168,1.223 C0.892,1.223 0.607,1.230 0.324,1.243 C0.259,1.245 0.200,1.281 0.167,1.336 C0.134,1.391 0.131,1.460 0.159,1.517 C0.766,2.777 2.073,3.517 2.923,3.883 C2.456,4.006 1.958,4.247 1.802,4.626 C1.722,4.819 1.702,5.122 2.055,5.470 C2.573,5.981 3.183,6.292 3.719,6.481 C3.299,6.556 2.963,6.684 2.854,6.897 C2.813,6.979 2.766,7.145 2.915,7.350 C3.630,8.331 5.343,8.713 6.103,8.776 C6.007,9.004 5.806,9.375 5.418,9.743 C4.590,10.528 3.283,10.944 1.640,10.944 C1.640,10.944 1.640,10.944 1.640,10.944 C1.193,10.944 0.714,10.914 0.215,10.854 C0.133,10.844 0.053,10.888 0.018,10.963 C-0.017,11.038 -0.000,11.128 0.060,11.185 C2.226,13.230 4.685,14.312 7.172,14.312 C7.172,14.312 7.173,14.312 7.173,14.312 C9.910,14.312 12.590,12.968 14.342,10.717 C15.902,8.713 16.499,6.314 15.995,4.108 C16.332,3.963 17.076,3.537 17.667,2.427 C17.709,2.350 17.692,2.254 17.627,2.194 Z"></path> </svg>',"",'class="icon"',function(e){}),riot.tag2("icon-dk",'<svg class="icon-dk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid" viewbox="0 0 11 19"> <path d="M10.718,11.496 C10.151,12.099 9.468,12.536 8.709,12.841 C7.992,13.130 7.206,13.273 6.429,13.370 C6.546,13.503 6.601,13.568 6.675,13.645 C7.731,14.744 8.791,15.839 9.844,16.942 C10.202,17.318 10.277,17.783 10.079,18.220 C9.864,18.698 9.380,19.012 8.906,18.978 C8.606,18.957 8.372,18.802 8.164,18.586 C7.367,17.754 6.555,16.938 5.775,16.092 C5.548,15.846 5.438,15.892 5.238,16.107 C4.436,16.961 3.622,17.804 2.802,18.641 C2.434,19.017 1.996,19.084 1.569,18.870 C1.116,18.642 0.827,18.163 0.849,17.680 C0.865,17.353 1.020,17.103 1.236,16.881 C2.281,15.800 3.323,14.715 4.365,13.633 C4.434,13.560 4.499,13.484 4.599,13.372 C3.178,13.218 1.896,12.856 0.798,11.967 C0.662,11.856 0.522,11.750 0.397,11.625 C-0.083,11.148 -0.131,10.600 0.249,10.036 C0.574,9.552 1.120,9.423 1.687,9.701 C1.797,9.754 1.902,9.821 2.002,9.893 C4.047,11.350 6.856,11.390 8.909,9.960 C9.113,9.798 9.330,9.666 9.582,9.599 C10.072,9.469 10.529,9.655 10.792,10.099 C11.092,10.607 11.088,11.101 10.718,11.496 ZM5.465,9.606 C2.929,9.597 0.849,7.418 0.864,4.786 C0.879,2.124 2.960,-0.020 5.521,-0.013 C8.087,-0.006 10.147,2.169 10.134,4.859 C10.121,7.487 8.027,9.615 5.465,9.606 ZM5.502,2.443 C4.233,2.442 3.220,3.501 3.230,4.820 C3.239,6.123 4.252,7.156 5.514,7.151 C6.772,7.146 7.774,6.099 7.770,4.792 C7.765,3.486 6.761,2.444 5.502,2.443 Z"></path> </svg>',"",'class="icon"',function(e){}),riot.tag2("icon-gl",'<svg class="icon-gl {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" enable-background="new 0 0 128 128" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd"></rect><path clip-rule="evenodd" d="M40.654,55.935v16.13 c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194 s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877 c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727 c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823 H128V56.742H113.912z" fill-rule="evenodd"></path></svg>',"",'class="icon"',function(e){});