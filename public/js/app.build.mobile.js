!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"!==n&&!ot.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(gt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return Q.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(wt)||[],function(t,n){e[n]=!0}),e}function s(){G.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function u(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Pt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ct.test(n)?ot.parseJSON(n):n)}catch(t){}Et.set(t,e,n)}else n=void 0;return n}function l(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ot.css(t,e,"")},u=a(),l=n&&n[3]||(ot.cssNumber[e]?"":"px"),c=(ot.cssNumber[e]||"px"!==l&&+u)&&Dt.exec(ot.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,ot.style(t,e,c+l);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function h(t,e){for(var n=0,i=t.length;i>n;n++)_t.set(t[n],"globalEval",!e||_t.get(e[n],"globalEval"))}function p(t,e,n,i,r){for(var o,s,a,u,l,p,f=e.createDocumentFragment(),d=[],g=0,v=t.length;v>g;g++)if(o=t[g],o||0===o)if("object"===ot.type(o))ot.merge(d,o.nodeType?[o]:o);else if(Yt.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(Mt.exec(o)||["",""])[1].toLowerCase(),u=Ht[a]||Ht._default,s.innerHTML=u[1]+ot.htmlPrefilter(o)+u[2],p=u[0];p--;)s=s.lastChild;ot.merge(d,s.childNodes),s=f.firstChild,s.textContent=""}else d.push(e.createTextNode(o));for(f.textContent="",g=0;o=d[g++];)if(i&&ot.inArray(o,i)>-1)r&&r.push(o);else if(l=ot.contains(o.ownerDocument,o),s=c(f.appendChild(o),"script"),l&&h(s),n)for(p=0;o=s[p++];)Lt.test(o.type||"")&&n.push(o);return f}function f(){return!0}function d(){return!1}function g(){try{return G.activeElement}catch(t){}}function v(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)v(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=d;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ot().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,r,i,n)})}function m(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=zt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(_t.hasData(t)&&(o=_t.access(t),s=_t.set(e,o),l=o.events)){delete s.handle,s.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)ot.event.add(e,r,l[r][n])}Et.hasData(t)&&(a=Et.access(t),u=ot.extend({},a),Et.set(e,u))}}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Nt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function T(t,e,n,i){e=J.apply([],e);var r,o,s,a,u,l,h=0,f=t.length,d=f-1,g=e[0],v=ot.isFunction(g);if(v||f>1&&"string"==typeof g&&!it.checkClone&&Rt.test(g))return t.each(function(r){var o=t.eq(r);v&&(e[0]=g.call(this,r,o.html())),T(o,e,n,i)});if(f&&(r=p(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=ot.map(c(r,"script"),y),a=s.length;f>h;h++)u=r,h!==d&&(u=ot.clone(u,!0,!0),a&&ot.merge(s,c(u,"script"))),n.call(t[h],u,h);if(a)for(l=s[s.length-1].ownerDocument,ot.map(s,b),h=0;a>h;h++)u=s[h],Lt.test(u.type||"")&&!_t.access(u,"globalEval")&&ot.contains(l,u)&&(u.src?ot._evalUrl&&ot._evalUrl(u.src):ot.globalEval(u.textContent.replace(Wt,"")))}return t}function S(t,e,n){for(var i,r=e?ot.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ot.cleanData(c(i)),i.parentNode&&(n&&ot.contains(i.ownerDocument,i)&&h(c(i,"script")),i.parentNode.removeChild(i));return t}function k(t,e){var n=ot(e.createElement(t)).appendTo(e.body),i=ot.css(n[0],"display");return n.detach(),i}function _(t){var e=G,n=Ut[t];return n||(n=k(t,e),"none"!==n&&n||($t=($t||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=$t[0].contentDocument,e.write(),e.close(),n=k(t,e),$t.detach()),Ut[t]=n),n}function E(t,e,n){var i,r,o,s,a=t.style;return n=n||Kt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||ot.contains(t.ownerDocument,t)||(s=ot.style(t,e)),n&&!it.pixelMarginRight()&&Gt.test(s)&&Vt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function P(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function j(t,e,n){var i=Dt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function D(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(t,n+At[o],!0,r)),i?("content"===n&&(s-=ot.css(t,"padding"+At[o],!0,r)),"margin"!==n&&(s-=ot.css(t,"border"+At[o]+"Width",!0,r))):(s+=ot.css(t,"padding"+At[o],!0,r),"padding"!==n&&(s+=ot.css(t,"border"+At[o]+"Width",!0,r)));return s}function A(e,n,i){var r=!0,o="width"===n?e.offsetWidth:e.offsetHeight,s=Kt(e),a="border-box"===ot.css(e,"boxSizing",!1,s);if(G.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(o=Math.round(100*e.getBoundingClientRect()[n])),0>=o||null==o){if(o=E(e,n,s),(0>o||null==o)&&(o=e.style[n]),Gt.test(o))return o;r=a&&(it.boxSizingReliable()||o===e.style[n]),o=parseFloat(o)||0}return o+D(e,n,i||(a?"border":"content"),r,s)+"px"}function O(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=_t.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ot(i)&&(o[s]=_t.access(i,"olddisplay",_(i.nodeName)))):(r=Ot(i),"none"===n&&r||_t.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function N(t,e,n,i,r){return new N.prototype.init(t,e,n,i,r)}function M(){return t.setTimeout(function(){re=void 0}),re=ot.now()}function L(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=At[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function H(t,e,n){for(var i,r=(B.tweeners[e]||[]).concat(B.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function Y(t,e,n){var i,r,o,s,a,u,l,c,h=this,p={},f=t.style,d=t.nodeType&&Ot(t),g=_t.get(t,"fxshow");n.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=ot.css(t,"display"),c="none"===l?_t.get(t,"olddisplay")||_(t.nodeName):l,"inline"===c&&"none"===ot.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],se.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;d=!0}p[i]=g&&g[i]||ot.style(t,i)}else l=void 0;if(ot.isEmptyObject(p))"inline"===("none"===l?_(t.nodeName):l)&&(f.display=l);else{g?"hidden"in g&&(d=g.hidden):g=_t.access(t,"fxshow",{}),o&&(g.hidden=!d),d?ot(t).show():h.done(function(){ot(t).hide()}),h.done(function(){var e;_t.remove(t,"fxshow");for(e in p)ot.style(t,e,p[e])});for(i in p)s=H(d?g[i]:0,i,h),i in g||(g[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function X(t,e){var n,i,r,o,s;for(n in t)if(i=ot.camelCase(n),r=e[i],o=t[n],ot.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function B(t,e,n){var i,r,o=0,s=B.prefilters.length,a=ot.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=re||M(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),1>o&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||M(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(X(c,l.opts.specialEasing);s>o;o++)if(i=B.prefilters[o].call(l,t,c,l.opts))return ot.isFunction(i.stop)&&(ot._queueHooks(l.elem,l.opts.queue).stop=ot.proxy(i.stop,i)),i;return ot.map(c,H,l),ot.isFunction(l.opts.start)&&l.opts.start.call(t,l),ot.fx.timer(ot.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function I(t){return t.getAttribute&&t.getAttribute("class")||""}function q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(wt)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function F(t,e,n,i){function r(a){var u;return o[a]=!0,ot.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},s=t===Ee;return r(e.dataTypes[0])||!o["*"]&&r("*")}function R(t,e){var n,i,r=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function z(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function W(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function $(t,e,n,i){var r;if(ot.isArray(e))ot.each(e,function(e,r){n||De.test(t)?i(t,r):$(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(r in e)$(t+"["+r+"]",e[r],n,i)}function U(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var V=[],G=t.document,K=V.slice,J=V.concat,Z=V.push,Q=V.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.3",ot=function(t,e){return new ot.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,ut=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:V.sort,splice:V.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(l&&i&&(ot.isPlainObject(i)||(r=ot.isArray(i)))?(r?(r=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},s[e]=ot.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=G.createElement("script"),e.text=t,G.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(at,"ms-").replace(ut,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):Z.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;r>s;s++)o=e(t[s],s,i),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return J.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t)?(i=K.call(arguments,2),r=function(){return t.apply(e||this,i.concat(K.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r):void 0},now:Date.now,support:it}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=V[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,n,i){var r,o,s,a,u,l,h,f,d=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:I)!==O&&A(e),e=e||O,M)){if(11!==g&&(l=mt.exec(t)))if(r=l[1]){if(9===g){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(d&&(s=d.getElementById(r))&&X(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!W[t+" "]&&(!L||!L.test(t))){if(1!==g)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=B),h=_(t),o=h.length,u=pt.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=u+" "+p(h[o]);f=h.join(","),d=yt.test(t)&&c(e.parentNode)||e}if(f)try{return Z.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{a===B&&e.removeAttribute("id")}}}return C(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>T.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[B]=!0,t}function r(t){var e=O.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)T.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=F++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,u,l,c=[q,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[B]||(e[B]={}),u=l[e.uniqueID]||(l[e.uniqueID]={}),(a=u[i])&&a[0]===q&&a[1]===o)return c[2]=a[2];if(u[i]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;u>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function m(t,e,n,r,o,s){return r&&!r[B]&&(r=m(r)),o&&!o[B]&&(o=m(o,s)),i(function(i,s,a,u){var l,c,h,p=[],f=[],d=s.length,m=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?m:v(m,p,t,a,u),b=n?o||(i?t:d||r)?[]:s:y;if(n&&n(y,b,a,u),r)for(l=v(b,f),r(l,[],a,u),c=l.length;c--;)(h=l[c])&&(b[f[c]]=!(y[f[c]]=h));if(i){if(o||t){if(o){for(l=[],c=b.length;c--;)(h=b[c])&&l.push(y[c]=h);o(null,b=[],l,u)}for(c=b.length;c--;)(h=b[c])&&(l=o?tt(i,h):p[c])>-1&&(i[l]=!(s[l]=h))}}else b=v(b===s?b.splice(d,b.length):b),o?o(null,s,b,u):Z.apply(s,b)})}function y(t){for(var e,n,i,r=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,u=f(function(t){return t===e},s,!0),l=f(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==P)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];r>a;a++)if(n=T.relative[t[a].type])c=[f(d(c),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[B]){for(i=++a;r>i&&!T.relative[t[i].type];i++);return m(a>1&&d(c),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}c.push(n)}return d(c)}function b(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,u,l){var c,h,p,f=0,d="0",g=i&&[],m=[],y=P,b=i||o&&T.find.TAG("*",l),x=q+=null==y?1:Math.random()||.1,w=b.length;for(l&&(P=s===O||s||l);d!==w&&null!=(c=b[d]);d++){if(o&&c){for(h=0,s||c.ownerDocument===O||(A(c),a=!M);p=t[h++];)if(p(c,s||O,a)){u.push(c);break}l&&(q=x)}r&&((c=!p&&c)&&f--,i&&g.push(c))}if(f+=d,r&&d!==f){for(h=0;p=n[h++];)p(g,m,s,a);if(i){if(f>0)for(;d--;)g[d]||m[d]||(m[d]=K.call(u));m=v(m)}Z.apply(u,m),l&&!i&&m.length>0&&f+n.length>1&&e.uniqueSort(u)}return l&&(q=x,P=y),g};return r?i(s):s}var x,w,T,S,k,_,E,C,P,j,D,A,O,N,M,L,H,Y,X,B="sizzle"+1*new Date,I=t.document,q=0,F=0,R=n(),z=n(),W=n(),$=function(t,e){return t===e&&(D=!0),0},U=1<<31,V={}.hasOwnProperty,G=[],K=G.pop,J=G.push,Z=G.push,Q=G.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),pt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Tt=function(){A()};try{Z.apply(G=Q.call(I.childNodes),I.childNodes),G[I.childNodes.length].nodeType}catch(t){Z={apply:G.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:I;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,N=O.documentElement,M=!k(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(O.getElementsByClassName),w.getById=r(function(t){return N.appendChild(t).id=B,!O.getElementsByName||!O.getElementsByName(B).length}),w.getById?(T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var n=e.getElementById(t);return n?[n]:[]}},T.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&M?e.getElementsByClassName(t):void 0},H=[],L=[],(w.qsa=vt.test(O.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),r(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=vt.test(Y=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){w.disconnectedMatch=Y.call(t,"div"),Y.call(t,"[s!='']:x"),H.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),H=H.length&&new RegExp(H.join("|")),e=vt.test(N.compareDocumentPosition),X=e||vt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===I&&X(I,t)?-1:e===O||e.ownerDocument===I&&X(I,e)?1:j?tt(j,t)-tt(j,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!r||!o)return t===O?-1:e===O?1:r?-1:o?1:j?tt(j,t)-tt(j,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===I?-1:u[i]===I?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&A(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&M&&!W[n+" "]&&(!H||!H.test(n))&&(!L||!L.test(n)))try{var i=Y.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&A(t),X(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&A(t);var n=T.attrHandle[e.toLowerCase()],i=n&&V.call(T.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==i?i:w.attributes||!M?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(D=!w.detectDuplicates,j=!w.sortStable&&t.slice(0),t.sort($),D){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return j=null,t},S=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},T=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=_(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=R[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&R(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,p,f,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(v){if(o){for(;g;){for(p=e;p=p[g];)if(a?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(p=v,h=p[B]||(p[B]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),l=c[t]||[],f=l[0]===q&&l[1],b=f&&l[2],p=f&&v.childNodes[f];p=++f&&p&&p[g]||(b=f=0)||d.pop();)if(1===p.nodeType&&++b&&p===e){c[t]=[q,f,b];break}}else if(y&&(p=e,h=p[B]||(p[B]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),l=c[t]||[],f=l[0]===q&&l[1],b=f),b===!1)for(;(p=++f&&p&&p[g]||(b=f=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(y&&(h=p[B]||(p[B]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),c[t]=[q,b]),p!==e)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(r=[t,t,"",n],T.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=E(t.replace(at,"$1"));return r[B]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(xt,wt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,wt).toLowerCase(),function(e){var n;do if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){
return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return h.prototype=T.filters=T.pseudos,T.setFilters=new h,_=e.tokenize=function(t,n){var i,r,o,s,a,u,l,c=z[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=T.preFilter;a;){i&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in T.filter)!(r=ft[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):z(t,u).slice(0)},E=e.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=_(t)),n=e.length;n--;)o=y(e[n]),o[B]?i.push(o):r.push(o);o=W(t,b(r,i)),o.selector=t}return o},C=e.select=function(t,e,n,i){var r,o,s,a,u,l="function"==typeof t&&t,h=!i&&_(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&M&&T.relative[o[1].type]){if(e=(T.find.ID(s.matches[0].replace(xt,wt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!T.relative[a=s.type]);)if((u=T.find[a])&&(i=u(s.matches[0].replace(xt,wt),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return Z.apply(n,i),n;break}}return(l||E(t,h))(i,e,!M,n,!e||yt.test(t)&&c(e.parentNode)||e),n},w.sortStable=B.split("").sort($).join("")===B,w.detectDuplicates=!!D,A(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var ht=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;i.push(t)}return i},pt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ft=ot.expr.match.needsContext,dt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;n>e;e++)if(ot.contains(r[e],this))return!0}));for(e=0;n>e;e++)ot.find(t,r[e],i);return i=this.pushStack(n>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ft.test(t)?ot(t):t||[],!1).length}});var vt,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||vt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:mt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:G,!0)),dt.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=G.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=G,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,vt=ot(G);var bt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ft.test(t)||"string"!=typeof t?ot(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Q.call(ot(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ht(t,"parentNode")},parentsUntil:function(t,e,n){return ht(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return ht(t,"nextSibling")},prevAll:function(t){return ht(t,"previousSibling")},nextUntil:function(t,e,n){return ht(t,"nextSibling",n)},prevUntil:function(t,e,n){return ht(t,"previousSibling",n)},siblings:function(t){return pt((t.parentNode||{}).firstChild,t)},children:function(t){return pt(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var r=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(xt[t]||ot.uniqueSort(r),bt.test(t)&&r.reverse()),this.pushStack(r)}});var wt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,i,r,s=[],a=[],u=-1,l=function(){for(r=t.once,i=e=!0;a.length;u=-1)for(n=a.shift();++u<s.length;)s[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(u=s.length-1,a.push(n)),function e(n){ot.each(n,function(n,i){ot.isFunction(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==ot.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,s,n))>-1;)s.splice(n,1),u>=n&&u--}),this},has:function(t){return t?ot.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var s=ot.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},r={};return i.pipe=i.then,ot.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=K.call(arguments),s=o.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,u=1===a?t:ot.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?K.call(arguments):r,i===e?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().progress(l(r,n,e)).done(l(r,i,o)).fail(u.reject):--a;return a||u.resolveWith(i,o),u.promise()}});var Tt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(Tt.resolveWith(G,[ot]),ot.fn.triggerHandler&&(ot(G).triggerHandler("ready"),ot(G).off("ready"))))}}),ot.ready.promise=function(e){return Tt||(Tt=ot.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?t.setTimeout(ot.ready):(G.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),Tt.promise(e)},ot.ready.promise();var St=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===ot.type(n)){r=!0;for(a in n)St(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(ot(t),n)})),e))for(;u>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},kt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!kt(t))return{};var e=t[this.expando];return e||(e={},kt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?i=e.concat(e.map(ot.camelCase)):(r=ot.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(wt)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var _t=new a,Et=new a,Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pt=/[A-Z]/g;ot.extend({hasData:function(t){return Et.hasData(t)||_t.hasData(t)},data:function(t,e,n){return Et.access(t,e,n)},removeData:function(t,e){Et.remove(t,e)},_data:function(t,e,n){return _t.access(t,e,n)},_removeData:function(t,e){_t.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Et.get(o),1===o.nodeType&&!_t.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),u(o,i,r[i])));_t.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Et.set(this,t)}):St(this,function(e){var n,i;if(o&&void 0===e){if(n=Et.get(o,t)||Et.get(o,t.replace(Pt,"-$&").toLowerCase()),void 0!==n)return n;if(i=ot.camelCase(t),n=Et.get(o,i),void 0!==n)return n;if(n=u(o,i,void 0),void 0!==n)return n}else i=ot.camelCase(t),this.each(function(){var n=Et.get(this,i);Et.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Et.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Et.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=_t.get(t,e),n&&(!i||ot.isArray(n)?i=_t.access(t,e,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,r=n.shift(),o=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return _t.get(t,n)||_t.access(t,n,{empty:ot.Callbacks("once memory").add(function(){_t.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ot.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=_t.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+jt+")([a-z%]*)$","i"),At=["Top","Right","Bottom","Left"],Ot=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},Nt=/^(?:checkbox|radio)$/i,Mt=/<([\w:-]+)/,Lt=/^$|\/(?:java|ecma)script/i,Ht={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ht.optgroup=Ht.option,Ht.tbody=Ht.tfoot=Ht.colgroup=Ht.caption=Ht.thead,Ht.th=Ht.td;var Yt=/<|&#?\w+;/;!function(){var t=G.createDocumentFragment(),e=t.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Xt=/^key/,Bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,p,f,d,g,v=_t.get(t);if(v)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ot.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(wt)||[""],l=e.length;l--;)a=It.exec(e[l])||[],f=g=a[1],d=(a[2]||"").split(".").sort(),f&&(h=ot.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=ot.event.special[f]||{},c=ot.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:d.join(".")},o),(p=u[f])||(p=u[f]=[],p.delegateCount=0,h.setup&&h.setup.call(t,i,d,s)!==!1||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),ot.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,p,f,d,g,v=_t.hasData(t)&&_t.get(t);if(v&&(u=v.events)){for(e=(e||"").match(wt)||[""],l=e.length;l--;)if(a=It.exec(e[l])||[],f=g=a[1],d=(a[2]||"").split(".").sort(),f){for(h=ot.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,p=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(t,c));s&&!p.length&&(h.teardown&&h.teardown.call(t,d,v.handle)!==!1||ot.removeEvent(t,f,v.handle),delete u[f])}else for(f in u)ot.event.remove(t,f+e[l],n,i,!0);ot.isEmptyObject(u)&&_t.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,r,o,s=[],a=K.call(arguments),u=(_t.get(this,"events")||{})[t.type]||[],l=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=ot.event.handlers.call(this,t,u),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((ot.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ot(r,this).index(u)>-1:ot.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||G,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Bt.test(r)?this.mouseHooks:Xt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ot.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=G),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:d):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ot.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,i){return v(this,t,e,n,i)},one:function(t,e,n,i){return v(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=d),this.each(function(){ot.event.remove(this,t,n,e)})}});var qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ft=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^true\/(.*)/,Wt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(qt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=ot.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(s=c(a),o=c(t),i=0,r=o.length;r>i;i++)w(o[i],s[i]);if(e)if(n)for(o=o||c(t),s=s||c(a),i=0,r=o.length;r>i;i++)x(o[i],s[i]);else x(t,a);return s=c(a,"script"),s.length>0&&h(s,!u&&c(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(kt(n)){if(e=n[_t.expando]){if(e.events)for(i in e.events)r[i]?ot.event.remove(n,i):ot.removeEvent(n,i,e.handle);n[_t.expando]=void 0}n[Et.expando]&&(n[Et.expando]=void 0)}}}),ot.fn.extend({domManip:T,detach:function(t){return S(this,t,!0)},remove:function(t){return S(this,t)},text:function(t){return St(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return St(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ft.test(t)&&!Ht[(Mt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=[],r=ot(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ot(r[s])[e](n),Z.apply(i,n.get());return this.pushStack(i)}});var $t,Ut={HTML:"block",BODY:"block"},Vt=/^margin/,Gt=new RegExp("^("+jt+")(?!px)[a-z%]+$","i"),Kt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Jt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Zt=G.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Zt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Zt.removeChild(s)}var n,i,r,o,s=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ot.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=a.appendChild(G.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Zt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Zt.removeChild(s),a.removeChild(n),e}}))}();var Qt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=G.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=E(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ot.camelCase(e),u=t.style;return e=ot.cssProps[a]||(ot.cssProps[a]=P(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Dt.exec(n))&&r[1]&&(n=l(t,e,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ot.cssNumber[a]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=P(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=E(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){return n?Qt.test(ot.css(t,"display"))&&0===t.offsetWidth?Jt(t,te,function(){return A(t,e,i)}):A(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Kt(t),s=i&&D(t,e,i,"border-box"===ot.css(t,"boxSizing",!1,o),o);return s&&(r=Dt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),j(t,n,s)}}}),ot.cssHooks.marginLeft=C(it.reliableMarginLeft,function(t,e){return e?(parseFloat(E(t,"marginLeft"))||t.getBoundingClientRect().left-Jt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=C(it.reliableMarginRight,function(t,e){return e?Jt(t,{display:"inline-block"},E,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+At[i]+e]=o[i]||o[i-2]||o[0];return r}},Vt.test(t)||(ot.cssHooks[t+e].set=j)}),ot.fn.extend({css:function(t,e){return St(this,function(t,e,n){var i,r,o={},s=0;if(ot.isArray(e)){for(i=Kt(t),r=e.length;r>s;s++)o[e[s]]=ot.css(t,e[s],!1,i);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ot(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=N,N.prototype={constructor:N,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=N.prototype.init,ot.fx.step={};var re,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;ot.Animation=ot.extend(B,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return l(n.elem,t,Dt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var n,i=0,r=t.length;r>i;i++)n=t[i],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(e)},prefilters:[Y],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ot.isEmptyObject(t),o=ot.speed(e,n,i),s=function(){var e=B(this,ot.extend({},t),o);(r||_t.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ot.timers,s=_t.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=_t.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,i,r)}}),ot.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(re=ot.now();e<n.length;e++)t=n[e],
t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),re=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=G.createElement("input"),e=G.createElement("select"),n=e.appendChild(G.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=G.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var ue,le=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return St(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),r=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ot.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(wt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),ue={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=le[e]||ot.find.attr;le[e]=function(t,e,i){var r,o;return i||(o=le[e],le[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,le[e]=o),r}});var ce=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return St(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,r=ot.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,I(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[u++];)if(r=I(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,I(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[u++];)if(r=I(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,I(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ot(this),o=t.match(wt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=I(this),e&&_t.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":_t.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+I(n)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var fe=/\r/g,de=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(fe,""):null==n?"":n)):void 0}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(de," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,u=0>r?a:o?r:0;a>u;u++)if(n=i[u],(n.selected||u===r)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ot.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ot.inArray(ot.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ge=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,i,r){var o,s,a,u,l,c,h,p=[i||G],f=nt.call(e,"type")?e.type:e,d=nt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!ge.test(f+ot.event.triggered)&&(f.indexOf(".")>-1&&(d=f.split("."),f=d.shift(),d.sort()),l=f.indexOf(":")<0&&"on"+f,e=e[ot.expando]?e:new ot.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),h=ot.event.special[f]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!ot.isWindow(i)){for(u=h.delegateType||f,ge.test(u+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(i.ownerDocument||G)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||f,c=(_t.get(s,"events")||{})[e.type]&&_t.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&kt(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),n)!==!1||!kt(i)||l&&ot.isFunction(i[f])&&!ot.isWindow(i)&&(a=i[l],a&&(i[l]=null),ot.event.triggered=f,i[f](),ot.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=_t.access(i,e);r||i.addEventListener(t,n,!0),_t.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=_t.access(i,e)-1;r?_t.access(i,e,r):(i.removeEventListener(t,n,!0),_t.remove(i,e))}}});var ve=t.location,me=ot.now(),ye=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var be=/#.*$/,xe=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,Te=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Se=/^(?:GET|HEAD)$/,ke=/^\/\//,_e={},Ee={},Ce="*/".concat("*"),Pe=G.createElement("a");Pe.href=ve.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ve.href,type:"GET",isLocal:Te.test(ve.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?R(R(t,ot.ajaxSettings),e):R(ot.ajaxSettings,t)},ajaxPrefilter:q(_e),ajaxTransport:q(Ee),ajax:function(e,n){function i(e,n,i,a){var l,h,y,b,w,S=n;2!==x&&(x=2,u&&t.clearTimeout(u),r=void 0,s=a||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(b=z(p,T,i)),b=W(p,b,T,l),l?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(ot.lastModified[o]=w),w=T.getResponseHeader("etag"),w&&(ot.etag[o]=w)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=b.state,h=b.data,y=b.error,l=!y)):(y=S,!e&&S||(S="error",0>e&&(e=0))),T.status=e,T.statusText=(n||S)+"",l?g.resolveWith(f,[h,S,T]):g.rejectWith(f,[T,S,y]),T.statusCode(m),m=void 0,c&&d.trigger(l?"ajaxSuccess":"ajaxError",[T,p,l?h:y]),v.fireWith(f,[T,S]),c&&(d.trigger("ajaxComplete",[T,p]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,u,l,c,h,p=ot.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?ot(f):ot.event,g=ot.Deferred(),v=ot.Callbacks("once memory"),m=p.statusCode||{},y={},b={},x=0,w="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=we.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return x||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)m[e]=[m[e],t[e]];else T.always(t[T.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(g.promise(T).complete=v.add,T.success=T.done,T.error=T.fail,p.url=((e||p.url||ve.href)+"").replace(be,"").replace(ke,ve.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ot.trim(p.dataType||"*").toLowerCase().match(wt)||[""],null==p.crossDomain){l=G.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Pe.protocol+"//"+Pe.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ot.param(p.data,p.traditional)),F(_e,p,n,T),2===x)return T;c=ot.event&&p.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Se.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(ye.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=xe.test(o)?o.replace(xe,"$1_="+me++):o+(ye.test(o)?"&":"?")+"_="+me++)),p.ifModified&&(ot.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&T.setRequestHeader("If-None-Match",ot.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ce+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)T.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(f,T,p)===!1||2===x))return T.abort();w="abort";for(h in{success:1,error:1,complete:1})T[h](p[h]);if(r=F(Ee,p,n,T)){if(T.readyState=1,c&&d.trigger("ajaxSend",[T,p]),2===x)return T;p.async&&p.timeout>0&&(u=t.setTimeout(function(){T.abort("timeout")},p.timeout));try{x=1,r.send(y,i)}catch(t){if(!(2>x))throw t;i(-1,t)}}else i(-1,"No Transport");return T},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:r,data:n,success:i},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var je=/%20/g,De=/\[\]$/,Ae=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)$(n,t[n],e,r);return i.join("&").replace(je,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Ne.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!Nt.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Me={0:200,1223:204},Le=ot.ajaxSettings.xhr();it.cors=!!Le&&"withCredentials"in Le,it.ajax=Le=!!Le,ot.ajaxTransport(function(e){var n,i;return it.cors||Le&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Me[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),G.head.appendChild(e[0])},abort:function(){n&&n()}}}});var He=[],Ye=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=He.pop()||ot.expando+"_"+me++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(Ye.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ye,"$1"+r):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ot.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ot(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,He.push(r)),s&&ot.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||G;var i=dt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=p([t],e,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var Xe=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&Xe)return Xe.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ot.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l,c=ot.css(t,"position"),h=ot(t),p={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=ot.css(t,"top"),u=ot.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):h.css(p)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,ot.contains(e,i)?(r=i.getBoundingClientRect(),n=U(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Zt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(i){return St(this,function(t,i,r){var o=U(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=C(it.pixelPosition,function(t,n){return n?(n=E(t,e),Gt.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return St(this,function(e,n,i){var r;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ot.css(e,n,s):ot.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Be=t.jQuery,Ie=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=Ie),e&&t.jQuery===ot&&(t.jQuery=Be),ot},e||(t.jQuery=t.$=ot),ot}),function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],function(i){return n(i,t,e),i.mobile}):n(t.jQuery,t,e)}(this,document,function(t,e,n,i){!function(t,e,n,i){function r(t){for(;t&&"undefined"!=typeof t.originalEvent;)t=t.originalEvent;return t}function o(e,n){var o,s,a,u,l,c,h,p,f,d=e.type;if(e=t.Event(e),e.type=n,o=e.originalEvent,s=t.event.props,d.search(/^(mouse|click)/)>-1&&(s=D),o)for(h=s.length,u;h;)u=s[--h],e[u]=o[u];if(d.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),d.search(/^touch/)!==-1&&(a=r(o),d=a.touches,l=a.changedTouches,c=d&&d.length?d[0]:l&&l.length?l[0]:i,c))for(p=0,f=P.length;p<f;p++)u=P[p],e[u]=c[u];return e}function s(e){for(var n,i,r={};e;){n=t.data(e,_);for(i in n)n[i]&&(r[i]=r.hasVirtualBinding=!0);e=e.parentNode}return r}function a(e,n){for(var i;e;){if(i=t.data(e,_),i&&(!n||i[n]))return e;e=e.parentNode}return null}function u(){X=!1}function l(){X=!0}function c(){F=0,H.length=0,Y=!1,l()}function h(){u()}function p(){f(),O=setTimeout(function(){O=0,c()},t.vmouse.resetTimerDuration)}function f(){O&&(clearTimeout(O),O=0)}function d(e,n,i){var r;return(i&&i[e]||!i&&a(n.target,e))&&(r=o(n,e),t(n.target).trigger(r)),r}function g(e){var n,i=t.data(e.target,E);!Y&&(!F||F!==i)&&(n=d("v"+e.type,e),n&&(n.isDefaultPrevented()&&e.preventDefault(),n.isPropagationStopped()&&e.stopPropagation(),n.isImmediatePropagationStopped()&&e.stopImmediatePropagation()))}function v(e){var n,i,o,a=r(e).touches;a&&1===a.length&&(n=e.target,i=s(n),i.hasVirtualBinding&&(F=q++,t.data(n,E,F),f(),h(),L=!1,o=r(e).touches[0],N=o.pageX,M=o.pageY,d("vmouseover",e,i),d("vmousedown",e,i)))}function m(t){X||(L||d("vmousecancel",t,s(t.target)),L=!0,p())}function y(e){if(!X){var n=r(e).touches[0],i=L,o=t.vmouse.moveDistanceThreshold,a=s(e.target);L=L||Math.abs(n.pageX-N)>o||Math.abs(n.pageY-M)>o,L&&!i&&d("vmousecancel",e,a),d("vmousemove",e,a),p()}}function b(t){if(!X){l();var e,n,i=s(t.target);d("vmouseup",t,i),L||(e=d("vclick",t,i),e&&e.isDefaultPrevented()&&(n=r(t).changedTouches[0],H.push({touchID:F,x:n.clientX,y:n.clientY}),Y=!0)),d("vmouseout",t,i),L=!1,p()}}function x(e){var n,i=t.data(e,_);if(i)for(n in i)if(i[n])return!0;return!1}function w(){}function T(e){var n=e.substr(1);return{setup:function(){x(this)||t.data(this,_,{});var i=t.data(this,_);i[e]=!0,A[e]=(A[e]||0)+1,1===A[e]&&I.bind(n,g),t(this).bind(n,w),B&&(A.touchstart=(A.touchstart||0)+1,1===A.touchstart&&I.bind("touchstart",v).bind("touchend",b).bind("touchmove",y).bind("scroll",m))},teardown:function(){--A[e],A[e]||I.unbind(n,g),B&&(--A.touchstart,A.touchstart||I.unbind("touchstart",v).unbind("touchmove",y).unbind("touchend",b).unbind("scroll",m));var i=t(this),r=t.data(this,_);r&&(r[e]=!1),i.unbind(n,w),x(this)||i.removeData(_)}}}var S,k,_="virtualMouseBindings",E="virtualTouchID",C="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),P="clientX clientY pageX pageY screenX screenY".split(" "),j=t.event.mouseHooks?t.event.mouseHooks.props:[],D=t.event.props.concat(j),A={},O=0,N=0,M=0,L=!1,H=[],Y=!1,X=!1,B="addEventListener"in n,I=t(n),q=1,F=0;for(t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},k=0;k<C.length;k++)t.event.special[C[k]]=T(C[k]);B&&n.addEventListener("click",function(e){var n,i,r,o,s,a,u=H.length,l=e.target;if(u)for(n=e.clientX,i=e.clientY,S=t.vmouse.clickDistanceThreshold,r=l;r;){for(o=0;o<u;o++)if(s=H[o],a=0,r===l&&Math.abs(s.x-n)<S&&Math.abs(s.y-i)<S||t.data(r,E)===s.touchID)return e.preventDefault(),void e.stopPropagation();r=r.parentNode}},!0)}(t,e,n),function(t){t.mobile={}}(t),function(t,e){var i={touch:"ontouchend"in n};t.mobile.support=t.mobile.support||{},t.extend(t.support,i),t.extend(t.mobile.support,i)}(t),function(t,e,i){function r(e,n,r,o){var s=r.type;r.type=n,o?t.event.trigger(r,i,e):t.event.dispatch.call(e,r),r.type=s}var o=t(n),s=t.mobile.support.touch,a="touchmove scroll",u=s?"touchstart":"mousedown",l=s?"touchend":"mouseup",c=s?"touchmove":"mousemove";t.each("touchstart touchmove touchend tap taphold swipe swipeLeft swipeRight scrollstart scrollstop".split(" "),function(e,n){t.fn[n]=function(t){return t?this.bind(n,t):this.trigger(n)},t.attrFn&&(t.attrFn[n]=!0)}),t.event.special.scrollstart={enabled:!0,setup:function(){function e(t,e){n=e,r(o,n?"scrollstart":"scrollstop",t)}var n,i,o=this,s=t(o);s.bind(a,function(r){t.event.special.scrollstart.enabled&&(n||e(r,!0),clearTimeout(i),i=setTimeout(function(){e(r,!1)},50))})},teardown:function(){t(this).unbind(a)}},t.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,n=t(e),i=!1;n.bind("vmousedown",function(s){function a(){clearTimeout(c)}function u(){a(),n.unbind("vclick",l).unbind("vmouseup",a),o.unbind("vmousecancel",u)}function l(t){u(),i||h!==t.target?i&&t.preventDefault():r(e,"tap",t)}if(i=!1,s.which&&1!==s.which)return!1;var c,h=s.target;n.bind("vmouseup",a).bind("vclick",l),o.bind("vmousecancel",u),c=setTimeout(function(){t.event.special.tap.emitTapOnTaphold||(i=!0),r(e,"taphold",t.Event("taphold",{target:h}))},t.event.special.tap.tapholdThreshold)})},teardown:function(){t(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),o.unbind("vmousecancel")}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var n=e.pageXOffset,i=e.pageYOffset,r=t.clientX,o=t.clientY;return 0===t.pageY&&Math.floor(o)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(r)>Math.floor(t.pageX)?(r-=n,o-=i):(o<t.pageY-i||r<t.pageX-n)&&(r=t.pageX-n,o=t.pageY-i),{x:r,y:o}},start:function(e){var n=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=t.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:t(e.target)}},stop:function(e){var n=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=t.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(e,n,i,o){if(n.time-e.time<t.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-n.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-n.coords[1])<t.event.special.swipe.verticalDistanceThreshold){var s=e.coords[0]>n.coords[0]?"swipeLeft":"swipeRight";return r(i,"swipe",t.Event("swipe",{target:o,swipestart:e,swipestop:n}),!0),r(i,s,t.Event(s,{target:o,swipestart:e,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,n=this,i=t(n),r={};e=t.data(this,"mobile-events"),e||(e={length:0},t.data(this,"mobile-events",e)),e.length++,e.swipe=r,r.start=function(e){if(!t.event.special.swipe.eventInProgress){t.event.special.swipe.eventInProgress=!0;var i,s=t.event.special.swipe.start(e),a=e.target,u=!1;r.move=function(e){s&&!e.isDefaultPrevented()&&(i=t.event.special.swipe.stop(e),u||(u=t.event.special.swipe.handleSwipe(s,i,n,a),u&&(t.event.special.swipe.eventInProgress=!1)),Math.abs(s.coords[0]-i.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},r.stop=function(){u=!0,t.event.special.swipe.eventInProgress=!1,o.off(c,r.move),r.move=null},o.on(c,r.move).one(l,r.stop)}},i.on(u,r.start)},teardown:function(){var e,n;e=t.data(this,"mobile-events"),e&&(n=e.swipe,delete e.swipe,e.length--,0===e.length&&t.removeData(this,"mobile-events")),n&&(n.start&&t(this).off(u,n.start),n.move&&o.off(c,n.move),n.stop&&o.off(l,n.stop))}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeLeft:"swipe.left",swipeRight:"swipe.right"},function(e,n){t.event.special[e]={setup:function(){t(this).bind(n,t.noop)},teardown:function(){t(this).unbind(n)}}})}(t,this)}),window.Modernizr=function(t,e,n){function i(t){b.cssText=t}function r(t,e){return i(x.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var i in t){var r=t[i];if(!s(r,"-")&&b[r]!==n)return"pfx"!=e||r}return!1}function u(t,e,i){for(var r in t){var s=e[t[r]];if(s!==n)return i===!1?t[r]:o(s,"function")?s.bind(i||e):s}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+T.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?a(r,e):(r=(t+" "+S.join(i+" ")+i).split(" "),u(r,e,n))}var c,h,p,f="2.8.3",d={},g=!0,v=e.documentElement,m="modernizr",y=e.createElement(m),b=y.style,x=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",T=w.split(" "),S=w.toLowerCase().split(" "),k={svg:"http://www.w3.org/2000/svg"},_={},E=[],C=E.slice,P=function(t,n,i,r){var o,s,a,u,l=e.createElement("div"),c=e.body,h=c||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=r?r[i]:m+(i+1),l.appendChild(a);return o=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),l.id=m,(c?l:h).innerHTML+=o,h.appendChild(l),c||(h.style.background="",h.style.overflow="hidden",u=v.style.overflow,v.style.overflow="hidden",v.appendChild(h)),s=n(l,t),c?l.parentNode.removeChild(l):(h.parentNode.removeChild(h),v.style.overflow=u),!!s},j={}.hasOwnProperty;p=o(j,"undefined")||o(j.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return j.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=C.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,s=e.apply(o,n.concat(C.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(C.call(arguments)))};return i}),_.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:P(["@media (",x.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},_.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),s(b.backgroundColor,"rgba")},_.opacity=function(){return r("opacity:.55"),
/^0.55$/.test(b.opacity)},_.cssanimations=function(){return l("animationName")},_.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((t+"-webkit- ".split(" ").join(e+t)+x.join(n+t)).slice(0,-t.length)),s(b.backgroundImage,"gradient")},_.csstransforms=function(){return!!l("transform")},_.csstransitions=function(){return l("transition")},_.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},_.svg=function(){return!!e.createElementNS&&!!e.createElementNS(k.svg,"svg").createSVGRect},_.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==k.svg};for(var D in _)p(_,D)&&(h=D.toLowerCase(),d[h]=_[D](),E.push((d[h]?"":"no-")+h));return d.addTest=function(t,e){if("object"==typeof t)for(var i in t)p(t,i)&&d.addTest(i,t[i]);else{if(t=t.toLowerCase(),d[t]!==n)return d;e="function"==typeof e?e():e,"undefined"!=typeof g&&g&&(v.className+=" m-"+(e?"":"no-")+t),d[t]=e}return d},i(""),y=c=null,d._version=f,d._prefixes=x,d._domPrefixes=S,d._cssomPrefixes=T,d.testProp=function(t){return a([t])},d.testAllProps=l,d.testStyles=P,d.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" m-js m-"+E.join(" m-"):""),d}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==v.call(t)}function r(t){return"string"==typeof t}function o(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=m.shift();y=1,t?t.t?d(function(){("c"==t.t?p.injectCss:p.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function u(t,n,i,r,o,u,l){function c(e){if(!f&&s(h.readyState)&&(b.r=f=1,!y&&a(),h.onload=h.onreadystatechange=null,e)){"img"!=t&&d(function(){w.removeChild(h)},50);for(var i in E[n])E[n].hasOwnProperty(i)&&E[n][i].onload()}}var l=l||p.errorTimeout,h=e.createElement(t),f=0,v=0,b={t:i,s:n,e:o,a:u,x:l};1===E[n]&&(v=1,E[n]=[]),"object"==t?h.data=n:(h.src=n,h.type=t),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){c.call(this,v)},m.splice(r,0,b),"img"!=t&&(v||2===E[n]?(w.insertBefore(h,x?null:g),d(c,l)):E[n].push(h))}function l(t,e,n,i,o){return y=0,e=e||"j",r(t)?u("c"==e?S:T,t,e,this.i++,n,i,o):(m.splice(this.i++,0,t),1==m.length&&a()),this}function c(){var t=p;return t.loader={load:l,i:0},t}var h,p,f=e.documentElement,d=t.setTimeout,g=e.getElementsByTagName("script")[0],v={}.toString,m=[],y=0,b="MozAppearance"in f.style,x=b&&!!e.createRange().compareNode,w=x?f:g.parentNode,f=t.opera&&"[object Opera]"==v.call(t.opera),f=!!e.attachEvent&&!f,T=b?"object":f?"script":"img",S=f?"script":T,k=Array.isArray||function(t){return"[object Array]"==v.call(t)},_=[],E={},C={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};p=function(t){function e(t){var e,n,i,t=t.split("!"),r=_.length,o=t.pop(),s=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;n<s;n++)i=t[n].split("="),(e=C[i.shift()])&&(o=e(o,i));for(n=0;n<r;n++)o=_[n](o);return o}function s(t,r,o,s,a){var u=e(t),l=u.autoCallback;u.url.split(".").pop().split("?").shift(),u.bypass||(r&&(r=i(r)?r:r[t]||r[s]||r[t.split("/").pop().split("?")[0]]),u.instead?u.instead(t,r,o,s,a):(E[u.url]?u.noexec=!0:E[u.url]=1,o.load(u.url,u.forceCSS||!u.forceJS&&"css"==u.url.split(".").pop().split("?").shift()?"c":n,u.noexec,u.attrs,u.timeout),(i(r)||i(l))&&o.load(function(){c(),r&&r(u.origUrl,a,s),l&&l(u.origUrl,a,s),E[u.url]=2})))}function a(t,e){function n(t,n){if(t){if(r(t))n||(h=function(){var t=[].slice.call(arguments);p.apply(this,t),f()}),s(t,h,e,0,l);else if(Object(t)===t)for(u in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(u)&&(!n&&!--a&&(i(h)?h=function(){var t=[].slice.call(arguments);p.apply(this,t),f()}:h[u]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),f()}}(p[u])),s(t[u],h,e,u,l))}else!n&&f()}var a,u,l=!!t.test,c=t.load||t.both,h=t.callback||o,p=h,f=t.complete||o;n(l?t.yep:t.nope,!!c),c&&n(c)}var u,l,h=this.yepnope.loader;if(r(t))s(t,0,h,0);else if(k(t))for(u=0;u<t.length;u++)l=t[u],r(l)?s(l,0,h,0):k(l)?p(l):Object(l)===l&&a(l,h);else Object(t)===t&&a(t,h)},p.addPrefix=function(t,e){C[t]=e},p.addFilter=function(t){_.push(t)},p.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",h=function(){e.removeEventListener("DOMContentLoaded",h,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,i,r,u,l){var c,h,f=e.createElement("script"),r=r||p.errorTimeout;f.src=t;for(h in i)f.setAttribute(h,i[h]);n=l?a:n||o,f.onreadystatechange=f.onload=function(){!c&&s(f.readyState)&&(c=1,n(),f.onload=f.onreadystatechange=null)},d(function(){c||(c=1,n(1))},r),u?f.onload():g.parentNode.insertBefore(f,g)},t.yepnope.injectCss=function(t,n,i,r,s,u){var l,r=e.createElement("link"),n=u?a:n||o;r.href=t,r.rel="stylesheet",r.type="text/css";for(l in i)r.setAttribute(l,i[l]);s||(document.body.appendChild(r),d(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){"use strict";function t(e,i){function r(t,e){return function(){return t.apply(e,arguments)}}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,u=0,l=s.length;u<l;u++)a[s[u]]=r(a[s[u]],a);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,a,u,l,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(l=t.changedTouches[0],c=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=c.tagName.toLowerCase(),"label"===a){if(e=this.findControl(c)){if(this.focus(c),n)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-s>100||i&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),i&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!i||r||(u=c.fastClickScrollParent,!u||u.fastClickLastScrollTop===u.scrollTop))||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,r,o;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),function(t,e){"use strict";function n(t,e,n){var i={};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function i(t,e){for(var n,i=e.length,r=t.length;i>r;)n=e[--i],e.splice(i,1),n.unmount()}function r(t,e){Object.keys(t.tags).forEach(function(n){var i=t.tags[n];L(i)?v(i,function(t){P(t,n,e)}):P(i,n,e)})}function o(t,e,n){var i,r=t._root;for(t._virts=[];r;)i=r.nextSibling,n?e.insertBefore(r,n._root):e.appendChild(r),t._virts.push(r),r=i}function s(t,e,n,i){for(var r,o=t._root,s=0;s<i;s++)r=o.nextSibling,e.insertBefore(o,n._root),o=r}function a(t,e,n,i,r,o,s){I(e.root)||(t?o(e,i,n,s.childNodes.length):i.insertBefore(e.root,n.root))}function u(t,e,u){T(t,"each");var l,c=typeof k(t,"no-reorder")!==rt||T(t,"no-reorder"),p=O(t),f=Q[p]||{tmpl:y(t)},d=ct.test(p),g=t.parentNode,v=document.createTextNode(""),m=E(t),b="option"===p.toLowerCase(),x=[],w=[],S="VIRTUAL"==t.tagName;u=vt.loopKeys(u),g.insertBefore(v,t),e.one("before-mount",function(){t.parentNode.removeChild(t),g.stub&&(g=e.root)}).on("update",function(){var y=vt(u.val,e),T=document.createDocumentFragment();L(y)||(l=y||!1,y=l?Object.keys(y).map(function(t){return n(u,t,y[t])}):[]);for(var k=0,_=y.length;k<_;k++){var E=y[k],C=c&&typeof E==ot&&!l,P=w.indexOf(E),j=~P&&C?P:k,D=x[j];E=!l&&u.key?n(u,E,k):E,!C&&!D||C&&!~P||!D?(D=new h(f,{parent:e,isLoop:!0,hasImpl:!!Q[p],root:d?g:t.cloneNode(),item:E},t.innerHTML),D.mount(),S&&(D._root=D.root.firstChild),k!=x.length&&x[k]?(a(S,D,x[k],g,x,o,t),w.splice(k,0,E)):S?o(D,T):T.appendChild(D.root),x.splice(k,0,D),j=k):D.update(E,!0),j!==k&&C&&x[k]&&(M(y,w[k])&&a(S,D,x[k],g,x,s,t),u.pos&&(D[u.pos]=k),x.splice(k,0,x.splice(j,1)[0]),w.splice(k,0,w.splice(j,1)[0]),!m&&D.tags&&r(D,k)),D._item=E,A(D,"_parent",e)}if(i(y,x),g.insertBefore(T,v),b&&dt&&!g.multiple)for(var O=0;O<g.length;O++)if(g[O].__riot1374){g.selectedIndex=O,delete g[O].__riot1374;break}m&&(e.tags[p]=x),w=y.slice()})}function l(t,e,n,i){X(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||k(t,"each")?1:0,n){var r=E(t);r&&!t.isLoop&&n.push(j(r,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!i||$(t,e,[])}})}function c(t,e,n){function i(t,e,i){vt.hasExpr(e)&&n.push(N({dom:t,expr:e},i))}X(t,function(t){var n,r=t.nodeType;if(3==r&&"STYLE"!=t.parentNode.tagName&&i(t,t.nodeValue),1==r)return(n=k(t,"each"))?(u(t,e,n),!1):(v(t.attributes,function(e){var n=e.name,r=n.split("__")[1];if(i(t,e.value,{attr:r||n,bool:r}),r)return T(t,n),!1}),!E(t)&&void 0)})}function h(t,n,i){function r(){var t=b&&y?p:d||p;v(C.attributes,function(e){var n=e.value;f[S(e.name)]=vt.hasExpr(n)?vt(n,t):n}),v(Object.keys(j),function(e){f[S(e)]=vt(j[e],t)})}function o(t){for(var e in x)typeof p[e]!==st&&H(p,e)&&(p[e]=t[e])}function s(t){v(Object.keys(t),function(e){var n=!ht.test(e)&&M(O,e);(typeof p[e]===st||n)&&(n||O.push(e),p[e]=t[e])})}function a(t){p.update(t,!0)}function u(t){if(v(E,function(e){e[t?"mount":"unmount"]()}),d){var e=t?"on":"off";y?d[e]("unmount",p.unmount):d[e]("update",a)[e]("unmount",p.unmount)}}var h,p=K.observable(this),f=z(n.opts)||{},d=n.parent,y=n.isLoop,b=n.hasImpl,x=Y(n.item),k=[],E=[],C=n.root,P=C.tagName.toLowerCase(),j={},O=[];t.name&&C._tag&&C._tag.unmount(!0),this.isMounted=!1,C.isLoop=y,C._tag=this,A(this,"_riot_id",++J),N(this,{parent:d,root:C,opts:f},x),A(this,"tags",{}),v(C.attributes,function(t){var e=t.value;vt.hasExpr(e)&&(j[t.name]=e)}),h=mt(t.tmpl,i,y),A(this,"update",function(t,e){return t=Y(t),y&&s(p.parent),t&&w(x)&&(o(t),x=t),N(p,t),r(),p.trigger("update",t),g(k,p),e&&p.parent?p.parent.one("updated",function(){p.trigger("updated")}):bt(function(){p.trigger("updated")}),this}),A(this,"mixin",function(){return v(arguments,function(t){var e,n,i=[];t=typeof t===rt?K.mixin(t):t,e=m(t)?new t:t;var r=Object.getPrototypeOf(e);do i=i.concat(Object.getOwnPropertyNames(n||e));while(n=Object.getPrototypeOf(n||e));v(i,function(t){if("init"!=t){var n=Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(r,t),i=n&&(n.get||n.set);!p.hasOwnProperty(t)&&i?Object.defineProperty(p,t,n):p[t]=m(e[t])?e[t].bind(p):e[t]}}),e.init&&e.init.bind(p)()}),this}),A(this,"mount",function(){r();var e=K.mixin(tt);if(e)for(var n in e)e.hasOwnProperty(n)&&p.mixin(e[n]);if(p._parent&&p._parent.root.isLoop&&s(p._parent),t.fn&&t.fn.call(p,f),c(h,p,k),u(!0),t.attrs&&B(t.attrs,function(t,e){_(C,t,e)}),(t.attrs||b)&&c(p.root,p,k),p.parent&&!y||p.update(x),p.trigger("before-mount"),y&&!b)C=h.firstChild;else{for(;h.firstChild;)C.appendChild(h.firstChild);C.stub&&(C=d.root)}A(p,"root",C),y&&l(p.root,p.parent,null,!0),!p.parent||p.parent.isMounted?(p.isMounted=!0,p.trigger("mount")):p.parent.one("mount",function(){I(p.root)||(p.parent.isMounted=p.isMounted=!0,p.trigger("mount"))})}),A(this,"unmount",function(t){var n,i=C,r=i.parentNode,o=Z.indexOf(p);if(p.trigger("before-unmount"),~o&&Z.splice(o,1),r){if(d)n=D(d),L(n.tags[P])?v(n.tags[P],function(t,e){t._riot_id==p._riot_id&&n.tags[P].splice(e,1)}):n.tags[P]=e;else for(;i.firstChild;)i.removeChild(i.firstChild);t?(T(r,it),T(r,nt)):r.removeChild(i)}this._virts&&v(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),p.trigger("unmount"),u(),p.off("*"),p.isMounted=!1,delete C._tag}),l(h,this,E)}function p(e,n,i,r,o){i[e]=function(e){var s,a=r._parent,u=r._item;if(!u)for(;a&&!u;)u=a._item,a=a._parent;e=e||t.event,H(e,"currentTarget")&&(e.currentTarget=i),H(e,"target")&&(e.target=e.srcElement),H(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=u,n.call(r,e)===!0||/radio|check/.test(i.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),o=i.getAttribute("onupdate"),e.preventUpdate||"none"===o||(s="self"===o?r:"parent"===o?r._parent?r._parent:r:u?D(a):r,s.update())}}function f(e,n,i,r){i[e]=function(e){var o,s=r._parent,a=r._item;if(!a)for(;s&&!a;)a=s._item,s=s._parent;e=e||t.event,H(e,"currentTarget")&&(e.currentTarget=i),H(e,"target")&&(e.target=e.srcElement),H(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=a,n.call(r,e)===!0||/radio|check/.test(i.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(o=a?D(s):r,o.update())}}function d(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function g(t,e){v(t,function(t,n){var i=t.dom,r=t.attr,o=vt(t.expr,e),s=t.parent||t.dom.parentNode;if(t.bool?o=!!o:null==o&&(o=""),t.value!==o){if(t.value=o,!r)return o+="",void(s&&(t.parent=s,"TEXTAREA"===s.tagName?(s.value=o,ft||(i.nodeValue=o)):i.nodeValue=o));if("value"===r)return void(i.value!==o&&(i.value=o,_(i,r,o)));if(T(i,r),m(o))"onclick"!==r&&"onchange"!==r&&"oninput"!==r||!i.getAttribute("onupdate")?f(r,o,i,e):p(r,o,i,e,i.getAttribute("onupdate"));else if("if"==r){var a=t.stub,u=function(){d(a.parentNode,a,i)},l=function(){d(i.parentNode,i,a)};o?a&&(u(),i.inStub=!1,I(i)||X(i,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(a=t.stub=a||document.createTextNode(""),i.parentNode?l():(e.parent||e).one("updated",l),i.inStub=!0)}else"show"===r?i.style.display=o?"":"none":"hide"===r?i.style.display=o?"none":"":t.bool?(i[r]=o,o&&_(i,r,r),dt&&"selected"===r&&"OPTION"===i.tagName&&(i.__riot1374=o)):(0===o||o&&typeof o!==ot)&&(U(r,et)&&r!=nt&&(r=r.slice(et.length)),_(i,r,o))}})}function v(t,e){for(var n,i=t?t.length:0,r=0;r<i;r++)n=t[r],null!=n&&e(n,r)===!1&&r--;return t}function m(t){return typeof t===at||!1}function y(t){if(t.outerHTML)return t.outerHTML;var e=q("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function b(t,e){if(typeof t.innerHTML!=st)t.innerHTML=e;else{var n=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(n.documentElement,!0))}}function x(t){return~pt.indexOf(t)}function w(t){return t&&typeof t===ot}function T(t,e){t.removeAttribute(e)}function S(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function k(t,e){return t.getAttribute(e)}function _(t,e,n){var i=lt.exec(e);i&&i[1]?t.setAttributeNS(ut,i[1],n):t.setAttribute(e,n)}function E(t){return t.tagName&&Q[k(t,it)||k(t,nt)||t.tagName.toLowerCase()]}function C(t,e,n){var i=n.tags[e];i?(L(i)||i!==t&&(n.tags[e]=[i]),M(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function P(t,e,n){var i,r=t.parent;r&&(i=r.tags[e],L(i)?i.splice(n,0,i.splice(i.indexOf(t),1)[0]):C(t,e,r))}function j(t,e,n,i){var r=new h(t,e,n),o=O(e.root),s=D(i);return r.parent=s,r._parent=i,C(r,o,s),s!==i&&C(r,o,i),e.root.innerHTML="",r}function D(t){for(var e=t;!E(e.root)&&e.parent;)e=e.parent;return e}function A(t,e,n,i){return Object.defineProperty(t,e,N({value:n,enumerable:!1,writable:!1,configurable:!0},i)),t}function O(t){var e=E(t),n=k(t,"name"),i=n&&!vt.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase();return i}function N(t){for(var e,n=arguments,i=1;i<n.length;++i)if(e=n[i])for(var r in e)H(t,r)&&(t[r]=e[r]);return t}function M(t,e){return~t.indexOf(e)}function L(t){return Array.isArray(t)||t instanceof Array}function H(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===st||n&&n.writable}function Y(t){if(!(t instanceof h||t&&typeof t.trigger==at))return t;var e={};for(var n in t)ht.test(n)||(e[n]=t[n]);return e}function X(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)X(t,e),t=t.nextSibling}}function B(t,e){for(var n,i=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=i.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function I(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function q(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function F(t,e){return(e||document).querySelectorAll(t)}function R(t,e){return(e||document).querySelector(t)}function z(t){return Object.create(t||null)}function W(t){return k(t,"id")||k(t,"name")}function $(t,e,n){var i,r=W(t),o=function(o){M(n,r)||(i=L(o),o?(!i||i&&!M(o,t))&&(i?o.push(t):e[r]=[o,t]):e[r]=t)};r&&(vt.hasExpr(r)?e.one("mount",function(){r=W(t),o(e[r])}):o(e[r]))}function U(t,e){return t.slice(0,e.length)===e}function V(t,e,n){var i=Q[e],r=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",i&&t&&(i=new h(i,{root:t,opts:n},r)),i&&i.mount&&(i.mount(),M(Z,i)||Z.push(i)),i}function G(t){var e=t.source,n=t.global?"g":"";t.ignoreCase&&(n+="i"),t.multiline&&(n+="m");for(var i=1;i<arguments.length;i++)e=e.replace("@","\\"+arguments[i]);return new RegExp(e,n)}var K={version:"v2.6.7",settings:{}},J=0,Z=[],Q={},tt="__global_mixin",et="riot-",nt=et+"tag",it="data-is",rt="string",ot="object",st="undefined",at="function",ut="http://www.w3.org/1999/xlink",lt=/^xlink:(\w+)/,ct=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,ht=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,pt=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],ft=0|(t&&t.document||{}).documentMode,dt=t&&!!t.InstallTrigger;K.observable=function(t){function e(t,e){for(var n=t.split(" "),i=n.length,r=0;r<i;r++){var o=n[r];o&&e(o,r)}}t=t||{};var n={},i=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(i,r){return"function"!=typeof r?t:(e(i,function(t,e){(n[t]=n[t]||[]).push(r),r.typed=e>0}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(i,r){return"*"!=i||r?e(i,function(t,e){if(r)for(var i,o=n[t],s=0;i=o&&o[s];++s)i==r&&o.splice(s--,1);else delete n[t]}):n={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function i(){t.off(e,i),n.apply(t,arguments)}return t.on(e,i)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){for(var o,s=arguments.length-1,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u+1];return e(r,function(e,r){o=i.call(n[e]||[],0);for(var s,u=0;s=o[u];++u)s.busy||(s.busy=1,s.apply(t,s.typed?[e].concat(a):a),o[u]!==s&&u--,s.busy=0);n["*"]&&"*"!=e&&t.trigger.apply(t,["*",e].concat(a))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(e){function n(t){return t.split(/[\/?#]/)}function i(t,e){var n=new RegExp("^"+e[k](/\*/g,"([^/?#]+?)")[k](/\.\./,".*")+"$"),i=t.match(n);if(i)return i.slice(1)}function r(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function o(t){d=r(h,1),j[T](_,d),j[T](E,d),D[T](M,p),t&&h(!0)}function s(){this.$=[],e.observable(this),H.on("stop",this.s.bind(this)),H.on("emit",this.e.bind(this))}function a(t){return t[k](/^\/|\/$/,"")}function u(t){return"string"==typeof t}function l(t){return(t||O.href)[k](b,"")}function c(t){return"#"==g[0]?(t||O.href||"").split(g)[1]||"":(O?l(t):t||"")[k](g,"")}function h(t){var e,n=0==B;if(!(P<=B)&&(B++,X.push(function(){var e=c();(t||e!=v)&&(H[C]("emit",e),v=e)}),n)){for(;e=X.shift();)e();B=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[S]("download")||!e[S]("href")||e.target&&"_self"!=e.target||e.href.indexOf(O.href.match(b)[0])==-1||e.href!=O.href&&(e.href.split("#")[0]==O.href.split("#")[0]||"#"!=g[0]&&0!==l(e.href).indexOf(g)||"#"==g[0]&&e.href.split(g)[0]!=O.href.split(g)[0]||!f(c(e.href),e.title||D.title))||t.preventDefault()}}function f(t,e,n){return A?(t=g+a(t),e=e||D.title,n?A.replaceState(null,e,t):A.pushState(null,e,t),D.title=e,Y=!1,h(),Y):H[C]("emit",c(t))}var d,g,v,m,y,b=/^.+?\/\/+[^\/]+/,x="EventListener",w="remove"+x,T="add"+x,S="hasAttribute",k="replace",_="popstate",E="hashchange",C="trigger",P=3,j="undefined"!=typeof t&&t,D="undefined"!=typeof document&&document,A=j&&history,O=j&&(A.location||j.location),N=s.prototype,M=D&&D.ontouchstart?"touchstart":"click",L=!1,H=e.observable(),Y=!1,X=[],B=0;N.m=function(t,e,n){!u(t)||e&&!u(e)?e?this.r(t,e):this.r("@",t):f(t,e,n||!1)},N.s=function(){this.off("*"),this.$=[]},N.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?m:y)(a(t),a(e));if("undefined"!=typeof n)return this[C].apply(null,[e].concat(n)),Y=!0},this)},N.r=function(t,e){"@"!=t&&(t="/"+a(t),this.$.push(t)),this.on(t,e)};var I=new s,q=I.m.bind(I);q.create=function(){var t=new s,e=t.m.bind(t);return e.stop=t.s.bind(t),e},q.base=function(t){g=t||"#",v=c()},q.exec=function(){h(!0)},q.parser=function(t,e){t||e||(m=n,y=i),t&&(m=t),e&&(y=e)},q.query=function(){var t={},e=O.href||v;return e[k](/[?&](.+?)=([^&]*)/g,function(e,n,i){t[n]=i}),t},q.stop=function(){L&&(j&&(j[w](_,d),j[w](E,d),D[w](M,p)),H[C]("stop"),L=!1)},q.start=function(t){L||(j&&("complete"==document.readyState?o(t):j[T]("load",function(){setTimeout(function(){o(t)},1)})),L=!0)},q.base(),q.parser(),e.route=q}(K);var gt=function(t){function e(t){return t}function n(t,e){return e||(e=b),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?l:"")}function i(t){if(t===v)return m;var e=t.split(" ");if(2!==e.length||f.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(d,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:m[4],e),e[5]=n(t.length>3?/\\({|})/g:m[5],e),e[6]=n(m[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,l),e[8]=t,e}function r(t){return t instanceof RegExp?a(t):b[t]}function o(t){(t||(t=v))!==b[8]&&(b=i(t),a=t===v?e:n,b[9]=a(m[9])),y=t}function s(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:o,get:function(){return y},enumerable:!0}),u=t,o(e)}var a,u,l="g",c=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,h=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=h.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,f=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),d=/(?=[[\]()*+?.^$|])/g,g={"(":RegExp("([()])|"+p,l),"[":RegExp("([[\\]])|"+p,l),"{":RegExp("([{}])|"+p,l)},v="{ }",m=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,l),v,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],y=t,b=[];return r.split=function(t,e,n){function i(t){e||s?l.push(t&&t.replace(n[5],"$1")):l.push(t)}function r(t,e,n){var i,r=g[e];for(r.lastIndex=n,n=1;(i=r.exec(t))&&(!i[1]||(i[1]===e?++n:--n)););return n?t.length:r.lastIndex}n||(n=b);var o,s,a,u,l=[],c=n[6];for(s=a=c.lastIndex=0;o=c.exec(t);){if(u=o.index,s){if(o[2]){c.lastIndex=r(t,o[2],c.lastIndex);continue}if(!o[3])continue}o[1]||(i(t.slice(a,u)),a=c.lastIndex,c=n[6+(s^=1)],c.lastIndex=a)}return t&&a<t.length&&i(t.slice(a)),l},r.hasExpr=function(t){return b[4].test(t)},r.loopKeys=function(t){var e=t.match(b[9]);return e?{key:e[1],pos:e[2],val:b[0]+e[3].trim()+b[1]}:{val:t.trim()}},r.array=function(t){return t?i(t):b},Object.defineProperty(r,"settings",{set:s,get:function(){return u}}),r.settings="undefined"!=typeof K&&K.settings||{},r.set=o,r.R_STRINGS=h,r.R_MLCOMMS=c,r.S_QBLOCKS=p,r}(),vt=function(){function e(t,e){return t?(a[t]||(a[t]=i(t))).call(e,n):t}function n(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function i(t){var e=r(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function r(t){var e,n=[],i=gt.split(t.replace(h,'"'),1);if(i.length>2||i[0]){var r,s,a=[];for(r=s=0;r<i.length;++r)e=i[r],e&&(e=1&r?o(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(a[s++]=e);e=s<2?a[0]:"["+a.join(",")+'].join("")'}else e=o(i[1],0,n);return n[0]&&(e=e.replace(p,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function o(t,e,n){function i(e,n){var i,r=1,o=f[e];for(o.lastIndex=n.lastIndex;i=o.exec(t);)if(i[0]===e)++r;else if(!--r)break;n.lastIndex=r?t.length:o.lastIndex}if(t=t.replace(c,function(t,e){return t.length>2&&!e?u+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,o=[],a=0;t&&(r=t.match(l))&&!r.index;){var h,p,d=/,|([[{(])|$/g;for(t=RegExp.rightContext,h=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];p=(r=d.exec(t))[1];)i(p,d);p=t.slice(0,r.index),t=RegExp.rightContext,o[a++]=s(p,1,h)}t=a?a>1?"["+o.join(",")+'].join(" ").trim()':o[0]:s(t,e)}return t}function s(t,e,n){var i;return t=t.replace(g,function(t,e,n,r,o){return n&&(r=i?0:r+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+d+n,r&&(i="."===(o=o[r])||"("===o||"["===o)):r&&(i=!v.test(o.slice(r)))),t}),i&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(i?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(i?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),
t}var a={};e.haveRaw=gt.hasRaw,e.hasExpr=gt.hasExpr,e.loopKeys=gt.loopKeys,e.clearCache=function(){a={}},e.errorHandler=null;var u=String.fromCharCode(8279),l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c=RegExp(gt.S_QBLOCKS,"g"),h=/\u2057/g,p=/\u2057(\d+)~/g,f={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},d='"in this?this:'+("object"!=typeof t?"global":"window")+").",g=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,v=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=gt.version="v2.4.2",e}(),mt=function t(){function t(t,i,r){var o=t&&t.match(/^\s*<([-\w]+)/),s=o&&o[1].toLowerCase(),a=q("div",r&&x(s));return t=n(t,i),u.test(s)?a=e(a,t,s):b(a,t),a.stub=!0,a}function e(t,e,n){var i="o"===n[0],r=i?"select>":"table>";if(t.innerHTML="<"+r+e.trim()+"</"+r,r=t.firstChild,i)r.selectedIndex=-1;else{var o=a[n];o&&1===r.childElementCount&&(r=R(o,r))}return r}function n(t,e){if(!i.test(t))return t;var n={};return e=e&&e.replace(o,function(t,e,i){return n[e]=n[e]||i,""}).trim(),t.replace(s,function(t,e,i){return n[e]||i||""}).replace(r,function(t,n){return e||n||""})}var i=/<yield\b/i,r=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,o=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,s=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,a={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},u=ft&&ft<10?ct:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return t}(),yt=function(e){if(!t)return{add:function(){},inject:function(){}};var n=function(){var t=q("style");_(t,"type","text/css");var e=R("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),i=n.styleSheet,r="";return Object.defineProperty(e,"styleNode",{value:n,writable:!0}),{add:function(t){r+=t},inject:function(){r&&(i?i.cssText+=r:n.innerHTML+=r,r="")}}}(K),bt=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),i=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+i)},i)}}return e}(t||{});K.util={brackets:gt,tmpl:vt},K.mixin=function(){var t={},e=t[tt]={},n=0;return function(i,r,o){if(w(i))return void K.mixin("__unnamed_"+n++,i,!0);var s=o?e:t;if(!r){if(typeof s[i]===st)throw new Error("Unregistered mixin: "+i);return s[i]}m(r)?(N(r.prototype,s[i]||{}),s[i]=r):s[i]=N(s[i]||{},r)}}(),K.tag=function(t,e,n,i,r){return m(i)&&(r=i,/^[\w\-]+\s?=/.test(n)?(i=n,n=""):i=""),n&&(m(n)?r=n:yt.add(n)),t=t.toLowerCase(),Q[t]={name:t,tmpl:e,attrs:i,fn:r},t},K.tag2=function(t,e,n,i,r){return n&&yt.add(n),Q[t]={name:t,tmpl:e,attrs:i,fn:r},t},K.mount=function(t,e,n){function i(t){var e="";return v(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+it+'="'+t+'"],['+nt+'="'+t+'"]')}),e}function r(){var t=Object.keys(Q);return t+i(t)}function o(t){if(t.tagName){var i=k(t,it)||k(t,nt);e&&i!==e&&(i=e,_(t,it,e),_(t,nt,e));var r=V(t,i||t.tagName.toLowerCase(),n);r&&u.push(r)}else t.length&&v(t,o)}var s,a,u=[];if(yt.inject(),w(e)&&(n=e,e=0),typeof t===rt?("*"===t?t=a=r():t+=i(t.split(/, */)),s=t?F(t):[]):s=t,"*"===e){if(e=a||r(),s.tagName)s=F(e,s);else{var l=[];v(s,function(t){l.push(F(e,t))}),s=l}e=0}return o(s),u},K.update=function(){return v(Z,function(t){t.update()})},K.vdom=Z,K.Tag=h;var xt=function(t){function e(e){var n=t[e];if(n)return n;throw new Error('Parser "'+e+'" not loaded.')}function n(t){var e=t.split(".");if(2!==e.length)throw new Error("Bad format for parsers._req");var n=o[e[0]][e[1]];if(n)return n;throw new Error('Parser "'+t+'" not found.')}function i(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function r(t,n,r,o){return r=i({pretty:!0,filename:o,doctype:"html"},r),e(t).render(n,r)}var o={};return o.html={jade:function(t,e,n){return console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!'),r("jade",t,e,n)},pug:function(t,e,n){return r("pug",t,e,n)}},o.css={less:function(t,n,r,o){var s;return r=i({sync:!0,syncImport:!0,filename:o},r),e("less").render(n,r,function(t,e){if(t)throw t;s=e.css}),s}},o.js={es6:function(t,n){return n=i({blacklist:["useStrict","strict","react"],sourceMaps:!1,comments:!1},n),e("babel").transform(t,n).code},babel:function(t,n,r){return e("babel").transform(t,i({filename:r},n)).code},buble:function(t,n,r){return n=i({source:r,modules:!1},n),e("buble").transform(t,n).code},coffee:function(t,n){return e("CoffeeScript").compile(t,i({bare:!0},n))},livescript:function(t,n){return e("livescript").compile(t,i({bare:!0,header:!1},n))},typescript:function(t,n){return e("typescript")(t,n)},none:function(t){return t}},o.js.javascript=o.js.none,o.js.coffeescript=o.js.coffee,o._req=n,o.utils={extend:i},o}(t||global);K.parsers=xt;var wt=function(){function t(t){var e,n=C;for(~t.indexOf("\r")&&(t=t.replace(/\r\n?/g,"\n")),n.lastIndex=0;e=n.exec(t);)"<"===e[0][0]&&(t=RegExp.leftContext+RegExp.rightContext,n.lastIndex=e[3]+1);return t}function e(t,e){var n,i,r,o=[];for(E.lastIndex=0,t=t.replace(/\s+/g," ");n=E.exec(t);){var s=n[1].toLowerCase(),a=n[2];a?(a[0]!==q&&(a=q+(a[0]===F?a.slice(1,-1):a)+q),"type"===s&&M.test(a)?i=a:(Y.test(a)&&("value"===s?r=1:D.test(s)?s="__"+s:~A.indexOf(s)&&(s="riot-"+s)),o.push(s+"="+a))):o.push(s)}return i&&(r&&(i=q+e._bp[0]+F+i.slice(1,-1)+F+e._bp[1]+q),o.push("type="+i)),o.join(" ")}function n(t,e,n){var i=n._bp;if(t&&i[4].test(t)){for(var r,o=e.expr&&(e.parser||e.type)?a:0,s=gt.split(t,0,i),u=1;u<s.length;u+=2)r=s[u],"^"===r[0]?r=r.slice(1):o&&(r=o(r,e).trim(),";"===r.slice(-1)&&(r=r.slice(0,-1))),s[u]=B+(n.push(r)-1)+i[1];t=s.join("")}return t}function i(t,e){return e.length&&(t=t.replace(X,function(t,n){return e._bp[0]+e[n].trim().replace(/[\r\n]+/g," ").replace(/"/g,I)})),t}function r(t,r,o){if(!/\S/.test(t))return"";if(t=n(t,r,o).replace(P,function(t,n,i,r){return n=n.toLowerCase(),r=r&&!O.test(n)?"></"+n:"",i&&(n+=" "+e(i,o)),"<"+n+r+">"}),!r.whitespace){var s=[];/<pre[\s>]/.test(t)&&(t=t.replace(N,function(t){return s.push(t),""})),t=t.trim().replace(/\s+/g," "),s.length&&(t=t.replace(/\u0002/g,function(){return s.shift()}))}return r.compact&&(t=t.replace(j,"><$1")),i(t,o).replace(H,"")}function o(e,n,i){return Array.isArray(n)?(i=n,n={}):(i||(i=[]),n||(n={})),i._bp=gt.array(n.brackets),r(t(e),n,i)}function s(t){function e(t,e,n){for(e.lastIndex=0;n=e.exec(t);)"/"!==n[0][0]||n[1]||n[2]||(t=u.leftContext+" "+u.rightContext,e.lastIndex=n[3]+1);return t}function n(t,e){var n,i=1;for(e.lastIndex=0;i&&(n=e.exec(t));)"{"===n[0]?++i:"}"===n[0]&&--i;return i?t.length:e.lastIndex}var i,r,o,s,a=[],u=RegExp;for(~t.indexOf("/")&&(t=e(t,W));i=t.match(R);)a.push(u.leftContext),t=u.rightContext,o=n(t,z),s=i[1],r=!/^(?:if|while|for|switch|catch|function)$/.test(s),s=r?i[0].replace(s,"this."+s+" = function"):i[0],a.push(s,t.slice(0,o)),t=t.slice(o),r&&!/^\s*.\s*bind\b/.test(t)&&a.push(".bind(this)");return a.length?a.join("")+t:t}function a(t,e,n,i,r){if(!/\S/.test(t))return"";n||(n=e.type);var o=e.parser||n&&xt._req("js."+n,!0)||s;return o(t,i,r).replace(/\r\n?/g,"\n").replace(H,"")}function u(t,e,n,i){return"string"==typeof e&&(i=n,n=e,e={}),n&&"object"==typeof n&&(i=n,n=""),i||(i={}),a(t,e||{},n,i.parserOptions,i.url)}function l(t,e){var n=":scope";return e.replace($,function(e,i,r){return r?(r=r.replace(/[^,]+/g,function(e){var i=e.trim();return i&&"from"!==i&&"to"!==i&&"%"!==i.slice(-1)?i=i.indexOf(n)<0?t+" "+i+',[riot-tag="'+t+'"] '+i+',[data-is="'+t+'"] '+i:i.replace(n,t)+","+i.replace(n,'[riot-tag="'+t+'"]')+","+i.replace(n,'[data-is="'+t+'"]'):e}),i?i+" "+r:r):e})}function c(t,e,n,i){var r=(i||(i={})).scoped;if(n)if("scoped-css"===n)r=!0;else if("css"!==n){var o=xt._req("css."+n,!0);t=o(e,t,i.parserOpts||{},i.url)}if(t=t.replace(gt.R_MLCOMMS,"").replace(/\s+/g," ").trim(),r){if(!e)throw new Error("Can not parse scoped CSS without a tagName");t=l(e,t)}return t}function h(t,e,n){return e&&"object"==typeof e?(n=e,e=""):n||(n={}),c(t,n.tagName,e,n)}function p(t,e){return t?(t=F+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+F,e&&~t.indexOf("\n")?t.replace(/\n/g,"\\n"):t):"''"}function f(t,e,n,i,r,o,s){var a=s.debug?",\n  ":", ",u="});";return r&&"\n"!==r.slice(-1)&&(u="\n"+u),o+"riot.tag2('"+t+F+a+p(e,1)+a+p(n)+a+p(i)+", function(opts) {\n"+r+u}function d(t){if(/<[-\w]/.test(t))for(var e,n=t.lastIndexOf("<"),i=t.length;~n;){if(e=t.slice(n,i).match(J))return n+=e.index+e[0].length,e=t.slice(0,n),"<-/>\n"===e.slice(-5)&&(e=e.slice(0,-5)),[e,t.slice(n)];i=n,n=t.lastIndexOf("<",n-1)}return["",t]}function g(t){if(t){var e=t.match(U);if(e=e&&(e[2]||e[3]))return e.replace("text/","")}return""}function v(t,e){if(t){var n=t.match(RegExp("\\s"+e+V,"i"));if(n=n&&n[1])return/^['"]/.test(n)?n.slice(1,-1):n}return""}function m(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}function y(t){var e=m(v(t,"options"));return e?JSON.parse(e):null}function b(t,e,n,i){var r=g(n),o=v(n,"src"),s=S({},e.parserOptions.js);return!o&&a(t,e,r,S(s,y(n)),i)}function x(t,e,n,i,r){var o=S({},e.parserOptions.style),s={parserOpts:S(o,y(n)),scoped:n&&/\sscoped(\s|=|$)/i.test(n),url:i};return c(t,r,g(n)||e.style,s)}function w(t,e,n,i){var r=xt._req("html."+n,!0);return r(t,i,e)}function T(o,s,u){var l,c=[],h={template:{},js:{},style:{}};s||(s={}),s.parserOptions=S(h,s.parserOptions||{}),l=s.exclude?function(t){return s.exclude.indexOf(t)<0}:function(){return 1},u||(u="");var p=gt.array(s.brackets);return s.template&&(o=w(o,u,s.template,s.parserOptions.template)),o=t(o).replace(Z,function(t,o,h,g,v,m){var y="",w="",T="",S="",k=[];if(k._bp=p,h=h.toLowerCase(),g=g&&l("attribs")?i(e(n(g,s,k),k),k):"",(v||(v=m))&&/\S/.test(v))if(m)l("html")&&(T=r(m,s,k));else{v=v.replace(RegExp("^"+o,"gm"),""),v=v.replace(tt,function(t,e,n){return l("css")&&(w+=(w?" ":"")+x(n,s,e,u,h)),""}),v=v.replace(Q,function(t,e,n){if(l("js")){var i=b(n,s,e,u);i&&(y+=(y?"\n":"")+i)}return""});var _=d(v.replace(H,""));l("html")&&(T=r(_[0],s,k)),l("js")&&(v=a(_[1],s,null,null,u),v&&(y+=(y?"\n":"")+v),y=y.replace(L,function(t){return S+=t.trim()+"\n",""}))}return y=/\S/.test(y)?y.replace(/\n{3,}/g,"\n\n"):"",s.entities?(c.push({tagName:h,html:T,css:w,attribs:g,js:y,imports:S}),""):f(h,T,w,g,y,S,s)}),s.entities?c:o}var S=xt.utils.extend,k=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,_=gt.R_STRINGS.source,E=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,C=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+k,"g"),P=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g,j=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,D=RegExp("^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$"),A=["style","src","d"],O=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,N=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,M=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,L=/^\s*import(?:\s*[*{]|\s+[$_a-zA-Z'"]).*\n?/gm,H=/[ \t]+$/gm,Y=G(/@#\d/,"x01"),X=G(/@#(\d+)/g,"x01"),B="#",I="⁗",q='"',F="'",R=/^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m,z=RegExp("[{}]|"+gt.S_QBLOCKS,"g"),W=RegExp(gt.R_MLCOMMS.source+"|//[^\r\n]*|"+gt.S_QBLOCKS,"g"),$=RegExp("([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|"+k,"g"),U=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,V="\\s*=\\s*("+_+"|{[^}]+}|\\S+)",J=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,Z=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",_),"gim"),Q=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,tt=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi;return K.util.compiler={compile:T,html:o,css:h,js:u,version:"v2.5.5"},T}();K.compile=function(){function t(t,e,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200===i.status||!i.status&&i.responseText.length)&&e(i.responseText,n,t)},i.open("GET",t,!0),i.send("")}function n(t,e){if(typeof t===rt){var n=q("script"),i=document.documentElement;e&&(t+="\n//# sourceURL="+e+".js"),n.text=t,i.appendChild(n),i.removeChild(n)}}function i(e,i){function s(){r.trigger("ready"),o=!0,e&&e()}function a(t,e,i){var r=wt(t,e,i);n(r,i),--l||s()}var u=F('script[type="riot/tag"]'),l=u.length;if(l)for(var c=0;c<u.length;++c){var h=u[c],p=N({template:k(h,"template")},i),f=k(h,"src");f?t(f,a,p):a(h.innerHTML,p)}else s()}var r,o;return function(s,a,u){if(typeof s===rt){if(w(a)&&(u=a,a=!1),/^\s*</m.test(s)){var l=wt(s,u);return a!==!0&&n(l),m(a)&&a(l,s,u),l}t(s,function(t,e,i){var r=wt(t,e,i);n(r,i),a&&a(r,t,e)},u)}else{if(m(s)?(u=a,a=s):(u=s,a=e),o)return a&&a();r?a&&r.on("ready",a):(r=K.observable(),i(a,u))}}}();var Tt=K.mount;K.mount=function(){var t,e=arguments;return K.compile(function(){t=Tt.apply(K,e)}),t},typeof exports===ot?module.exports=K:typeof define===at&&typeof define.amd!==st?define(function(){return K}):t.riot=K}("undefined"!=typeof window?window:void 0),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Baobab=t()}}(function(){var t;return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,n,i){(function(){"use strict";function e(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}function r(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!(t instanceof Function)&&!(t instanceof RegExp)}function o(t,e,n){var i,r,o,s;for(r in t)e.call(n||null,r,t[r]);if(Object.getOwnPropertySymbols)for(i=Object.getOwnPropertySymbols(t),o=0,s=i.length;o<s;o++)e.call(n||null,i[o],t[i[o]])}function s(t,e){t=t||[];var n,i,r=[];for(i=0,n=t.length;i<n;i++)t[i].fn!==e&&r.push(t[i]);return r}var a={once:"boolean",scope:"object"},u=0,l=function(){this._enabled=!0,this.unbindAll()};l.prototype.unbindAll=function(){return this._handlers={},this._handlersAll=[],this._handlersComplex=[],this},l.prototype.on=function(t,e,n){var i,s,l,c,h,p,f;if(r(t))return o(t,function(t,n){this.on(t,n,e)},this),this;for("function"==typeof t&&(n=e,e=t,t=null),h=[].concat(t),i=0,s=h.length;i<s;i++){if(c=h[i],f={order:u++,fn:e},"string"==typeof c||"symbol"==typeof c)this._handlers[c]||(this._handlers[c]=[]),p=this._handlers[c],f.type=c;else if(c instanceof RegExp)p=this._handlersComplex,f.pattern=c;else{if(null!==c)throw Error("Emitter.on: invalid event.");p=this._handlersAll}for(l in n||{})a[l]&&(f[l]=n[l]);p.push(f)}return this},l.prototype.once=function(){var t=Array.prototype.slice.call(arguments),n=t.length-1;return r(t[n])&&t.length>1?t[n]=e(t[n],{once:!0}):t.push({once:!0}),this.on.apply(this,t)},l.prototype.off=function(t,e){var n,i,a,u;if(1===arguments.length&&"function"==typeof t){e=arguments[0];for(a in this._handlers)this._handlers[a]=s(this._handlers[a],e),0===this._handlers[a].length&&delete this._handlers[a];this._handlersAll=s(this._handlersAll,e),this._handlersComplex=s(this._handlersComplex,e)}else if(1!==arguments.length||"string"!=typeof t&&"symbol"!=typeof t)if(2===arguments.length){var l=[].concat(t);for(n=0,i=l.length;n<i;n++)u=l[n],this._handlers[u]=s(this._handlers[u],e),0===(this._handlers[u]||[]).length&&delete this._handlers[u]}else r(t)&&o(t,this.off,this);else delete this._handlers[t];return this},l.prototype.listeners=function(t){var e,n,i,r=this._handlersAll||[],o=!1;if(!t)throw Error("Emitter.listeners: no event provided.");for(r=r.concat(this._handlers[t]||[]),n=0,i=this._handlersComplex.length;n<i;n++)e=this._handlersComplex[n],~t.search(e.pattern)&&(o=!0,r.push(e));return this._handlersAll.length||o?r.sort(function(t,e){return t.order-e.order}):r.slice(0)},l.prototype.emit=function(t,e){if(!this._enabled)return this;if(r(t))return o(t,this.emit,this),this;var n,i,s,a,u,l,c,h,p=[].concat(t),f=[];for(u=0,c=p.length;u<c;u++){for(s=this.listeners(p[u]),l=0,h=s.length;l<h;l++)a=s[l],n={type:p[u],target:this},arguments.length>1&&(n.data=e),a.fn.call("scope"in a?a.scope:this,n),a.once&&f.push(a);for(l=f.length-1;l>=0;l--)i=f[l].type?this._handlers[f[l].type]:f[l].pattern?this._handlersComplex:this._handlersAll,i.splice(i.indexOf(f[l]),1)}return this},l.prototype.kill=function(){this.unbindAll(),this._handlers=null,this._handlersAll=null,this._handlersComplex=null,this._enabled=!1,this.unbindAll=this.on=this.once=this.off=this.emit=this.listeners=Function.prototype},l.prototype.disable=function(){return this._enabled=!1,this},l.prototype.enable=function(){return this._enabled=!0,this},l.version="3.1.1","undefined"!=typeof i?("undefined"!=typeof n&&n.exports&&(i=n.exports=l),i.Emitter=l):"function"==typeof t&&t.amd?t("emmett",[],function(){return l}):this.Emitter=l}).call(this)},{}],2:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return"λ"+t.map(function(t){return v.default.function(t)||v.default.object(t)?"#"+D()+"#":t}).join("λ")}n.__esModule=!0;var u=t("emmett"),l=r(u),c=t("./cursor"),h=r(c),p=t("./monkey"),f=t("./watcher"),d=r(f),g=t("./type"),v=r(g),m=t("./update"),y=r(m),b=t("./helpers"),x=i(b),w=x.arrayFrom,T=x.coercePath,S=x.deepFreeze,k=x.getIn,_=x.makeError,E=x.deepClone,C=x.deepMerge,P=x.shallowClone,j=x.shallowMerge,D=x.uniqid,A={autoCommit:!1,asynchronous:!0,immutable:!1,lazyMonkeys:!1,persistent:!1,pure:!0,validate:null,validationBehavior:"rollback"},O=function(t){function e(n,i){var r=this;if(o(this,e),t.call(this),arguments.length<1&&(n={}),!v.default.object(n)&&!v.default.array(n))throw _("Baobab: invalid data.",{data:n});this.options=j({},A,i),this.options.persistent||(this.options.immutable=!1,this.options.pure=!1),this._identity="[object Baobab]",this._cursors={},this._future=null,this._transaction=[],this._affectedPathsIndex={},this._monkeys={},this._previousData=null,this._data=n,this.root=new h.default(this,[],"λ"),delete this.root.release,this.options.immutable&&S(this._data);var s=function(t){r[t]=function(){var e=this.root[t].apply(this.root,arguments);return e instanceof h.default?this:e}};["apply","clone","concat","deepClone","deepMerge","exists","get","push","merge","pop","project","serialize","set","shift","splice","unset","unshift"].forEach(s),this._refreshMonkeys();var a=this.validate();if(a)throw Error("Baobab: invalid data.",{error:a})}return s(e,t),e.prototype._refreshMonkeys=function(t,e,n){var i=this,r=function t(e){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(e instanceof p.Monkey)return e.release(),void y.default(i._monkeys,n,{type:"unset"},{immutable:!1,persistent:!1,pure:!1});if(v.default.object(e))for(var r in e)t(e[r],n.concat(r))},o=function t(e){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(e instanceof p.MonkeyDefinition||e instanceof p.Monkey){var r=new p.Monkey(i,n,e instanceof p.Monkey?e.definition:e);return void y.default(i._monkeys,n,{type:"set",value:r},{immutable:!1,persistent:!1,pure:!1})}if(v.default.object(e))for(var o in e)t(e[o],n.concat(o))};if(arguments.length){var s=k(this._monkeys,e).data;s&&r(s,e),"unset"!==n&&o(t,e)}else o(this._data);return this},e.prototype.validate=function t(e){var n=this.options,t=n.validate,i=n.validationBehavior;if("function"!=typeof t)return null;var r=t.call(this,this._previousData,this._data,e||[[]]);return r instanceof Error?("rollback"===i&&(this._data=this._previousData,this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data),this.emit("invalid",{error:r}),r):null},e.prototype.select=function(t){if(t=t||[],arguments.length>1&&(t=w(arguments)),!v.default.path(t))throw _("Baobab.select: invalid path.",{path:t});t=[].concat(t);var e=a(t),n=this._cursors[e];return n||(n=new h.default(this,t,e),this._cursors[e]=n),this.emit("select",{path:t,cursor:n}),n},e.prototype.update=function(t,e){var n=this;if(t=T(t),!v.default.operationType(e.type))throw _('Baobab.update: unknown operation type "'+e.type+'".',{operation:e});var i=k(this._data,t),r=i.solvedPath,o=i.exists;if(!r)throw _("Baobab.update: could not solve the given path.",{path:r});var s=v.default.monkeyPath(this._monkeys,r);if(s&&r.length>s.length)throw _("Baobab.update: attempting to update a read-only path.",{path:r});if("unset"!==e.type||o){var u=e;if(/merge/i.test(e.type)){var l=k(this._monkeys,r).data;if(v.default.object(l)){u=P(u);var c=k(this._data,r).data;/deep/i.test(u.type)?u.value=C({},C({},c,E(l)),u.value):u.value=j({},C({},c,E(l)),u.value)}}this._transaction.length||(this._previousData=this._data);var h=y.default(this._data,r,u,this.options),p=h.data,f=h.node;if(!("data"in h))return f;var d=r.concat("push"===e.type?f.length-1:[]),g=a(d);return this._data=p,this._affectedPathsIndex[g]=!0,this._transaction.push(j({},e,{path:d})),this._refreshMonkeys(f,r,e.type),this.emit("write",{path:d}),this.options.autoCommit?this.options.asynchronous?(this._future||(this._future=setTimeout(function(){return n.commit()},0)),f):(this.commit(),f):f}},e.prototype.commit=function(){if(!this._transaction.length)return this;this._future&&(this._future=clearTimeout(this._future));var t=Object.keys(this._affectedPathsIndex).map(function(t){return"λ"!==t?t.split("λ").slice(1):[]}),e=this.validate(t);if(e)return this;var n=this._transaction,i=this._previousData;return this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data,this.emit("update",{paths:t,currentData:this._data,transaction:n,previousData:i}),this},e.prototype.getMonkey=function(t){t=T(t);var e=k(this._monkeys,[].concat(t)).data;return e instanceof p.Monkey?e:null},e.prototype.watch=function(t){return new d.default(this,t)},e.prototype.release=function(){var t=void 0;this.emit("release"),delete this.root,delete this._data,delete this._previousData,delete this._transaction,delete this._affectedPathsIndex,delete this._monkeys;for(t in this._cursors)this._cursors[t].release();delete this._cursors,this.kill()},e.prototype.toJSON=function(){return this.serialize()},e.prototype.toString=function(){return this._identity},e}(l.default);n.default=O,O.monkey=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw new Error("Baobab.monkey: missing definition.");return 1===e.length&&"function"!=typeof e[0]?new p.MonkeyDefinition(e[0]):new p.MonkeyDefinition(e)},O.dynamicNode=O.monkey,O.Cursor=h.default,O.MonkeyDefinition=p.MonkeyDefinition,O.Monkey=p.Monkey,O.type=v.default,O.helpers=x,O.VERSION="2.4.0",e.exports=n.default},{"./cursor":3,"./helpers":4,"./monkey":5,"./type":6,"./update":7,"./watcher":8,emmett:1}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!e)throw f.makeError("Baobab.Cursor."+t+": "+("cannot use "+t+" on an unresolved dynamic path."),{path:e})}function a(t,e){d.prototype[t]=function(n,i){if(arguments.length>2)throw f.makeError("Baobab.Cursor."+t+": too many arguments.");if(1!==arguments.length||g[t]||(i=n,n=[]),n=f.coercePath(n),!p.default.path(n))throw f.makeError("Baobab.Cursor."+t+": invalid path.",{path:n});if(e&&!e(i))throw f.makeError("Baobab.Cursor."+t+": invalid value.",{path:n,value:i});if(!this.solvedPath)throw f.makeError("Baobab.Cursor."+t+": the dynamic path of the cursor cannot be solved.",{path:this.path});var r=this.solvedPath.concat(n);return this.tree.update(r,{type:t,value:i})}}n.__esModule=!0;var u=t("emmett"),l=i(u),c=t("./monkey"),h=t("./type"),p=i(h),f=t("./helpers"),d=function(t){function e(n,i,o){var s=this;r(this,e),t.call(this),i=i||[],this._identity="[object Cursor]",this._archive=null,this.tree=n,this.path=i,this.hash=o,this.state={killed:!1,recording:!1,undoing:!1},this._dynamicPath=p.default.dynamicPath(this.path),this._monkeyPath=p.default.monkeyPath(this.tree._monkeys,this.path),this._dynamicPath?this.solvedPath=f.getIn(this.tree._data,this.path).solvedPath:this.solvedPath=this.path,this._writeHandler=function(t){var e=t.data;!s.state.killed&&f.solveUpdate([e.path],s._getComparedPaths())&&(s.solvedPath=f.getIn(s.tree._data,s.path).solvedPath)};var a=function(t){var e=s,n=Object.defineProperties({},{previousData:{get:function(){return f.getIn(t,e.solvedPath).data},configurable:!0,enumerable:!0},currentData:{get:function(){return e.get()},configurable:!0,enumerable:!0}});return s.state.recording&&!s.state.undoing&&s.archive.add(n.previousData),s.state.undoing=!1,s.emit("update",n)};this._updateHandler=function(t){if(!s.state.killed){var e=t.data,n=e.paths,i=e.previousData,r=a.bind(s,i),o=s._getComparedPaths();return f.solveUpdate(n,o)?r():void 0}};var u=!1;this._lazyBind=function(){if(!u)return u=!0,s._dynamicPath&&s.tree.on("write",s._writeHandler),s.tree.on("update",s._updateHandler)},this._dynamicPath?this._lazyBind():(this.on=f.before(this._lazyBind,this.on.bind(this)),this.once=f.before(this._lazyBind,this.once.bind(this)))}return o(e,t),e.prototype._getComparedPaths=function(){var t=this._monkeyPath?f.getIn(this.tree._monkeys,this._monkeyPath).data.relatedPaths():[];return[this.solvedPath].concat(t)},e.prototype.isRoot=function(){return!this.path.length},e.prototype.isLeaf=function(){return p.default.primitive(this._get().data)},e.prototype.isBranch=function(){return!this.isRoot()&&!this.isLeaf()},e.prototype.root=function(){return this.tree.select()},e.prototype.select=function(t){return arguments.length>1&&(t=f.arrayFrom(arguments)),this.tree.select(this.path.concat(t))},e.prototype.up=function(){return this.isRoot()?null:this.tree.select(this.path.slice(0,-1))},e.prototype.down=function(){if(s("down",this.solvedPath),!(this._get().data instanceof Array))throw Error("Baobab.Cursor.down: cannot go down on a non-list type.");return this.tree.select(this.solvedPath.concat(0))},e.prototype.left=function(){s("left",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.left: cannot go left on a non-list type.");return t?this.tree.select(this.solvedPath.slice(0,-1).concat(t-1)):null},e.prototype.right=function(){s("right",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.right: cannot go right on a non-list type.");return t+1===this.up()._get().data.length?null:this.tree.select(this.solvedPath.slice(0,-1).concat(t+1))},e.prototype.leftmost=function(){s("leftmost",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.leftmost: cannot go left on a non-list type.");return this.tree.select(this.solvedPath.slice(0,-1).concat(0))},e.prototype.rightmost=function(){s("rightmost",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.rightmost: cannot go right on a non-list type.");var e=this.up()._get().data;return this.tree.select(this.solvedPath.slice(0,-1).concat(e.length-1))},e.prototype.map=function(t,e){s("map",this.solvedPath);var n=this._get().data,i=arguments.length;if(!p.default.array(n))throw Error("baobab.Cursor.map: cannot map a non-list type.");return n.map(function(r,o){return t.call(i>1?e:this,this.select(o),o,n)},this)},e.prototype._get=function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(!p.default.path(t))throw f.makeError("Baobab.Cursor.getters: invalid path.",{path:t});return this.solvedPath?f.getIn(this.tree._data,this.solvedPath.concat(t)):{data:void 0,solvedPath:null,exists:!1}},e.prototype.exists=function(t){return t=f.coercePath(t),arguments.length>1&&(t=f.arrayFrom(arguments)),this._get(t).exists},e.prototype.get=function(t){t=f.coercePath(t),arguments.length>1&&(t=f.arrayFrom(arguments));var e=this._get(t),n=e.data,i=e.solvedPath;return this.tree.emit("get",{data:n,solvedPath:i,path:this.path.concat(t)}),n},e.prototype.clone=function(){var t=this.get.apply(this,arguments);return f.shallowClone(t)},e.prototype.deepClone=function(){var t=this.get.apply(this,arguments);return f.deepClone(t)},e.prototype.serialize=function(t){if(t=f.coercePath(t),arguments.length>1&&(t=f.arrayFrom(arguments)),!p.default.path(t))throw f.makeError("Baobab.Cursor.getters: invalid path.",{path:t});if(this.solvedPath){var e=this.solvedPath.concat(t),n=f.deepClone(f.getIn(this.tree._data,e).data),i=f.getIn(this.tree._monkeys,e).data,r=function t(e,n){if(p.default.object(n)&&p.default.object(e))for(var i in n)n[i]instanceof c.Monkey?delete e[i]:t(e[i],n[i])};return r(n,i),n}},e.prototype.project=function(t){if(p.default.object(t)){var e={};for(var n in t)e[n]=this.get(t[n]);return e}if(p.default.array(t)){for(var e=[],i=0,r=t.length;i<r;i++)e.push(this.get(t[i]));return e}throw f.makeError("Baobab.Cursor.project: wrong projection.",{projection:t})},e.prototype.startRecording=function(t){if(t=t||1/0,t<1)throw f.makeError("Baobab.Cursor.startRecording: invalid max records.",{value:t});return this.state.recording=!0,this.archive?this:(this._lazyBind(),this.archive=new f.Archive(t),this)},e.prototype.stopRecording=function(){return this.state.recording=!1,this},e.prototype.undo=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];if(!this.state.recording)throw new Error("Baobab.Cursor.undo: cursor is not recording.");var e=this.archive.back(t);if(!e)throw Error("Baobab.Cursor.undo: cannot find a relevant record.");return this.state.undoing=!0,this.set(e),this},e.prototype.hasHistory=function(){return!(!this.archive||!this.archive.get().length)},e.prototype.getHistory=function(){return this.archive?this.archive.get():[]},e.prototype.clearHistory=function(){return this.archive&&this.archive.clear(),this},e.prototype.release=function(){this._dynamicPath&&this.tree.off("write",this._writeHandler),this.tree.off("update",this._updateHandler),this.hash&&delete this.tree._cursors[this.hash],delete this.tree,delete this.path,delete this.solvedPath,delete this.archive,this.kill(),this.state.killed=!0},e.prototype.toJSON=function(){return this.serialize()},e.prototype.toString=function(){return this._identity},e}(l.default);n.default=d,"function"==typeof Symbol&&"undefined"!=typeof Symbol.iterator&&(d.prototype[Symbol.iterator]=function(){var t=this._get().data;if(!p.default.array(t))throw Error("baobab.Cursor.@@iterate: cannot iterate a non-list type.");var e=0,n=this,i=t.length;
return{next:function(){return e<i?{value:n.select(e++)}:{done:!0}}}});var g={unset:!0,pop:!0,shift:!0};a("set"),a("unset"),a("apply",p.default.function),a("push"),a("concat",p.default.array),a("unshift"),a("pop"),a("shift"),a("splice",p.default.splicer),a("merge",p.default.object),a("deepMerge",p.default.object),e.exports=n.default},{"./helpers":4,"./monkey":5,"./type":6,emmett:1}],4:[function(t,e,n){(function(e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=void 0,i=void 0;for(n=0,i=t.length;n<i;n++)if(e(t[n]))return n;return-1}function s(t){var e=new Array(t.length),n=void 0,i=void 0;for(n=0,i=t.length;n<i;n++)e[n]=t[n];return e}function a(t){return s(t)}function u(t,e){return function(){t.apply(null,arguments),e.apply(null,arguments)}}function l(t){var e=t.source,n="";return t.global&&(n+="g"),t.multiline&&(n+="m"),t.ignoreCase&&(n+="i"),t.sticky&&(n+="y"),t.unicode&&(n+="u"),new RegExp(e,n)}function c(t,n){if(!n||"object"!=typeof n||n instanceof Error||n instanceof x.MonkeyDefinition||n instanceof x.Monkey||"ArrayBuffer"in e&&n instanceof ArrayBuffer)return n;if(T.default.array(n)){if(t){var i=[],r=void 0,o=void 0;for(r=0,o=n.length;r<o;r++)i.push(c(!0,n[r]));return i}return s(n)}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return l(n);if(T.default.object(n)){var a={},r=void 0,o=void 0,u=void 0,h=Object.getOwnPropertyNames(n);for(r=0,o=h.length;r<o;r++)u=h[r],T.default.lazyGetter(n,u)?Object.defineProperty(a,u,{get:Object.getOwnPropertyDescriptor(n,u).get,enumerable:!0,configurable:!0}):Object.defineProperty(a,u,{value:t?c(!0,n[u]):n[u],enumerable:Object.getOwnPropertyDescriptor(n,u).enumerable,writable:!0,configurable:!0});return a}return n}function h(t){return t||0===t||""===t?t:[]}function p(t,e){var n=!0,i=void 0;if(!t)return!1;for(i in e)if(T.default.object(e[i]))n=n&&p(t[i],e[i]);else if(T.default.array(e[i]))n=n&&!!~e[i].indexOf(t[i]);else if(t[i]!==e[i])return!1;return n}function f(t,e){if(!("object"!=typeof e||null===e||e instanceof x.Monkey)&&(Object.freeze(e),t))if(Array.isArray(e)){var n=void 0,i=void 0;for(n=0,i=e.length;n<i;n++)f(!0,e[n])}else{var r=void 0,o=void 0;for(o in e)T.default.lazyGetter(e,o)||(r=e[o],r&&k.call(e,o)&&"object"==typeof r&&!Object.isFrozen(r)&&f(!0,r))}}function d(t,e){if(!e)return A;var n=[],i=!0,r=t,s=void 0,a=void 0,u=void 0;for(a=0,u=e.length;a<u;a++){if(!r)return{data:void 0,solvedPath:n.concat(e.slice(a)),exists:!1};if("function"==typeof e[a]){if(!T.default.array(r))return A;if(s=o(r,e[a]),!~s)return A;n.push(s),r=r[s]}else if("object"==typeof e[a]){if(!T.default.array(r))return A;if(s=o(r,function(t){return p(t,e[a])}),!~s)return A;n.push(s),r=r[s]}else n.push(e[a]),i="object"==typeof r&&e[a]in r,r=r[e[a]]}return{data:r,solvedPath:n,exists:i}}function g(t,e){var n=new Error(t);for(var i in e)n[i]=e[i];return n}function v(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n[0],o=void 0,s=void 0,a=void 0,u=void 0;for(s=1,a=n.length;s<a;s++){o=n[s];for(u in o)!t||!T.default.object(o[u])||o[u]instanceof x.Monkey?r[u]=o[u]:r[u]=v(!0,r[u]||{},o[u])}return r}function m(t,e){var n=[];e=[].concat(e);for(var i=0,r=e.length;i<r;i++){var o=e[i];"."===o?i||(n=t.slice(0)):".."===o?n=(i?n:t).slice(0,-1):n.push(o)}return n}function y(t,e){var n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=void 0;for(n=0,o=t.length;n<o;n++){if(u=t[n],!u.length)return!0;for(i=0,s=e.length;i<s;i++){if(l=e[i],!l||!l.length)return!0;for(r=0,a=l.length;r<a&&(c=l[r],c==u[r]);r++)if(r+1===a||r+1===u.length)return!0}}return!1}function b(t,e,n){n=Math.max(0,n),T.default.function(e)&&(e=o(t,e)),T.default.object(e)&&(e=o(t,function(t){return p(t,e)}));for(var i=arguments.length,r=Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];return e>=0?t.slice(0,e).concat(r).concat(t.slice(e+n)):t.slice(0,t.length+e).concat(r).concat(t.slice(t.length+e+n))}n.__esModule=!0,n.arrayFrom=a,n.before=u,n.coercePath=h,n.getIn=d,n.makeError=g,n.solveRelativePath=m,n.solveUpdate=y,n.splice=b;var x=t("./monkey"),w=t("./type"),T=i(w),S=Function.prototype,k={}.hasOwnProperty,_=function(){function t(e){r(this,t),this.size=e,this.records=[]}return t.prototype.get=function(){return this.records},t.prototype.add=function(t){return this.records.unshift(t),this.records.length>this.size&&(this.records.length=this.size),this},t.prototype.clear=function(){return this.records=[],this},t.prototype.back=function(t){var e=this.records[t-1];return e&&(this.records=this.records.slice(t)),e},t}();n.Archive=_;var E=c.bind(null,!1),C=c.bind(null,!0);n.shallowClone=E,n.deepClone=C;var P="function"==typeof Object.freeze,j=P?f.bind(null,!1):S,D=P?f.bind(null,!0):S;n.freeze=j,n.deepFreeze=D;var A={data:void 0,solvedPath:null,exists:!1},O=v.bind(null,!1),N=v.bind(null,!0);n.shallowMerge=O,n.deepMerge=N;var M=function(){var t=0;return function(){return t++}}();n.uniqid=M}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./monkey":5,"./type":6}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("./type"),s=i(o),a=t("./update"),u=i(a),l=t("./helpers"),c=function t(e){var n=this;r(this,t);var i=s.default.monkeyDefinition(e);if(!i)throw l.makeError("Baobab.monkey: invalid definition.",{definition:e});if(this.type=i,"object"===this.type)this.getter=e.get,this.projection=e.cursors||{},this.paths=Object.keys(this.projection).map(function(t){return n.projection[t]}),this.options=e.options||{};else{var o=1,a={};s.default.object(e[e.length-1])&&(o++,a=e[e.length-1]),this.getter=e[e.length-o],this.projection=e.slice(0,-o),this.paths=this.projection,this.options=a}this.paths=this.paths.map(function(t){return[].concat(t)}),this.hasDynamicPaths=this.paths.some(s.default.dynamicPath)};n.MonkeyDefinition=c;var h=function(){function t(e,n,i){var o=this;r(this,t),this.tree=e,this.path=n,this.definition=i;var s=i.projection,a=l.solveRelativePath.bind(null,n.slice(0,-1));"object"===i.type?(this.projection=Object.keys(s).reduce(function(t,e){return t[e]=a(s[e]),t},{}),this.depPaths=Object.keys(this.projection).map(function(t){return o.projection[t]})):(this.projection=s.map(a),this.depPaths=this.projection),this.state={killed:!1},this.writeListener=function(t){var e=t.data.path;if(!o.state.killed){var n=l.solveUpdate([e],o.relatedPaths());n&&o.update()}},this.recursiveListener=function(t){var e=t.data,n=e.monkey,i=e.path;if(!o.state.killed&&o!==n){var r=l.solveUpdate([i],o.relatedPaths(!1));r&&o.update()}},this.tree.on("write",this.writeListener),this.tree.on("_monkey",this.recursiveListener),this.update()}return t.prototype.relatedPaths=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0],n=void 0;n=this.definition.hasDynamicPaths?this.depPaths.map(function(e){return l.getIn(t.tree._data,e).solvedPath}):this.depPaths;var i=e&&this.depPaths.some(function(e){return!!s.default.monkeyPath(t.tree._monkeys,e)});return i?n.reduce(function(e,n){var i=s.default.monkeyPath(t.tree._monkeys,n);if(!i)return e.concat([n]);var r=l.getIn(t.tree._monkeys,i).data;return e.concat(r.relatedPaths())},[]):n},t.prototype.update=function(){var t=this.tree.project(this.projection),e=function(t,e,n){var i=null,r=!1;return function(){return r||(i=e.getter.apply(t,"object"===e.type?[n]:n),t.options.immutable&&e.options.immutable!==!1&&l.deepFreeze(i),r=!0),i}}(this.tree,this.definition,t);if(e.isLazyGetter=!0,this.tree.options.lazyMonkeys)this.tree._data=u.default(this.tree._data,this.path,{type:"monkey",value:e},this.tree.options).data;else{var n=u.default(this.tree._data,this.path,{type:"set",value:e(),options:{mutableLeaf:!this.definition.options.immutable}},this.tree.options);"data"in n&&(this.tree._data=n.data)}return this.tree.emit("_monkey",{monkey:this,path:this.path}),this},t.prototype.release=function(){this.tree.off("write",this.writeListener),this.tree.off("_monkey",this.monkeyListener),this.state.killed=!0,delete this.projection,delete this.depPaths,delete this.tree},t}();n.Monkey=h},{"./helpers":4,"./type":6,"./update":7}],6:[function(t,e,n){"use strict";function i(t,e){return e.some(function(e){return o[e](t)})}n.__esModule=!0;var r=t("./monkey"),o={};o.array=function(t){return Array.isArray(t)},o.object=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!(t instanceof Date)&&!(t instanceof RegExp)&&!("function"==typeof Map&&t instanceof Map)&&!("function"==typeof Set&&t instanceof Set)},o.string=function(t){return"string"==typeof t},o.number=function(t){return"number"==typeof t},o.function=function(t){return"function"==typeof t},o.primitive=function(t){return t!==Object(t)},o.splicer=function(t){return!(!o.array(t)||t.length<2)&&(i(t[0],["number","function","object"])&&o.number(t[1]))};var s=["string","number","function","object"];o.path=function(t){return!(!t&&0!==t&&""!==t)&&[].concat(t).every(function(t){return i(t,s)})},o.dynamicPath=function(t){return t.some(function(t){return o.function(t)||o.object(t)})},o.monkeyPath=function(t,e){var n=[],i=t,o=void 0,s=void 0;for(o=0,s=e.length;o<s;o++){if(n.push(e[o]),"object"!=typeof i)return null;if(i=i[e[o]],i instanceof r.Monkey)return n}return null},o.lazyGetter=function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return n&&n.get&&n.get.isLazyGetter===!0},o.monkeyDefinition=function(t){if(o.object(t))return o.function(t.get)&&(!t.cursors||o.object(t.cursors)&&Object.keys(t.cursors).every(function(e){return o.path(t.cursors[e])}))?"object":null;if(o.array(t)){var e=1;return o.object(t[t.length-1])&&e++,o.function(t[t.length-e])&&t.slice(0,-e).every(function(t){return o.path(t)})?"array":null}return null},o.watcherMapping=function(t){return o.object(t)&&Object.keys(t).every(function(e){return o.path(t[e])})};var a=["set","apply","push","unshift","concat","pop","shift","deepMerge","merge","splice","unset"];o.operationType=function(t){return"string"==typeof t&&!!~a.indexOf(t)},n.default=o,e.exports=n.default},{"./monkey":5}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return u.makeError('Baobab.update: cannot apply the "'+t+'" on '+("a non "+e+" (path: /"+n.join("/")+")."),{path:n})}function o(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],o=n.type,s=n.value,l=n.options,c=void 0===l?{}:l,h={root:t},p=["root"].concat(e),f=[],d=h,g=void 0,v=void 0,m=void 0;for(g=0,v=p.length;g<v;g++){if(m=p[g],g>0&&f.push(m),g===v-1){if("set"===o){if(i.pure&&d[m]===s)return{node:d[m]};a.default.lazyGetter(d,m)?Object.defineProperty(d,m,{value:s,enumerable:!0,configurable:!0}):i.persistent&&!c.mutableLeaf?d[m]=u.shallowClone(s):d[m]=s}else if("monkey"===o)Object.defineProperty(d,m,{get:s,enumerable:!0,configurable:!0});else if("apply"===o){var y=s(d[m]);if(i.pure&&d[m]===y)return{node:d[m]};a.default.lazyGetter(d,m)?Object.defineProperty(d,m,{value:y,enumerable:!0,configurable:!0}):i.persistent?d[m]=u.shallowClone(y):d[m]=y}else if("push"===o){if(!a.default.array(d[m]))throw r("push","array",f);i.persistent?d[m]=d[m].concat([s]):d[m].push(s)}else if("unshift"===o){if(!a.default.array(d[m]))throw r("unshift","array",f);i.persistent?d[m]=[s].concat(d[m]):d[m].unshift(s)}else if("concat"===o){if(!a.default.array(d[m]))throw r("concat","array",f);i.persistent?d[m]=d[m].concat(s):d[m].push.apply(d[m],s)}else if("splice"===o){if(!a.default.array(d[m]))throw r("splice","array",f);i.persistent?d[m]=u.splice.apply(null,[d[m]].concat(s)):d[m].splice.apply(d[m],s)}else if("pop"===o){if(!a.default.array(d[m]))throw r("pop","array",f);i.persistent?d[m]=u.splice(d[m],-1,1):d[m].pop()}else if("shift"===o){if(!a.default.array(d[m]))throw r("shift","array",f);i.persistent?d[m]=u.splice(d[m],0,1):d[m].shift()}else if("unset"===o)a.default.object(d)?delete d[m]:a.default.array(d)&&d.splice(m,1);else if("merge"===o){if(!a.default.object(d[m]))throw r("merge","object",f);i.persistent?d[m]=u.shallowMerge({},d[m],s):d[m]=u.shallowMerge(d[m],s)}else if("deepMerge"===o){if(!a.default.object(d[m]))throw r("deepMerge","object",f);i.persistent?d[m]=u.deepMerge({},d[m],s):d[m]=u.deepMerge(d[m],s)}i.immutable&&!c.mutableLeaf&&u.deepFreeze(d);break}a.default.primitive(d[m])?d[m]={}:i.persistent&&(d[m]=u.shallowClone(d[m])),i.immutable&&v>0&&u.freeze(d),d=d[m]}return a.default.lazyGetter(d,m)?{data:h.root}:{data:h.root,node:d[m]}}n.__esModule=!0,n.default=o;var s=t("./type"),a=i(s),u=t("./helpers");e.exports=n.default},{"./helpers":4,"./type":6}],8:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("emmett"),a=i(s),u=t("./cursor"),l=i(u),c=t("./type"),h=i(c),p=t("./helpers"),f=function(t){function e(n,i){var o=this;r(this,e),t.call(this),this.tree=n,this.mapping=null,this.state={killed:!1},this.refresh(i),this.handler=function(t){if(!o.state.killed){var e=o.getWatchedPaths();return p.solveUpdate(t.data.paths,e)?o.emit("update"):void 0}},this.tree.on("update",this.handler)}return o(e,t),e.prototype.getWatchedPaths=function(){var t=this,e=Object.keys(this.mapping).map(function(e){var n=t.mapping[e];return n instanceof l.default?n.solvedPath:t.mapping[e]});return e.reduce(function(e,n){if(n=[].concat(n),h.default.dynamicPath(n)&&(n=p.getIn(t.tree._data,n).solvedPath),!n)return e;var i=h.default.monkeyPath(t.tree._monkeys,n);return i?e.concat(p.getIn(t.tree._monkeys,i).data.relatedPaths()):e.concat([n])},[])},e.prototype.getCursors=function(){var t=this,e={};return Object.keys(this.mapping).forEach(function(n){var i=t.mapping[n];i instanceof l.default?e[n]=i:e[n]=t.tree.select(i)}),e},e.prototype.refresh=function(t){if(!h.default.watcherMapping(t))throw p.makeError("Baobab.watch: invalid mapping.",{mapping:t});this.mapping=t;var e={};for(var n in t)e[n]=t[n]instanceof l.default?t[n].path:t[n];this.get=this.tree.project.bind(this.tree,e)},e.prototype.release=function(){this.tree.off("update",this.handler),this.state.killed=!0,this.kill()},e}(a.default);n.default=f,e.exports=n.default},{"./cursor":3,"./helpers":4,"./type":6,emmett:1}]},{},[2])(2)}),function(){function t(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!E(n)&&y.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[u]:u],u+=t),e(n,i,r,s,u,a)}}function e(t){return function(e,n,i){n=x(n,i);for(var r=_(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var s=0,a=_(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(c.call(i,s,a),y.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=A.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=A[n],o in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,u=Function.prototype,l=s.push,c=s.slice,h=a.toString,p=a.hasOwnProperty,f=Array.isArray,d=Object.keys,g=u.bind,v=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},x=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return x(t,e,1/0)};var w=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,u=0;a>u;u++){var l=s[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},T=function(t){if(!y.isObject(t))return{};if(v)return v(t);m.prototype=t;var e=new m;return m.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},k=Math.pow(2,53)-1,_=S("length"),E=function(t){var e=_(t);return"number"==typeof e&&e>=0&&k>=e};y.each=y.forEach=function(t,e,n){e=b(e,n);var i,r;if(E(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=x(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;return i=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&i!==-1?t[i]:void 0},y.filter=y.select=function(t,e,n){var i=[];return e=x(e,n),y.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(x(e)),n)},y.every=y.all=function(t,e,n){e=x(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=x(e,n);for(var i=!E(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return E(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],i>o&&(o=i)}else e=x(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var a=0,u=t.length;u>a;a++)i=t[a],o>i&&(o=i)}else e=x(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(s>r||1/0===r&&1/0===o)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=y.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=x(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,n,i){var r={};return n=x(n,i),y.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};y.groupBy=C(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=C(function(t,e,n){t[n]=e}),y.countBy=C(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=x(e,n);var i=[],r=[];return y.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var P=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=_(t);a>s;s++){var u=t[s];if(E(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=P(u,e,n));var l=0,c=u.length;for(r.length+=c;c>l;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};y.flatten=function(t,e){return P(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=x(n,i));for(var r=[],o=[],s=0,a=_(t);a>s;s++){var u=t[s],l=n?n(u,s,t):u;e?(s&&o===l||r.push(u),o=l):n?y.contains(o,l)||(o.push(l),r.push(u)):y.contains(r,u)||r.push(u)}return r},y.union=function(){return y.uniq(P(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=_(t);r>i;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;n>s&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=P(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,_).length||0,n=Array(e),i=0;e>i;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=_(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=x(n,i,1);for(var r=n(e),o=0,s=_(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var j=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=T(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return j(t,i,e,this,n.concat(c.call(arguments)))};return i},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;r>s;s++)o[s]=e[s]===y?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return j(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:y.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var l=y.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return i=this,r=arguments,0>=c||c>e?(s&&(clearTimeout(s),s=null),a=l,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},y.debounce=function(t,e,n){var i,r,o,s,a,u=function(){var l=y.now()-s;e>l&&l>=0?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(o,r),o=r=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return D&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=x(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(t,e,n){e=x(e,n);for(var i,r=y.keys(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=b(e,n)):(r=P(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=r.length;u>a;a++){var l=r[a],c=s[l];i(c,l,s)&&(o[l]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(P(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=w(y.allKeys,!0),y.create=function(t,e){var n=T(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var O=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!O(t[u],e[u],n,i))return!1}else{var l,c=y.keys(t);if(u=c.length,y.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(e,l)||!O(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return O(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&p.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=S,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=y.invert(N),L=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};y.escape=L(N),y.unescape=L(M),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var H=0;y.uniqueId=function(t){var e=++H+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,I=function(t){return"\\"+X[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||Y).source,(e.interpolate||Y).source,(e.evaluate||Y).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(B,I),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,y)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},y.chain=function(t){var e=y(t);return e._chain=!0,e};var q=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),q(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],q(this,n)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.store=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){(function(t){"use strict";e.exports=function(){function e(){try{return s in r&&r[s]}catch(t){return!1}}var n,i={},r="undefined"!=typeof window?window:t,o=r.document,s="localStorage",a="script";if(i.disabled=!1,i.version="1.3.20",i.set=function(t,e){},i.get=function(t,e){},i.has=function(t){return void 0!==i.get(t);
},i.remove=function(t){},i.clear=function(){},i.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var r=i.get(t,e);n(r),i.set(t,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(t){return JSON.stringify(t)},i.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},e())n=r[s],i.set=function(t,e){return void 0===e?i.remove(t):(n.setItem(t,i.serialize(e)),e)},i.get=function(t,e){var r=i.deserialize(n.getItem(t));return void 0===r?e:r},i.remove=function(t){n.removeItem(t)},i.clear=function(){n.clear()},i.getAll=function(){var t={};return i.forEach(function(e,n){t[e]=n}),t},i.forEach=function(t){for(var e=0;e<n.length;e++){var r=n.key(e);t(r,i.get(r))}};else if(o&&o.documentElement.addBehavior){var u,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),l.close(),u=l.w.frames[0].document,n=u.createElement("div")}catch(t){n=o.createElement("div"),u=o.body}var c=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(n),u.appendChild(n),n.addBehavior("#default#userData"),n.load(s);var r=t.apply(i,e);return u.removeChild(n),r}},h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(t){return t.replace(/^d/,"___$&").replace(h,"___")};i.set=c(function(t,e,n){return e=p(e),void 0===n?i.remove(e):(t.setAttribute(e,i.serialize(n)),t.save(s),n)}),i.get=c(function(t,e,n){e=p(e);var r=i.deserialize(t.getAttribute(e));return void 0===r?n:r}),i.remove=c(function(t,e){e=p(e),t.removeAttribute(e),t.save(s)}),i.clear=c(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(s);for(var n=e.length-1;n>=0;n--)t.removeAttribute(e[n].name);t.save(s)}),i.getAll=function(t){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=c(function(t,e){for(var n,r=t.XMLDocument.documentElement.attributes,o=0;n=r[o];++o)e(n.name,i.deserialize(t.getAttribute(n.name)))})}try{var f="__storejs__";i.set(f,f),i.get(f)!=f&&(i.disabled=!0),i.remove(f)}catch(t){i.disabled=!0}return i.enabled=!i.disabled,i}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(t,e,n){function i(t,n){this.wrapper="string"==typeof t?e.querySelector(t):t,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|EMBED|OBJECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in n)this.options[i]=n[i];this.scroller=this.options.scrollerSelector?this.wrapper.querySelector(this.options.scrollerSelector):this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function r(t,n,i){var r=e.createElement("div"),o=e.createElement("div");return i===!0&&(r.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==t?(i===!0&&(r.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),r.className="iScrollHorizontalScrollbar"):(i===!0&&(r.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),r.className="iScrollVerticalScrollbar"),r.style.cssText+=";overflow:hidden",n||(r.style.pointerEvents="none"),r.appendChild(o),r}function o(n,i){this.wrapper="string"==typeof i.el?e.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=n,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var r in i)this.options[r]=i[r];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,"MSPointerDown",this),a.addEvent(t,"MSPointerUp",this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[a.style.transform]=this.scroller.translateZ,this.wrapperStyle[a.style.transitionDuration]=a.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function i(t){return s!==!1&&(""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1))}var r={},o=e.createElement("div").style,s=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;n<i;n++)if(t=e[n]+"ransform",t in o)return e[n].substr(0,e[n].length-1);return!1}();r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(t,e){for(var n in e)t[n]=e[n]},r.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},r.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},r.momentum=function(t,e,i,r,o,s,a){var u,l,c=t-e,h=n.abs(c)/i;return a=void 0===a?.0012:a,u=t+h*h/(2*a)*(c<0?-1:1),l=h/a,u<r?(u=s?r-s/2.5*(h/8):r,c=n.abs(u-t),l=c/h):u>o?(u=o,c=n.abs(u-t),l=c/h):u>0&&(u=s?s/2.5*(h/8):0,c=n.abs(t)+u,l=c/h),{destination:n.round(u),duration:l}};var a=i("transform");r.extend(r,{hasTransform:a!==!1,hasPerspective:i("perspective")in o,hasTouch:"ontouchstart"in t,hasPointer:navigator.msPointerEnabled,hasTransition:i("transition")in o}),r.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),r.extend(r.style={},{transform:a,transitionTimingFunction:i("transitionTimingFunction"),transitionDuration:i("transitionDuration"),transitionDelay:i("transitionDelay"),transformOrigin:i("transformOrigin")}),r.hasClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)},r.addClass=function(t,e){if(!r.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},r.removeClass=function(t,e){if(r.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},r.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},r.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});var u=function(t,e,n){var i=1==e?1-t:2==e?t:t<.5?2*t:2*(1-t);return 1==n?i*=i:2==n?i*=i*i:3==n?i*=i*i*i:4==n&&(i*=i*i*i*i),1==e?1-i:2==e?i:t<.5?i/2:1-i/2};return r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return n.sqrt(1- --t*t)}},easeInOutCirc:{style:"cubic-bezier(0.785, 0.135, 0.15, 0.86)",fn:function(t){return(t*=2)<1?-.5*(n.sqrt(1-t*t)-1):.5*(n.sqrt(1-(t-=2)*t)+1)}},cubicOut:{style:"cubic-bezier(0.215, 0.61, 0.355, 1)",fn:function(t){return u(t,1,2)}},cubicInOut:{style:"cubic-bezier(0.645, 0.045, 0.355, 1)",fn:function(t){return u(t,3,2)}},circIn:{style:"cubic-bezier(0.95, 0.05, 0.795, 0.035)",fn:function(t){return-(n.sqrt(1-t*t)-1)}},expoOut:{style:"cubic-bezier(0.19, 1, 0.22, 1)",fn:function(t){return 1-n.pow(2,-10*t)}},expoIn:{style:"cubic-bezier(0.95, 0.05, 0.795, 0.035)",fn:function(t){return n.pow(2,10*(t-1))-.001}},expoInOut:{style:"cubic-bezier(1, 0, 0, 1)",fn:function(t){return(t*=2)<1?.5*n.pow(2,10*(t-1)):.5*(2-n.pow(2,-10*(t-1)))}},circOut:{style:"cubic-bezier(0.075, 0.82, 0.165, 1)",fn:function(t){return n.sqrt(1-(t-=1)*t)}},circInOut:{style:"cubic-bezier(0.785, 0.135, 0.15, 0.86)",fn:function(t){return(t*=2)<1?-.5*(n.sqrt(1-t*t)-1):.5*(n.sqrt(1-(t-=2)*t)+1)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*n.pow(2,-10*t)*n.sin((t-e/4)*(2*n.PI)/e)+1}}}),r.tap=function(t,n){var i=e.createEvent("Event");i.initEvent(n,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},r.click=function(t){var n,i=t.target;/(SELECT|INPUT|TEXTAREA|BUTTON|EMBED|OBJECT)/i.test(i.tagName)||(n=e.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),n._constructed=!0,i.dispatchEvent(n))},r}();i.prototype={version:"5.1.1",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this.moved=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=a.eventType[t.type]){if(/(SELECT|INPUT|TEXTAREA|BUTTON|EMBED|OBJECT)/i.test(t.target.tagName))return;if(0!==t.button)return;if($(t.target).attr("data-prevent"))return}if(clearTimeout(this.wheelTimeout),this.wheelSnap=!1,this.enabled&&(!this.initiated||a.eventType[t.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this.moved=!1,this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this.moved=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this.moved=!1,this._execEvent("beforeScrollStart"),this._execEvent("grab")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,r,o,s=t.touches?t.touches[0]:t,u=s.pageX-this.pointX,l=s.pageY-this.pointY,c=a.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=u,this.distY+=l,r=n.abs(this.distX),o=n.abs(this.distY),!(c-this.endTime>300&&r<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(r>o+this.options.directionLockThreshold?this.directionLocked="h":o>=r+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);u=0}u=this.hasHorizontalScroll?u:0,l=this.hasVerticalScroll?l:0,e=this.x+u,i=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+u/(this.options.boundDeceleration||7):e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/(this.options.boundDeceleration||7):i>0?0:this.maxScrollY),this.directionX=u>0?-1:u<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},reset:function(){this.isInTransition=0,this.initiated=0,this.endTime=a.getTime()},_end:function(t){if(this.enabled&&(this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.moved||$.contains(this.wrapper,t.target))){this.moved||(this.startX=n.round(this.x),this.startY=n.round(this.y));var e,i,r=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),o=n.round(this.x),s=n.round(this.y),u=(n.abs(o-this.startX),n.abs(s-this.startY),0),l="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,s),this.options.momentum&&r<300&&this.moved&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,r,this.maxScrollX,this.minScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},i=this.hasVerticalScroll?a.momentum(this.y,this.startY,r,this.maxScrollY,this.minScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},o=e.destination,s=i.destination,u=n.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var c=this._nearestSnap(o,s);this.currentPage=c,u=this.options.snapSpeed||n.max(n.max(n.min(n.abs(o-c.x),1e3),n.min(n.abs(s-c.y),1e3)),this.options.snapSpeed),o=c.x,s=c.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing}return o==this.x&&s==this.y||((o>0||o<this.maxScrollX||s>0||s<this.maxScrollY)&&(l=a.ease.quadratic),s<this.maxScrollY&&(s=this.maxScrollY),o<this.maxScrollX&&(o=this.maxScrollX),s>0&&(s=0),o>0&&(o=0),o==this.x&&s==this.y||this.scrollTo(o,s,u,l)),this.moved?void(this.moved=!1):(this.options.tap&&$.contains(this.wrapper,t.target)&&a.tap(t,this.options.tap),this.options.click&&$.contains(this.wrapper,t.target)&&a.click(t),void this._execEvent("scrollCancel"))}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){if(this._execEvent("scrollReset"),this.preventReset)return!1;var e=this.x,n=this.y,i=this.options.forceBounds?this.maxScrollY:-this.scrollerHeight+this.wrapperHeight,r=-this.scrollerWidth+this.wrapperWidth;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<r&&(e=r),!this.hasVerticalScroll||this.y>0?n=0:this.y<i&&(n=i),(e!=this.x||n!=this.y)&&(this.enabled?this.scrollTo(e,n,t,this.options.bounceEasing):this.scrollTo(e,n,this.options.snapSpeed,a.ease.circOut),!0)},disable:function(){this._execEvent("disable"),this.enabled=!1},enable:function(){this._execEvent("enable"),this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this!=t&&(this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.minScrollX=0,this.minScrollY=0,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&(this.options.forceBounds||this.maxScrollX<0),this.hasVerticalScroll=this.options.scrollY&&(this.options.forceBounds||this.maxScrollY<0),this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition())},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;e<n;e++)this._events[t][e].apply(this)}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){this.hold||(i=i||a.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn))},scrollToElement:function(t,e,i,r,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=a.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,i===!0&&(i=n.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),r===!0&&(r=n.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=i||0,s.top-=r||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?n.max(n.abs(this.x-s.left),n.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,o)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.scrollerStyle[a.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(!this.hold&&(this.options.useTransform&&!this.options.fake?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+n.round(e)+"px)"+this.translateZ:this.options.fake||(t=n.round(t),e=n.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators))for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(e){var n=e?a.removeEvent:a.addEvent,i=this.options.bindToWrapper?this.wrapper:t;n(t,"orientationchange",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,"MSPointerDown",this),n(i,"MSPointerMove",this),n(i,"MSPointerCancel",this),n(i,"MSPointerUp",this)),a.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,n,i=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[a.style.transform].split(")")[0].split(", "),e=+(i[12]||i[4]),n=+(i[13]||i[5])):(e=+i.left.replace(/[^-\d.]/g,""),n=+i.top.replace(/[^-\d.]/g,"")),{x:e,y:n}},_initIndicators:function(){function t(t){for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,s=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:r("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),s.push(e)),this.options.scrollX&&(e={el:r("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),s.push(e))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var u=s.length;u--;)this.indicators.push(new o(this,s[u]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){var t=this;t.newActionTime=Date.now(),t.lastDeltaY=0,t.lastDeltasY=[],t.lastDirection=0,$(t.wrapper).on("mousewheel",function(e){t._wheel(e)}),this.on("destroy",function(){$(t.wrapper).off("mousewheel")})},_wheel:function(t){if(this.enabled||(this.lastDirection=t.deltaY<0?-1:1,this.lastDeltaY=t.deltaY,this.lastDeltasY.push(t.deltaY),this.lastDeltasY.length>4&&this.lastDeltasY.shift()),this.enabled&&!this.moved&&!this.snapping&&(!this.indicators||!this.indicators[0].moved)){t.preventDefault();var e,i,r,o,s=this;if(void 0===this.wheelTimeout&&(s._execEvent("scrollStart"),this.absStartX=this.x,this.absStartY=this.y,this.wheelSnap=!1),clearTimeout(s.wheelTimeout),s.wheelTimeout=setTimeout(function(){s.moved||(s.moved=!1,s.wheelTimeout=void 0)},this.options.wheelDelay||400),"undefined"==typeof s.isStepScrolling&&(s.isStepScrolling=t.deltaFactor&&t.deltaFactor>this.options.mouseWheelSpeed),"deltaX"in t)s.isStepScrolling?(e=-t.deltaX*t.deltaFactor,i=-t.deltaY*t.deltaFactor):1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}this.directionY=-i>0?1:-1,e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll?e=0:(e=i,i=0),r=this.x+e,o=this.y+i;var u=this.options.forceBounds&&this.options.pullSize?1.3*-this.options.pullSize:-this.scrollerHeight+this.wrapperHeight,l=-this.scrollerWidth+this.wrapperWidth;s.lastDeltasY.push(i),s.lastDeltasY.length>4&&s.lastDeltasY.shift();for(var c=!0,h=1;h<s.lastDeltasY.length;h++)if(n.abs(s.lastDeltasY[h-1])>=n.abs(s.lastDeltasY[h])){c=!1;break}var p=Date.now(),f=n.abs(i)>=5&&(c||s.isStepScrolling)&&p-s.newActionTime>(s.isStepScrolling?350:400),d=((t.deltaY<0?-1:1)!=s.lastDirection,s.pages[0][s.currentPage.pageY]);if(r<l&&(r=l),r>0&&(r=0),o>0){var g=!0;o=0}if(o<u){var v=!0;o=u}if(g||v){if(f){if(s.newActionTime=p,s.options.prevTrigger&&g&&!app.device.isMobile)return s.options.prevTrigger();if(s.options.nextTrigger&&v&&!app.device.isMobile)return s.options.nextTrigger();s.enabled=!1,s.scrollTo(0,g?40:u-40,.7*s.options.snapSpeed,a.ease.cubicInOut),setTimeout(function(){s.enabled=!0},1.5*this.options.snapSpeed)}return s.lastDirection=i<0?-1:1,s.lastDeltaY=i,!1}return r==this.x&&o==this.y?(this._execEvent("scroll"),!1):(o>=u&&r>=l&&o<=0&&r<=0&&!s.options.snap&&(this.scrollTo(r,o,0),this.options.probeType>1&&this._execEvent("scroll")),s.options.snap?(f&&s.isSnapped&&(s.isSnapped=!1),o<d.y&&o>d.y-d.height+s.wrapperHeight?(s.isSnapped||this.scrollTo(r,o,0),this.options.probeType>1&&this._execEvent("scroll")):f&&(s.newActionTime=p,r=this.currentPage.pageX,o=this.currentPage.pageY,i>0?(o=n.max(o-1,0),s.isSnapped=!0,s.scrollTo(0,s.pages[0][o].y-s.pages[0][o].height+s.wrapperHeight,s.options.snapSpeed,s.options.expoInOut)):i<0&&(o++,s.isSnapped=!0,o=n.min(s.pages[0].length-1,o),s.goToPage(r,o,s.options.snapSpeed,s.options.expoInOut)),s.currentPage={x:0,y:s.pages[0][o],pageY:o,pageX:0}),s.lastDirection=i<0?-1:1,void(s.lastDeltaY=i)):void 0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,r,o,s,a=0,u=0,l=0,c=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=n.round(c/2),r=n.round(h/2);l>-this.scrollerWidth;){for(this.pages[a]=[],t=0,o=0;o>-this.scrollerHeight;)this.pages[a][t]={x:n.max(l,this.maxScrollX),y:n.max(o,this.maxScrollY),width:c,height:h,cx:l-i,cy:o-r},o-=h,t++;l-=c,a++}else for(s=this.options.snap,t=s.length,e=-1;a<t;a++)(0===a||s[a].offsetLeft<=s[a-1].offsetLeft)&&(u=0,e++),this.pages[u]||(this.pages[u]=[]),l=n.max(-s[a].offsetLeft,this.maxScrollX),o=n.max(-s[a].offsetTop,this.maxScrollY),i=l-n.round(s[a].offsetWidth/2),r=o-n.round(s[a].offsetHeight/2),this.pages[u][e]={x:l,y:o,width:s[a].offsetWidth,height:s[a].offsetHeight,cx:i,cy:r},l>this.maxScrollX&&u++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.wrapperWidth*this.options.snapThreshold),this.snapThresholdY=n.round(this.wrapperHeight*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),this.options.snapSpeed);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,r=this.pages.length,o=0,s=e;if(this.wheelSnap||n.abs(t-this.absStartX)<=this.snapThresholdX&&n.abs(e-this.absStartY)<=this.snapThresholdY)t=this.currentPage.x,e=this.currentPage.y,i=this.currentPage.pageX,o=this.currentPage.pageY;else{var a=-this.scrollerHeight+this.wrapperHeight,u=-this.scrollerWidth+this.wrapperWidth;for(t>=0?t=0:t<=u&&(t=u),e>=0?e=0:e<=a&&(e=a);i<r;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(r=this.pages[i].length;o<r;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}i==this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),o==this.currentPage.pageY&&(s>=this.pages[0][o].y+this.snapThresholdY||s<=this.pages[0][o].y-this.pages[0][o].height+this.wrapperHeight-this.snapThresholdY)&&(o+=this.directionY),o<0?o=0:o>=this.pages[0].length-1&&(o=this.pages[0].length-1),e=this.pages[0][o].y}if(this.hasVerticalScroll&&(this.pages[0][o].height>this.wrapperHeight||this.pages[0][this.currentPage.pageY].height>this.wrapperHeight)){var l=this.currentPage.y,c=this.currentPage.y-this.pages[0][this.currentPage.pageY].height+this.wrapperHeight;n.abs(s-this.absStartY);if(s>=c&&s<=l)return{x:0,y:s,pageX:0,pageY:this.currentPage.pageY};if(o<this.currentPage.pageY&&this.absStartY+this.snapThresholdY<l)return{x:0,y:this.currentPage.y,pageX:0,pageY:this.currentPage.pageY};if(o<this.currentPage.pageY)return{x:0,y:this.pages[0][o].y-this.pages[0][o].height+this.wrapperHeight,pageX:0,pageY:o};if(o>this.currentPage.pageY&&this.absStartY-this.snapThresholdY>c)return{x:0,y:this.currentPage.y-this.pages[0][this.currentPage.pageY].height+this.wrapperHeight,pageX:0,pageY:o};if(o>this.currentPage.pageY)return{x:0,y:this.pages[0][o].y,pageX:0,pageY:o};if(s<this.pages[0][o].y-this.pages[0][o].height+this.wrapperHeight)return{x:0,y:this.pages[0][o].y-this.pages[0][o].height+this.wrapperHeight,pageX:0,pageY:o}}return{x:t,y:e,pageX:i,pageY:o}},goToPage:function(t,e,i,r){if(r=r||this.options.bounceEasing,this.pages&&(t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),this.pages[t])){e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,s=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||n.max(n.max(n.min(n.abs(o-this.x),1e3),n.min(n.abs(s-this.y),1e3)),300):i,this.currentPage={x:o,y:s,pageX:t,pageY:e},this.scrollTo(o,s,i,r)}},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(e){var n,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in i)this.options.keyBindings[n]=this.options.keyBindings[n]||i[n];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,r=i?this.currentPage.pageX:this.x,o=i?this.currentPage.pageY:this.y,s=a.getTime(),u=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this.isInTransition=!1),this.keyAcceleration=s-u<200?n.min(this.keyAcceleration+l,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?r+=i?1:this.wrapperWidth:o+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?r-=i?1:this.wrapperWidth:o-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:r=i?this.pages.length-1:this.maxScrollX,o=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=0,o=0;break;case this.options.keyBindings.left:r+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:r-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(r,o);r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollX&&(r=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(r,o,0),this.keyTime=s}},_animate:function(t,e,n,i){function r(){if(o.lastAnimation[0]==t&&o.lastAnimation[1]==e){var p,f,d,g=a.getTime();return g>=h?(o.isAnimating=!1,o._translate(t,e),void(o.resetPosition(o.options.bounceTime)||(o.moved=!1,o._execEvent("scrollEnd")))):void(o.isAnimating&&(g=(g-c)/n,d=i(g),p=(t-u)*d+u,f=(e-l)*d+l,o._translate(p,f),o.isAnimating&&s(r),3==o.options.probeType&&o._execEvent("scroll")))}}var o=this,u=this.x,l=this.y,c=a.getTime(),h=c+n;this.lastAnimation=[t,e,n],this._execEvent("animate"),o.isAnimating=!0,o._execEvent("scrollStart"),r()},handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);
break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},o.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,"MSPointerDown",this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,"MSPointerMove",this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,"MSPointerUp",this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var n=e.touches?e.touches[0]:e;$(this.wrapper).addClass("i-scrolling"),e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.wheelTimeout=void 0,this.wheelSnap=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,"MSPointerMove",this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,n,i,r,o=t.touches?t.touches[0]:t,s=a.getTime();this.moved||this.scroller._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelSnap=!1,this.moved=!0,e=o.pageX-this.lastPointX,this.lastPointX=o.pageX,n=o.pageY-this.lastPointY,this.lastPointY=o.pageY,i=this.x+e,r=this.y+n,this._pos(i,r),1==this.scroller.options.probeType&&s-this.startTime>300?(this.startTime=s,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(clearTimeout(this.wheelTimeout),this.wheelSnap=!1,this.initiated=!1,$(this.wrapper).removeClass("i-scrolling"),e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,"MSPointerMove",this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),r=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-i.x),1e3),n.min(n.abs(this.scroller.y-i.y),1e3)),this.options.snapSpeed);this.scroller.x==i.x&&this.scroller.y==i.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=i,this.scroller.scrollTo(i.x,i.y,r,this.scroller.options.bounceEasing))}this.moved&&(this.moved=!1,this.scroller._execEvent("scrollEnd"))}},transitionTime:function(t){t=t||0,this.indicatorStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.indicatorStyle[a.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=n.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=n.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=n.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=n.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?n.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?n.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},i.utils=a,"undefined"!=typeof module&&module.exports?module.exports=i:t.IScrollStatic=i}(window,document,Math),function(){var t,e;e=function(){function t(){}return t.merge_options=function(t,e){var n,i,r;r={};for(i in t)n=t[i],r[i]=n;for(i in e)n=e[i],r[i]=n;return r},t}(),t=function(){function t(t){var e;null==t&&(t={}),this._set_options(t),this._callbacks=[],e=this,this.ready=!1,this._lags_was=!1,this.status="processing",this.options.timeout>0&&(this._timeout_process=setTimeout(function(){return e._finish("timeout")},this.options.timeout)),this._success_iterations=0,this._preprocess=setTimeout(function(){return e._time_started=(new Date).getTime(),e._last_checked=e._time_started,e._process=setInterval(function(){var t,n;return n=(new Date).getTime(),t=n-e._last_checked-e.options.frequency,e.options.min_delta<t&&t<e.options.max_delta?(!e.options.need_lags||e._lags_was)&&(e._success_iterations++,e._success_iterations>=e.options.iterations&&e._finish("success")):(e._success_iterations=0,e._lags_was=!0),e._last_checked=n},e.options.frequency)},this.options.delay)}return t.defaults={delay:200,frequency:50,iterations:10,duration:null,scatter:5,min_delta:null,max_delta:null,timeout:null,need_lags:!1},t.prototype._set_options=function(t){return this.options=e.merge_options(this.constructor.defaults,t),null!=this.options.duration&&(this.options.iterations=Math.ceil(this.options.duration/this.options.frequency)),null==this.options.min_delta&&(this.options.min_delta=-this.options.scatter),null==this.options.max_delta?this.options.max_delta=this.options.scatter:void 0},t.prototype.info=function(){var t,e;return null!=this.time_passed?e=this.time_passed:(t=(new Date).getTime(),e=t-this._time_started),{status:this.status,time_passed:e,ready:this.ready,options:this.options}},t.prototype._finish=function(t){var e,n,i,r,o,s;for(null!=this._preprocess&&clearTimeout(this._preprocess),null!=this._process&&clearInterval(this._process),null!=this._timeout_process&&clearTimeout(this._timeout_process),this.ready=!0,this.status=t,r=(new Date).getTime(),this.time_passed=r-this._time_started,o=this._callbacks,s=[],n=0,i=o.length;i>n;n++)e=o[n],s.push(e.fn.call(e.self,this.info()));return s},t.prototype.run=function(t,e){var n;return null==e&&(n=[t,this],e=n[0],t=n[1]),this.ready?e.call(t,this.info()):this._callbacks.push({fn:e,self:t}),this},t}(),window.Afterlag=t}.call(this);
var app=app||{};app.define=function(e){var t,i=e.split("."),n=app;for("app"==i[0]&&(i=i.slice(1)),t=0;t<i.length;t++)"undefined"==typeof n[i[t]]&&(n[i[t]]={}),n=n[i[t]];return n},app.tag=function(e,t){if(window.riot){if(!t||!window.$afterlag)return _.filter(riot.vdom,function(t){if(t.root.nodeName.toLowerCase()==e)return t})[0];var i=app.tag(e);i&&i.isMounted?t(i):$afterlag.run(function(){var i=app.tag(e);i&&(i.isMounted?t(i):app.tag(e).one("updated",function(){t(i)}))})}},window.Store=window.store||{},window.$store={},function(){app.url=function(){return(app.config.domain?app.config.domain:"")+app.config.api},app.fetch=function(e){var t=[],n=[],o=e.split(", ");return new Promise(function(e,a){for(i=0;i<o.length;i++)_.isFunction(app.fetch.API[o[i]])&&t.push(o[i]);o.length!==t.length&&(n=_.difference(o,t)),Promise.all(t.map(app.fetch.API).concat(n.map(app.request))).then(function(t){e(t)})})},app.request=function(e,t,i){return new Promise(function(n,o){var a=_.underscored(e).replace(/^(get|set|add|del)/g,"").replace(/_/g,"/"),s=null,r=app.config.request();if(i&&_.extend(r,i),e.match(/^get/)?s="GET":e.match(/^set/)?s="PUT":e.match(/^add/)?s="POST":e.match(/^del/)&&(s="DELETE"),!s)return void o("Error type request: "+e);"GET"===s&&t&&(a+="/"+t,t=null),r.loader&&window.$LoaderAjax&&$LoaderAjax.show();var l=new XMLHttpRequest;l.open(s,app.url()+a,!0),l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-Type","application/json");try{app.request.list&&app.request.list.method===e&&app.request.list.params==JSON.stringify(t)&&app.request.list.xhr.abort(),l.send(t?JSON.stringify(t):{})}catch(e){}l.onload=function(e){try{if(200==this.status){var t=JSON.parse(this.response);n("OK"===t.status&&t.result?t.result:t)}else{r.notify&&app.errHandler(this.status);var i=new Error(this.statusText);i.code=this.status,o(i)}}catch(e){}app.request.list={},r.loader&&window.$LoaderAjax&&$LoaderAjax.hide()},l.onerror=function(){o(new Error("Network Error")),r.loader&&window.$LoaderAjax&&$LoaderAjax.hide()};try{app.request.list={method:e,xhr:l,params:JSON.stringify(t)}}catch(e){}})},app.errHandler=function(e){401==e?window.$Notify?$Notify.show({color:"info",text:"Авторизируйтесь снова"}):alert("Авторизируйтесь снова"):window.$Notify?$Notify.show({color:"danger",text:"Ошибка проведения операции повторите ее чуть позже"}):alert("Ошибка проведения операции повторите ее чуть позже")};var e=function(e,t,i){app.request(app.config.logger.method,{data:{msg:e,line:i,url:t},device:app.device.get(),type:"error"},{loader:!1,notify:!1})},t=_.debounce(e,1e3,!0);window.onerror=function(e,i,n){app&&app.config&&app.config.logger&&app.config.logger.report&&t(e,i,n)}}(),window.$afterlag={run:function(e,t){var i={delay:0,iterations:1};t&&_.extend(i,t);var n=new Afterlag(i);n.run(e)},xs:function(e,t){var i={iterations:2,timeout:200};t&&_.extend(i,t),$afterlag.run(e,i)},s:function(e,t){var i={iterations:3,timeout:300};t&&_.extend(i,t),$afterlag.run(e,i)},m:function(e,t){var i={iterations:5,timeout:500};t&&_.extend(i,t),$afterlag.run(e,i)},l:function(e,t){var i={iterations:7,timeout:700};t&&_.extend(i,t),$afterlag.run(e,i)},xl:function(e,t){var i={iterations:10,timeout:1e3};t&&_.extend(i,t),$afterlag.run(e,i)}},function(e){app.define("config"),app.define("effects"),app.define("sizes"),app.define("utils"),app.define("plugins"),app.define("device"),app.define("events"),app.define("loader"),app.define("$dom"),app.$dom={html:e("html"),body:e("body"),document:e(document),window:e(window),root:e("#app")},app.events={click:document&&"ontouchstart"in document.documentElement?"tap":"click"},app.keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32},window.KEY=app.keys,app.prefixed={transform:Modernizr.prefixed("transform"),"transform-origin":Modernizr.prefixed("transformOrigin"),"transition-duration":Modernizr.prefixed("transitionDuration")},$$=window.jQuery,window.moment&&moment.locale("ru"),e.fn.api=function(e){return this.data(e)?this.data(e):this.data(e,{}).data(e)}}($),function(e,t){t.init=function(i){if(i){var n,o=i.split("."),a=e;for(n=0;n<o.length;n++)a=a[o[n]];a&&"function"==typeof a.init?(a.init(),t.log("Initialize: <"+i+"> ready")):t.log("ERROR: <"+i+"> initialize")}},t.is=function(i,n){if(i){var o,a=i.split("."),s=e;for(o=0;o<a.length;o++)s=s[a[o]];s?n&&"function"==typeof n&&n():t.log("NOT found: <"+i+">")}},t.log=function(e){e&&("object"==typeof e?console.dir(e):console.log(e))},t.logger=function(e,i){e&&i&&("init"===e?t.log("Initialize: <"+i+"> ready"):"open"===e?t.log("OPEN: <"+i+">"):"close"===e?t.log("CLOSE: <"+i+">"):t.log(e+": <"+i+">"))},t.random=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.template=function(i,n,o){if(!e.templates[i])return void t.log("NOT found: <"+i+"> template");var a=Mustache.render(e.templates[i](),n?n:{}),s=$(a).appendTo(o?o:e.$dom.root);return s},t.copyArray=function(e){var i=null===e?null:t.isObject(e)?{}:[];for(var n in e)"object"==typeof e[n]&&"prototype"!==n?i[n]=t.copyArray(e[n]):i[n]=e[n];return i},t.sortArray=function(e,t,i){var n=_.sortBy(e,function(e){return e[t]});return"desc"===i?n.reverse():n},t.sortByDate=function(e,t,i){if(!window.moment)return e;var n=_.sortBy(e,function(e){return moment(e[t]).format("X")});return"desc"===i?n.reverse():n},t.isArray=function(e){if(e&&"[object Array]"===Object.prototype.toString.call(e))return!0},t.isFunction=function(e){if(e&&"function"==typeof e)return!0},t.fixTouchScroll=function(t,i){var n=null,o=null;t.on("touchmove MSPointerMove",function(t){if(0===o){var i=t.changedTouches[0].clientY;i<n?(n=0,t.preventDefault()):e.device&&e.device.isIOS?setTimeout(function(){n=i},1e3):n=i}}),i.on("scroll",function(){o=this.scrollTop})},t.raf=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return t?t(e):window.setTimeout(e,1e3/60)},t.caf=function(e){var t=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;t(e),e=null},t.support={transitions:Modernizr.csstransitions},t.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},t.transEndEventName=t.transEndEventNames[Modernizr.prefixed("transition")],t.animEndEventNames={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},t.animEndEventName=t.animEndEventNames[Modernizr.prefixed("animation")],t.onEndTransition=function(e,i){var n=function(e){if(t.support.transitions){if(e.target!=this)return;this.removeEventListener(t.transEndEventName,n)}i&&"function"==typeof i&&i.call(this)};t.support.transitions?e.addEventListener(t.transEndEventName,n):n()},t.onEndAnimation=function(e,i){var n=function(e){if(t.support.transitions){if(e.target!=this)return;this.removeEventListener(t.animEndEventName,n)}i&&"function"==typeof i&&i.call(this)};t.support.transitions?e.addEventListener(t.animEndEventName,n):n()},t.onLoadImage=function(e,t){function i(){a||(a=!0,t(!0))}function n(){t(!1)}var o=new Image,a=!1;o.src=e,o.onerror=n,o.onload=i,o.complete&&i()},t.getSizeImage=function(e,t){function i(){a||(a=!0,t(o.naturalWidth,o.naturalHeight))}function n(){t(!1)}var o=new Image,a=!1;o.src=e,o.onerror=n,o.onload=i,o.complete&&i()},t.getScroll=function(e){var t=e.x*-1,i=e.y*-1,n=e.maxScrollX*-1,o=e.maxScrollY*-1;return{x:t,y:i,maxX:n,maxY:o}},t.throttle=function(e,t){var i=!0;return function(n){i&&(i=!1,setTimeout(function(){i=!0},t),e(n))}},t.debounce=function(e,t,i,n){3==arguments.length&&"boolean"!=typeof i&&(n=i,i=!1);var o;return function(){var a=arguments;n=n||this,i&&!o&&e.apply(n,a),clearTimeout(o),o=setTimeout(function(){!i&&e.apply(n,a),o=null},t)}},t.indexOf=function(e,t,i){for(var n=i||0,o=(e||[]).length;n<o;n++)if(e[n]==t)return n;return-1},t.inArray=function(e,i){return t.indexOf(e,i)!=-1},t.trim=function(e){return(e&&String(e)||"").replace(/^\s+|\s+$/g,"")},t.underscored=function(e){return t.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},t.deepExtend=function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]&&"object"==typeof i[n]?t.deepExtend(e[n],i[n]):e[n]=i[n]);return e},t.numberFormat=function(e,t,i,n){if(isNaN(e)||null==e)return"";e=parseInt(e).toFixed(~~t),n="string"==typeof n?n:",";var o=e.split("."),a=o[0],s=o[1]?(i||".")+o[1]:"";return a.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+n)+s},t.clean=function(e,i){return e=t.trim(e),e?e:void 0!==i?i:null},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isEmail=function(e){return e.match(/.+@.+\..+/i)},t.newId=function(){return String(Math.round((new Date).getTime()/1e3))},t.getDateNow=function(){var e=new Date,t=e.getHours(),i=e.getMinutes(),n=e.getSeconds(),o=e.getMonth()+1,a=e.getDate(),s=e.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),n<10&&(n="0"+n),o<10&&(o="0"+o),a<10&&(a="0"+a),s+"-"+o+"-"+a+" "+t+":"+i+":"+n},t.supportClipboard=function(){return!!(window.clipboardData&&window.clipboardData.setData||document.queryCommandSupported&&document.queryCommandSupported("copy"))},t.copyToClip=function(e){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}},t.bbUpdate=function(e,t){e.on("update",function(e){var i=e.data&&e.data.transaction&&e.data.transaction.length&&e.data.transaction[0].path?e.data.transaction[0].path[0]:null,n=e.data&&e.data.transaction&&e.data.transaction.length?e.data.transaction[0].value:null;t(i,n,e)})},window._?_.extend(_,t):window._=t,e.utils=window._}(app,app.utils),function(e){e.history=[],e.resources=function(t,i,n){i=i||$.noop,n=n||$.noop;for(var o=[],a=0;a<t.length;a++)e.history.indexOf(t[a])<0&&o.push(t[a]);return o.length?void Modernizr.load({load:o,callback:function(t){e.history.push(t),n()},complete:i}):i()},e.images=function(e,t,i){var n=0;t=t||$.noop,i=i||$.noop,e.imagesLoaded({background:".bg-cover"}).always(t).progress(function(e){n++,i(n,e.images.length)})}}(app.loader),function(e,t){var i=function(){e.width=t.window.width(),e.height=parseInt(window.innerHeight,10)};t.window.on("resize.app",i),i()}(app.sizes,app.$dom),function(e,t,i){e.support=Modernizr,e.isMobile=e.support.touch,"true"==t.root.attr("demo")&&(app.demo=!0,t.window.width()<1025&&(e.isMobile=!0,t.html.removeClass("m-no-touch").addClass("m-touch"))),t.html.addClass(e.isMobile?"d-mobile":"d-no-mobile"),e.isRetina=window.devicePixelRatio&&window.devicePixelRatio>1,t.html.addClass(e.isRetina?"d-retina":"d-no-retina");var n=function(){var i=t.window.width();e.isPhone=i<768,e.isTablet=i<1025&&i>767,e.orientation=e.isTablet&&i<1025&&i>991||e.isPhone&&i>480?"landscape":"portrait",t.html.addClass(e.isPhone?"d-phone":"d-no-phone").removeClass(e.isPhone?"d-no-phone":"d-phone").addClass(e.isTablet?"d-tablet":"d-no-tablet").removeClass(e.isTablet?"d-no-tablet":"d-tablet").addClass("landscape"===e.orientation?"r-landscape":"r-portrait").removeClass("landscape"!==e.orientation?"r-landscape":"r-portrait"),e.is=e.isPhone?"phone":e.isTablet?"tablet":"desktop"};if(t.window.on("resize.sizeCheck",n),n(),e.ua=navigator.userAgent,navigator.userAgent.match(/(iPhone)/i)&&(e.isPhone=!0),navigator.userAgent.match(/iPad/i)&&(t.html.addClass("d-ipad"),e.isIPad=!0),navigator.userAgent.match(/(iPhone|iPod touch)/i)&&(t.html.addClass("d-iphone"),e.isIPhone=!0),navigator.userAgent.match(/(iPad|iPhone|iPod touch)/i)){t.html.addClass("d-ios"),e.isIOS=!0;var o=navigator.userAgent.match(/.*CPU.*OS (\d)_(\d)/i);e.verOS=!(!o||!o[1])&&o[1]+(o[2]?"."+o[2]:"")}else t.html.addClass("d-no-ios");if(navigator.userAgent.match(/.*CPU.*OS 7_\d/i)&&(t.html.addClass("d-ios7"),e.isIOS7=!0),navigator.userAgent.match(/Android/i)){t.html.addClass("d-android"),e.isAndroid=!0;var o=navigator.userAgent.match(/Android (\d)\.(\d)/i);e.verOS=!(!o||!o[1])&&o[1]+(o[2]?"."+o[2]:"")}if(app.device.isMobile&&(e.os=e.isAndroid?"android":e.isIOS?"ios":"unknown"),t.html.hasClass("d-ipad d-ios7")&&t.window.on("resize orientationchange focusout",function(){window.scrollTo(0,0)}),e.isWin=navigator.platform.indexOf("Win")>-1,e.isMac=navigator.platform.indexOf("Mac")>-1,e.isLinux=navigator.platform.indexOf("Linux")>-1,t.html.addClass(e.isMac?"d-macOS":"d-no-macOS"),e.platform=e.isWin?"win":e.isMac?"mac":e.isLinux?"linux":"unknown",e.isSafari=navigator.userAgent.toLowerCase().indexOf("safari")>-1,t.html.addClass(e.isSafari?"d-safari":"d-no-safari"),e.isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,t.html.addClass(e.isChrome?"d-chrome":"d-no-chrome"),e.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,t.html.addClass(e.isFirefox?"d-firefox":"d-no-firefox"),e.isMobile&&window.FastClick&&"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1),!e.isMobile){var a,s=t.body[0];t.window[0].addEventListener("scroll",function(){clearTimeout(a),s.getAttribute("class")&&s.getAttribute("class").match(/disable__hover/)||s.classList.add("disable__hover"),a=setTimeout(function(){s.classList.remove("disable__hover")},300)},!1)}app.device.get=function(){return i.extend(i.omit(app.device,["get","support"]),{screen:app.sizes})}}(app.device,app.$dom,app.utils),function(e,t,i,n,o){e.define("features.links"),e.features.links={active:!1,init:function(){this.active||(i.body.on("click","a",function(t){var i=this.getAttribute("href");i&&"#"!=i&&!i.match(/http:/)&&e.tag("section-loader").show()}),this.active=!0)}};e.features.links}(app,$,app.$dom,app.events,app.utils),app.plugins.marqueeStatic=function(e,t){var i={index:0,vertical:!0,screens:".screen",mousewheel:!0,duration:550,prev:!1,next:!1},n=e.find(i.screens),o=[],a=app.plugins.marqueeEffects("static"),s=e.data("fixed"),r=e.data("name"),l={$block:e,index:0,prevIndex:0,progress:0,size:0,scrolling:!1,enabled:!0,duration:i.duration};n.each(function(e){var t=$(this),n=t.api("screen");n.state={isVisible:!1,isEndShow:!1,isStartShow:!1,isFullShow:!1,isFullHide:i.index!=e};var a={index:e,$block:t,api:n,ratio:1};o.push(a),e&&i.nextClass&&t.addClass(i.nextClass)});var c=function(){var e=0;l.size=i.vertical?app.sizes.height:app.sizes.width,$.each(o,function(t,n){if(i.vertical){n.$block.removeClass("screen__long").height(l.size);var o=n.$block.find(".screen__content"),a=o.length?Math.max(l.size,o.length?o.outerHeight():0):0;!s&&a>l.size?(n.$block.addClass("screen__long"),n.size=a,n.$block.height(a)):n.size=l.size}else n.size=app.sizes.width;n.offset=e,n.ratio=n.size/l.size,e+=n.size})};c();var u=new IScrollStatic(e[0],{disableMouse:!0,mouseWheel:i.mousewheel,invertWheelDirection:!0,scrollX:!i.vertical,scrollY:i.vertical,bounce:!0,snap:".screen",eventPassthrough:!i.vertical||"horizontal",probeType:3,tap:!1,click:!1,snapSpeed:350,preventDefault:!0,scrollbars:!!i.vertical&&"custom",interactiveScrollbars:i.vertical&&!app.device.support.touch,prevTrigger:i.prev,nextTrigger:i.next});u.disable(),l.updateState=function(){u.scrollerHeight>u.wrapperHeight?l.enable():l.disable()},l.setLimits=function(e){e=Math.min(Math.max(0,e),o.length-1);var t=e>=o.length-1,n=0==e;u[i.vertical?"minScrollY":"minScrollX"]=-o[e].offset+(n?0:o[e-1].size),u[i.vertical?"maxScrollY":"maxScrollX"]=-o[e].offset-(t?o[e].size-l.size:o[e].size),u.currentPage={x:0,y:0,pageX:0,pageY:0},u.currentPage[i.vertical?"y":"x"]=-o[e].offset,u.currentPage[i.vertical?"pageY":"pageX"]=e},l.update=function(){for(var e=-Math.round(u[i.vertical?"y":"x"]),t=0,n=0;n<o.length;n++)e>=o[n].offset&&(t=n);l.position=(e-o[t].offset)/o[t].size,l.progress=t+l.position,l.index!=t&&(l.prevIndex=l.index,l.index=t)},l.hideInvisibles=function(){},l.callScreensAPI=function(){var e=l.index>=o.length-1,t=1/o[l.index].ratio,i={top:0,bottom:0};if(i.top=l.position/t,i.bottom=l.position*o[l.index].ratio-(o[l.index].ratio-1),app.device.isMobile&&(i.bottom>.6?(o[l.index].api.state.isVisible&&(o[l.index].api.state.isVisible=!1,o[l.index].$block.triggerHandler("hide")),e||o[l.index+1].api.state.isVisible||(o[l.index+1].api.state.isVisible=!0,o[l.index+1].$block.triggerHandler("show"))):i.top>.4&&(o[l.index]&&!o[l.index].api.state.isVisible&&(o[l.index].api.state.isVisible=!0,o[l.index].$block.triggerHandler("show")),!e&&o[l.index+1].api.state.isVisible&&(o[l.index+1].api.state.isVisible=!1,o[l.index+1].$block.triggerHandler("hide"))),e||(i.bottom>.1&&!o[l.index+1].api.state.isStartShow?(o[l.index+1].api.state.isStartShow=!0,o[l.index+1].$block.triggerHandler("startShow")):i.bottom<.1&&o[l.index+1].api.state.isStartShow&&(o[l.index+1].api.state.isStartShow=!1),i.bottom>.9&&!o[l.index+1].api.state.isEndShow?(o[l.index+1].api.state.isEndShow=!0,o[l.index+1].$block.triggerHandler("endShow")):i.bottom<.9&&o[l.index+1].api.state.isEndShow&&(o[l.index+1].api.state.isEndShow=!1)),o[l.index]&&i.bottom<.9&&!o[l.index].api.state.isEndShow?(o[l.index].api.state.isEndShow=!0,o[l.index].$block.triggerHandler("endShow")):o[l.index]&&i.bottom>.9&&o[l.index].api.state.isEndShow&&(o[l.index].api.state.isEndShow=!1),o[l.index]&&i.bottom<.1&&!o[l.index].api.state.isStartShow?(o[l.index].api.state.isStartShow=!0,o[l.index].$block.triggerHandler("startShow")):o[l.index]&&i.bottom>.1&&o[l.index].api.state.isStartShow&&(o[l.index].api.state.isStartShow=!1)),o[l.index]&&i.top>=0&&i.bottom<=0){o[l.index].api.state.isFullShow||(o[l.index].api.state.isFullShow=!0,app.device.isMobile||o[l.index].$block.triggerHandler("show"),o[l.index].$block.triggerHandler("fullShow"));for(var n=0;n<o.length;n++)n!=l.index&&o[n].api.state.isFullShow&&(o[n].api.state.isFullShow=!1)}else for(var n=0;n<o.length;n++)o[n].api.state.isFullShow&&(o[n].api.state.isFullShow=!1);var a=[Math.floor(l.progress),Math.ceil(l.progress)];if(l.animated)return!1;for(var n=0;n<o.length;n++)n==a[0]||n==a[1]?o[n].api.state.isFullHide=!1:o[n].api.state.isFullHide||(app.device.isMobile||o[l.index].$block.triggerHandler("hide"),o[n].$block.triggerHandler("fullHide"),o[n].api.state.isFullHide=!0)},l.markNav=function(){i.navPrev&&i.navPrev[l.progress<=.5?"addClass":"removeClass"]("i-disabled"),i.navNext&&i.navNext[l.progress>=o.length-1.5?"addClass":"removeClass"]("i-disabled")},l.draw=function(){if(l.animated)return!1;if(!a.move||o[l.index].ratio*l.position>=o[l.index].ratio-1){var e=1-Math.abs(o[l.index].ratio*l.position-o[l.index].ratio);l.index>=0&&a.hide(o[l.index].$block,e,l.size,o[l.index].ratio),l.index<o.length-1&&a.show(o[l.index+1].$block,e,l.size,o[l.index+1].ratio)}else l.index>=0&&a.move(o[l.index].$block,o[l.index].ratio*l.position,l.size,o[l.index].ratio),l.index<o.length-1&&a.show(o[l.index+1].$block,0,l.size,o[l.index+1].ratio);l.hideInvisibles(),l.markNav()},l.onScrollStart=function(){l.scrolling=!0},l.onScroll=function(){if(index=0,l.update(),app.device.isMobile&&l.callScreensAPI(),u.moved){for(var e=u[i.vertical?"y":"x"]-u[i.vertical?"pointY":"pointX"],t=0;t<o.length;t++)e<=-o[t].offset&&e>=-o[t].offset-o[t].size&&(index=t);l.setLimits(index)}else if(u.indicators&&u.indicators[0].moved){for(var t=0;t<o.length;t++)u[i.vertical?"y":"x"]-l.size/2<=-o[t].offset&&u[i.vertical?"y":"x"]+l.size/2>=-o[t].offset-o[t].size&&(index=t);l.setLimits(index)}},l.grabTimer=!1;var d=function(){clearTimeout(l.grabTimer),l.scrolling||(l.scrolling=!0)},p=function(){l&&clearTimeout(l.grabTimer),l&&l.scrolling&&(l.scrolling=!1)};if(u.on("beforeWheelSnap",function(){index=0;for(var e=0;e<o.length;e++)u[i.vertical?"y":"x"]-l.size/2<=-o[e].offset&&u[i.vertical?"y":"x"]+l.size/2>=-o[e].offset-o[e].size&&(index=e);u.absStartX=i.vertical?0:-o[index].offset,u.absStartY=-i.vertical?-o[index].offset:0,l.setLimits(index)}),l.onScrollEnd=function(){l.onScroll(),app.utils.raf(l.refresh)},l.refresh=function(){l.update(),l.callScreensAPI(),l.setLimits(l.index)},l.resize=function(){if(!l)return!1;c(),l.enabled&&o[l.index].$block.triggerHandler("endShow");var e=u.y;u.refresh(),e!==u.y&&u.scrollBy(0,e-u.y,0),l.refresh(),l.updateState()},l.enable=function(){l.enabled=!0,u.enable(),l.enableKeyboard(),e.on("dragstart.marquee",function(){return!1})},l.disable=function(){l.enabled=!1,u.disable(),l.disableKeyboard(),e.off("dragstart.marquee")},u.on("scrollStart",function(){return!!l&&void l.onScrollStart()}),u.on("scroll",function(){return!!l&&(l.onScroll(),void(u.moved&&d()))}),u.on("scrollEnd",function(){return!!l&&(l.onScrollEnd(),void p())}),u.on("grab",function(){if(!l)return!1;d(),l.grabTimer=setTimeout(function(){u&&u.reset(),p()},500);for(var e=0,t=u[i.vertical?"y":"x"]-u[i.vertical?"pointY":"pointX"],n=0;n<o.length;n++)t<=-o[n].offset&&t>=-o[n].offset-o[n].size&&(e=n);l.setLimits(e)}),u.on("animate",function(){o[l.index].$block.triggerHandler("leave")}),app.device.isMobile||app.$dom.window.on("resize",l.resize),l.setLimits(0),l.scrollTo=function(e,t){t=void 0===t?i.duration:t,u.goToPage(i.vertical?0:e,i.vertical?e:0,t,IScrollStatic.utils.ease.cubicOut),0==t&&l.refresh()},l.prev=function(e){if(l.scrolling)return!1;e=void 0===e?i.duration:e;var t=-u.y-o[l.index].offset;i.vertical&&t?u.scrollBy(0,Math.min(t,l.size),e,IScrollStatic.utils.ease.cubicOut):i.vertical&&u.y<=-l.size?u.scrollBy(0,l.size,e,IScrollStatic.utils.ease.cubicOut):l.index>0&&u.prev(e,IScrollStatic.utils.ease.cubicOut)},l.next=function(e){if(l.scrolling)return!1;e=void 0===e?i.duration:e;var t=o[l.index].offset+o[l.index].size-(-u.y+l.size);t>.1*l.size&&i.vertical?u.scrollBy(0,-Math.min(t,l.size),e,IScrollStatic.utils.ease.cubicOut):l.index<o.length-1&&u.next(e,IScrollStatic.utils.ease.cubicOut)},l.get=function(e){return l[e]},l.destroy=function(){l.disable(),o[l.index].$block.triggerHandler("fullHide"),e.removeData("marquee"),u.destroy(),e=null,u=null,l=null},i.vertical){var h=e.find(".iScrollVerticalScrollbar");h.addClass("ui-scroll").prepend('<div class="ui-scroll__bar" />'),h.find(".iScrollIndicator").addClass("ui-scroll__handle").prepend('<div class="ui-scroll__handle__inner" />')}i.navPrev&&i.navPrev.on("click",function(){l.prev()}),i.navNext&&i.navNext.on("click",function(){l.next()});var f="keydown.marquee-"+(r?r:"")+(i.vertical?"v":"h");return l.enableKeyboard=function(){app.device.support.touch||app.$dom.document.on(f,function(e){$(e.target).is("input,textarea,select")||(e.which==(i.vertical?38:37)&&l.prev(),e.which==(i.vertical?40:39)&&l.next())})},l.disableKeyboard=function(){app.device.support.touch||app.$dom.document.off(f)},l.activate=function(){var t=o[l.index].$block;e.triggerHandler("init",{marquee:l}),t.triggerHandler("show"),t.triggerHandler("fullShow"),l.updateState(),i.index&&(l.scrollTo("last"==i.index?o.length-1:i.index,0),u._execEvent("scrollEnd"),i.index=!1)},l.scroll=u,l.screens=o,e.data("marquee",{screens:o,scrollTo:l.scrollTo,get:l.get,scroll:u,updateState:l.updateState,update:l.onScroll,resize:l.resize,activate:l.activate,enable:l.enable,disable:l.disable,destroy:l.destroy,enableKeyboard:l.enableKeyboard,disableKeyboard:l.disableKeyboard}),l},app.plugins.marqueeEffects=function(e){var t={},i=app.prefixed;return"static"==e?(t.show=function(e,t,n,o,a){e[0].style[i.transform]="translateY("+Math.round((a||0)+n-t*n)+"px) translateZ(0)"},t.hide=function(e,t,n,o,a){e[0].style[i.transform]="translateY("+Math.round((a||0)+-(o-1)*n-t*n)+"px) translateZ(0)"},t.move=function(e,t,n){e[0].style[i.transform]="translateY("+Math.round(-t*n)+"px) translateZ(0)"}):(t.light={},t.light.show=function(e,t,n,o){e[0].style.opacity=1,e[0].style[i.transform]="translateY("+Math.round(n-t*n)+"px) translateZ(0)",0==t&&(e[0].style[i.transform]="translateY(110%)")},t.light.hide=function(e,t,n,o){e[0].style.opacity=(1-.4*t).toFixed(3),e[0].style[i.transform]="translateY("+Math.round(-(o-1)*n-t*n*.5)+"px) translateZ(0)",1==t&&(e[0].style[i.transform]="translateY(-110%)"),0==t&&(e[0].style[i.transform]="translateY("+Math.round(-(o-1)*n)+"px) translateZ(0)")},t.light.move=function(e,t,n){e[0].style.opacity=1,e[0].style[i.transform]="translateY("+Math.round(-t*n)+"px) translateZ(0)"},t.space={},t.space.show=function(e,t){e[0].style.opacity=.33+.67*t;var n="";0==t?n="translate3d(110%, 0, 0)":app.device.isPhone?n="perspective(500px) translate3d("+(-8+8*t)+"%, 0, 0) rotateY("+(-6+6*t)+"deg) scale("+(.8+.2*t)+")":(n="perspective(500px) translate3d("+(-4+4*t)+"%, 0, 0) scale("+(.9+.1*t)+")",app.device.isFirefox||(n=n+"rotateY("+(-4+4*t)+"deg)")),e[0].style[i.transform]=n},t.space.hide=function(e,t){e[0].style.opacity=1,e[0].style[i.transform]="translate3d("+-100*t+"%, 0, 0)",1==t&&(e[0].style[i.transform]="translate3d(-110%, 0, 0)")},t.fold={},t.fold.show=function(e,t){e[0].style.opacity=1,e[0].style[i.transform]="translateY("+(100-100*t)+"%)"},t.fold.hide=function(e,t){e[0].style.opacity=1-.67*t,e[0].style[i.transform]="perspective(500px) translateY("+4*t+"%) rotateX("+3*-t+"deg) scale("+(1-.05*t)+")",1==t&&(e[0].style[i.transform]="translateY(-101%)")}),t},function(e,t,i,n,o){e.define("plugins.screens"),e.define("plugins.marquee.effects"),e.plugins.screens=function(e,i){this.active=!1,this.scope=t(e),this.options=i||{},this.state=null},e.plugins.screens.prototype={init:function(t){var i=this;if(!this.active){this.scope.on("touchmove MSPointerMove",function(e){e.preventDefault()}),this.scope.on("dragstart selectstart",function(){return!1});var n={vertical:!0,screens:".screen",effect:this.options.vertical===!1?"space":"light",mousewheel:this.options.vertical!==!1,spaceClass:this.options.vertical===!1?"horizontal__space":"vertical__space",longClass:this.options.vertical!==!1&&"screen--long",contentClass:this.options.vertical!==!1&&"screen__content",hideSections:!0,navPrev:this.options.navPrev,navNext:this.options.navNext,duration:this.options.vertical===!1?e.device.isPhone?375:450:500};this.options&&o.extend(n,this.options),this.options=n,this.items=[];var a=100;this.scope.find(n.screens).each(function(e){i.items.push({index:e,title:this.getAttribute("data-"+(n.dataAttr?n.dataAttr:"marquee"))}),n.vertical||(this.style.zIndex=a),a--}),this.marquee=n.static?e.plugins.marqueeStatic(this.scope,n):e.plugins.marquee(this.scope,n),this.marquee.enable(),this.marquee.scroll.on("scrollEnd",function(){i.state=i.marquee.section}),void 0!==t&&this.nav(t,0),e.device.isMobile&&this.embeds(),this.active=!0}},nav:function(e,t){if(o.isNumber(e))e>this.items.length-1&&(e=this.items.length-1),this.marquee.scrollTo(e,void 0!==t?t:void 0);else{if(!e)return;var i=o.findWhere(this.items,{title:e});i&&i.index&&(this.state=i.title,this.marquee.scrollTo(i.index,void 0!==t?t:void 0))}},get:function(e){return this.marquee[e]},refresh:function(){this.marquee.resize()},refreshAll:function(){var e=this.marquee.index;this.destroy(),this.init(e)},embeds:function(){var n=this,a=null,s=null,r=o.debounce(this.refresh,300);i.window.on("resize.screens",function(){n.scope.scrollTop(0),n.options.static&&"focus"==a&&s&&setTimeout(function(){l(e.sizes.height/1.3,0)},150),n.options.resizeRefresh&&r.call(n)}),n.options.static&&this.scope.on("focus blur","input[type='text'], textarea",function(i){"focusin"==i.type||"focus"==i.type?(s=t(i.target),a="focus",l(e.sizes.height/2.5,400)):a="blur",n.scope.scrollTop(0)});var l=function(e,t){var i=s.offset().top;i<0?n.marquee.scroll.scrollBy(0,-i+e,t,n.options.static?IScrollStatic.utils.ease.cubicOut:IScroll.utils.ease.cubicOut):i>e&&n.marquee.scroll.scrollBy(0,-(i-e),t,n.options.static?IScrollStatic.utils.ease.cubicOut:IScroll.utils.ease.cubicOut)}},destroy:function(){this.scope.off(),this.marquee.scroll.off(),this.marquee.destroy(),i.window.off("resize.screens"),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("plugins.animate"),e.plugins.animate=function(e,i){var n=this;this.groups=[],this.active=!1,this.options=i,this.scope=t(e),this.scope.find("*").each(function(){var e=this.getAttribute("class");if(e&&e.match(/anim-group/)){var t=e.match(/anim-group(\d+)/)[1],i=e.match(/anim-delay-(\w+)/),a=o.findWhere(n.groups,{num:t}),s={elem:this,delay:i&&i.length&&i[1]?n.delay.getNumByTitle(i[1]):"0"};a?a.items.push(s):n.groups.push({num:t,items:[s]})}})},e.plugins.animate.prototype={show:function(e){var t=this;this.groups.length&&(o.each(o.sortArray(this.groups,"num"),function(i,n){!function(){if(t.groups[n+1]){var a=null,s=null;t.options&&t.options.showAfter?(a=o.sortArray(i.items,"delay","asc"),s=a[t.options.showAfter-1].elem):(a=o.sortArray(i.items,"delay","desc"),s=a[0].elem),s&&o.onEndTransition(s,function(){t.scope.addClass("showAnim-group"+(1*i.num+1)),t.groups.length==1*i.num+1&&o.isFunction(e)&&e()})}}(i,n),0==n&&t.scope.addClass("showAnim-group"+i.num)}),this.active=!0)},hide:function(e){var t=this;if(this.groups.length){if(this.options&&this.options.hide&&"noanimate"==this.options.hide&&(this.scope.addClass("transitionAll-none"),setTimeout(function(){t.scope.removeClass("transitionAll-none")},50)),this.scope.removeClass(o.map(o.pluck(this.groups,"num"),function(e){return"showAnim-group"+e}).join(" ")),o.isFunction(e)){var i=o.sortArray(this.groups[0].items,"delay","desc")[0].elem;o.onEndTransition(i,function(){e()})}this.active=!1}},delay:{items:[{title:"xs",num:"1"},{title:"s",num:"2"},{title:"m",num:"3"},{title:"l",num:"4"},{title:"xl",num:"5"}],getNumByTitle:function(e){return o.findWhere(this.items,{title:e}).num}}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("plugins.chartRadial"),e.plugins.chartRadial=function(e,i){e&&(this.active=!1,this.scope=t(e),this.options=i,this.items=[],this.rendered=!1,this.init())},e.plugins.chartRadial.prototype={init:function(){if(!this.active){var i={animate:!e.device.isPhone,lineWidth:e.device.isPhone?16.5:24,colors:["#0084ff","#ff2d55","#ffc43a"],container:"chart__radial__graph",graphItem:"chart__radial__graph",labels:"chart__radial__labels",labelItem:"chart__radial__label",labelTitle:"chart__radial__label__title",labelColor:"chart__radial__label__color",labelDash:e.device.isPhone?"&nbsp; &ndash; &nbsp;":"&nbsp; &mdash; &nbsp;"};this.options&&o.extend(i,this.options),this.options=i,this.$graph=t('<div class="'+i.container+'">').appendTo(this.scope),this.$graphItem=t("<div>"),this.$graph.append(this.$graphItem,this.$graphItem.clone(),this.$graphItem.clone()),this.$graph.find("div").each(function(e,n){t(this).addClass(i.graphItem+(e+1))}),this.$labels=t('<div class="'+i.labels+'">').appendTo(this.scope),this.$labelItem=t('<div class="'+i.labelItem+'"><div class="'+i.labelColor+'"></div>'+i.labelDash+'<span class="'+i.labelTitle+'"></span></div>'),this.$labels.append(this.$labelItem,this.$labelItem.clone(),this.$labelItem.clone()),this.active=!0}},render:function(e){var i=this;!e||e&&e.length<3||(this.rendered?o.each(this.items,function(t,i){t.reset(),t.start(o.isNumber(e[i].value)?e[i].value:o.isNumber(e[i])?e[i]:0)}):(this.$graph.children("div").each(function(t,n){i.items.push(i.build(this,e[t].value,{color:i.options.colors[t],autostart:!0}))}),this.$labels.children("div").each(function(n){var o=t(this);o.find("."+i.options.labelColor).css("backgroundColor",i.options.colors[n]),o.find("."+i.options.labelTitle).text(e[n].title)}),this.rendered=!0))},build:function(e,t,i){function n(e){b||(g.percent=f?t:m,g.percent==e?s(g.percent):(b=!0,x.percent=e,TweenLite.to(g,w,x)))}function o(){s(g.percent)}function a(){b=!1}function s(e){var t=u/2;e=Math.max(e,.005),c.clearRect(0,0,u,u),c.beginPath(),c.globalAlpha=.2,c.arc(t,t,t-p/2,0,2*Math.PI),c.stroke(),c.beginPath(),c.arc(t,t,t-p/2,0-Math.PI/2,2*Math.PI*e/100-Math.PI/2),c.globalAlpha=1,c.stroke()}function r(){
s(m)}var l=document.createElement("canvas"),c=l.getContext("2d"),u=e.offsetWidth,d=i||{},p=this.options.lineWidth,h=d.color||"#fff",f=!this.options.animate||!1,m=d.from||0,v=t,g={percent:m},b=!1,w=this.options.animate?2:0,x={ease:"easeInOutCubic",onUpdate:o,onComplete:a};return l.width=l.height=u,e.appendChild(l),c.lineWidth=p,c.lineCap="round",c.strokeStyle=h,f&&(d.autostart=!0),d.autostart?n(v):r(),{start:n,reset:r}},destroy:function(){this.scope.empty(),this.items=[],this.rendered=!1,this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("plugins.sliderElastic"),e.plugins.sliderElastic=function(e,i){e&&(this.active=!1,this.scope=t(e),this.options=i,this.initX=null,this.transX=0,this.deltaY=0,this.rotZ=0,this.transY=0,this.prevSlide=null,this.curSlide=null,this.isScrolling=!1,this.slides=null)},e.plugins.sliderElastic.prototype={init:function(){if(!this.active&&this.scope.length){var e={fadeOut:"ease 0.2s",Y_DIS:"-50%",Z_DIS:50,TRANS_DUR:.4};this.options&&o.extend(e,this.options),this.options=e,this.container=this.scope.children(),this.container.on("touchmove MSPointerMove","img",function(e){e.preventDefault()}),this.container.on("dragstart selectstart","img",function(){return!1}),this.slides=this.container[0].children,this.attachEvents(this.slides[this.slides.length-1]),this.active=!0}},attachEvents:function(t){this.curSlide=t,this.curSlide.addEventListener(e.device.support.touch?"touchstart":"mousedown",this.slideMouseDown.bind(this),!1)},slideMouseDown:function(t){t.touches?this.initX=t.touches[0].clientX:this.initX=t.pageX,this.scope[0].addEventListener(e.device.support.touch?"touchmove":"mousemove",this.slideMouseMove.bind(this),!1),this.scope[0].addEventListener(e.device.support.touch?"touchend":"mouseup",this.slideMouseUp.bind(this),!1)},slideMouseMove:function(t){var i,n=this;if(!this.isScrolling){i=t.touches?t.touches[0].clientX:t.pageX,this.transX+=i-this.initX,this.rotZ=this.transX/20,this.curSlide.style.transition="none",this.curSlide.style.webkitTransform="translateX("+this.transX+"px) rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ(0)",this.curSlide.style.transform="translateX("+this.transX+"px) rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ(0)";for(var o=1,a=this.slides.length-2;a>=0;a--)this.slides[a].style.webkitTransform="translateX("+this.transX/(2*o)+"px) rotateZ("+this.rotZ/(2*o)+"deg) translateY("+this.options.Y_DIS+") translateZ("+-this.options.Z_DIS*o+"px) translateZ(0)",this.slides[a].style.transform="translateX("+this.transX/(2*o)+"px) rotateZ("+this.rotZ/(2*o)+"deg) translateY("+this.options.Y_DIS+") translateZ("+-this.options.Z_DIS*o+"px) translateZ(0)",this.slides[a].style.transition="none",o++;return this.initX=i,t.preventDefault(),Math.abs(this.transX)>=this.curSlide.offsetWidth-30?(this.scope[0].removeEventListener(e.device.support.touch?"touchmove":"mousemove",this.slideMouseMove,!1),this.curSlide.style.transition=this.options.fadeOut,this.curSlide.style.opacity=0,this.prevSlide=this.curSlide,this.attachEvents(this.slides[this.slides.length-2]),this.slideMouseUp(),void setTimeout(function(){n.container[0].insertBefore(n.prevSlide,n.container[0].firstChild),n.prevSlide.style.transition="none",n.prevSlide.style.opacity="1",n.slideMouseUp()},201)):void 0}},slideMouseUp:function(){this.transX=0,this.rotZ=0,this.curSlide.style.transition="cubic-bezier(0.075, 0.82, 0.165, 1) "+this.options.TRANS_DUR+"s",this.curSlide.style.webkitTransform="translateX("+this.transX+"px)rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ(0)",this.curSlide.style.transform="translateX("+this.transX+"px)rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ(0)";for(var t=1,i=this.slides.length-2;i>=0;i--)this.slides[i].style.transition="cubic-bezier(0.075, 0.82, 0.165, 1) "+this.options.TRANS_DUR/(t+.9)+"s",this.slides[i].style.webkitTransform="translateX("+this.transX+"px)rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ("+-this.options.Z_DIS*t+"px)",this.slides[i].style.transform="translateX("+this.transX+"px)rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ("+-this.options.Z_DIS*t+"px)",t++;this.scope[0].removeEventListener(e.device.support.touch?"touchmove":"mousemove",this.slideMouseMove,!1)}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("plugins.metrika"),e.plugins.metrika=function(e){this.state=e.data,this.previousState=e.previousData,this.visits=e.visits,this.key=e.key,this.report=e.report,this.init()},e.plugins.metrika.prototype={init:function(){if(!this.active){var t=this,i=this.state,n=this.key,a=Store.get(n),s=this.previousState?this.previousState.date:null,r=a&&a.ver||this.previousState&&this.previousState.ver;r&&r!=i.ver?Store.set(n,{ver:i.ver}):a&&!s?o.deepExtend(i,a):s&&(a=window.moment&&a&&a.date?moment(s).diff(moment(a.date))>0?this.previousState:a:this.previousState,o.deepExtend(i,a)),i.visits=this.visits?this.visits:1,i.device=e.device&&e.device.get?e.device.get():null,this.state=new Baobab(i,{autoCommit:!0}),this.state.on("write",function(e){Store.set(n,t.state.get())}),Store.set(n,this.state.get()),this.report&&this.logger(),this.active=!0}},set:function(e,t,i){if(e&&this.active){if(i||(i={}),"inc"==i.action){var n=this.state.get(e.split("."))+t;this.state.select(e.split(".")).set(n)}else if("dec"==i.action){var n=this.state.get(e.split("."))-t;this.state.select(e.split(".")).set(n)}else this.state.select(e.split(".")).set(t);i.force&&this.logger.request()}},get:function(e){if(e&&this.active)return this.state.get(e.split("."))},logger:function(){var t=this,i=this.report.method,n=this.report.interval;this.logger.request=function(){var n=t.state.get(),o=JSON.stringify(n);t.lastState!=o&&(t.lastState=o,e.request(i,n,{loader:!1,notify:!1}))},i&&n&&(this.lastState=JSON.stringify(this.state.get()),setInterval(function(){t.logger.request()},1e3*n))}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("plugins.share"),e.plugins.share=function(e,i){e&&i&&(this.scope=t(e),this.options=i,this.init())},e.plugins.share.prototype={init:function(){var e=this,t=this.options;this.active||(this.scope.on("click",t.buttons,function(i){var n=i.currentTarget,a=t.dataAttr?"data-"+t.dataAttr:"data-social",s=n.getAttribute(a);if(s){var r=t.share&&t.share.title||document.title,l=t.url||window.location.href;"fb"==s?e.fb(l,o.isFunction(r)?r():r):"vk"==s?e.vk(l,o.isFunction(r)?r():r):"gl"==s?e.gl(l,o.isFunction(r)?r():r):"dk"==s?e.dk(l,o.isFunction(r)?r():r):"tw"==s&&e.tw(l,o.isFunction(r)?r():r)}}),this.active=!0)},vk:function(e,t,i,n){url="http://vkontakte.ru/share.php?",url+="url="+encodeURIComponent(e),url+="&title="+encodeURIComponent(t),i&&(url+="&image="+encodeURIComponent(i)),n&&(url+="&description="+encodeURIComponent(n)),url+="&noparse=true",this.popup(url)},dk:function(e,t){url="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1",url+="&st.comments="+encodeURIComponent(t),url+="&st._surl="+encodeURIComponent(e),this.popup(url)},fb:function(e,t,i,n){url="http://www.facebook.com/sharer.php?",url+="&p[title]="+encodeURIComponent(t),url+="&p[url]="+encodeURIComponent(e),i&&(url+="&p[images][0]="+encodeURIComponent(i)),n&&(url+="&p[summary]="+encodeURIComponent(n)),this.popup(url)},tw:function(e,t){url="http://twitter.com/share?",url+="text="+encodeURIComponent(t),url+="&url="+encodeURIComponent(e),url+="&counturl="+encodeURIComponent(e),this.popup(url)},ml:function(e,t,i,n){url="http://connect.mail.ru/share?",url+="url="+encodeURIComponent(e),url+="&title="+encodeURIComponent(t),i&&(url+="&imageurl="+encodeURIComponent(i)),n&&(url+="&description="+encodeURIComponent(n)),this.popup(url)},gl:function(e){url="https://plus.google.com/share?",url+="url="+encodeURIComponent(e),this.popup(url)},popup:function(e){window.open(e,"","width=600,height=400,left=350,top=170,status=no,toolbar=no,menubar=no")},destroy:function(){this.scope.off(),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("plugins.eventsEmitter"),e.plugins.eventsEmitter={init:function(e){o.extend(e,this.events)},events:{_events:{},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var i=this._events[e].indexOf(t);i>-1&&this._events[e].splice(i,1)}},trigger:function(e){if(this._events[e]){var t=0,i=this._events[e].length;if(i)for(;t<i;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},destroyEvents:function(){var e=this;o.each(this._events,function(t,i){delete e._events[i]})}}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("plugins.scroll.animate"),e.plugins.scroll.animate=function(e){!e||e&&!e.scroll||(this.ready=!1,this.delay=e.delay,this.elems=e.elems?e.elems:".anim",this.scroll=t(e.scroll),this.scope=e.container?t(e.container):this.scroll,this.delta=e.delta?this.deltaValues.getValueByTitle(e.delta):null,this.scenario=e.scenario,this.items=[])},e.plugins.scroll.animate.prototype={start:function(e){var t=this;this.ready&&!e||this.render();var i=o.throttle(this.onScroll,100);this.items.length&&this.scroll.on("scroll.animate",function(){i(t)})},render:function(){var e=this;this.items=[],this.scope.find(this.elems).each(function(){e.each(this)}),this.scenario&&o.each(this.scenario,function(t){e.scope.find(t.elem).each(function(){e.each(this,t.callback)})}),this.ready=!0},each:function(e,i){var n=this,o=t(e),a=e.getAttribute("data-delta");a=a?n.deltaValues.getValueByTitle(a):n.delta?n.delta:.55,n.items.push({elem:o,anim:!1,offset:o.offset(),delta:a,callback:i?i:null})},onScroll:function(t){var i=t.scroll[0].scrollTop||t.scroll[0].scrollY;t.items.forEach(function(t,n){!t.anim&&i+e.sizes.height*t.delta>t.offset.top&&(t.anim=!0,t.callback?t.callback(t.elem):t.elem.addClass("animated"))})},destroy:function(){this.scroll.off("scroll.animate"),this.items.forEach(function(e,t){e.anim&&(e.anim=!1,e.elem.removeClass("animated"))}),this.ready=!1},deltaValues:{items:[{title:"xxs",value:1.25},{title:"xs",value:1},{title:"s",value:.7},{title:"m",value:.55},{title:"l",value:.38},{title:"xl",value:.25}],getValueByTitle:function(e){return o.findWhere(this.items,{title:e}).value}}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("plugins.scroll.refreshFix"),e.plugins.scroll.refreshFix=function(e){e&&(this.active=!1,this.scroll=o.isElement(e)?e:e[0],this.reset(),this.init())},e.plugins.scroll.refreshFix.prototype={init:function(){this.active||(this.scroll.addEventListener("touchstart",this.touchstartHandler.bind(this),!1),this.scroll.addEventListener("touchmove",this.touchmoveHandler.bind(this),!1),this.active=!0)},touchstartHandler:function(e){1==e.touches.length&&(this.lastTouchY=e.touches[0].clientY,this.maybePreventPullToRefresh=0==window.pageYOffset)},touchmoveHandler:function(e){var t=e.touches[0].clientY,i=t-this.lastTouchY;if(this.lastTouchY=t,this.maybePreventPullToRefresh&&(this.maybePreventPullToRefresh=!1,i>0))return void e.preventDefault()},reset:function(){this.maybePreventPullToRefresh=!1,this.lastTouchY=0},destroy:function(){this.active&&(this.scroll.removeEventListener("touchstart",this.touchstartHandler),this.scroll.removeEventListener("touchmove",this.touchmoveHandler),this.reset(),this.active=!1)}}}(app,$,app.$dom,app.events,app.utils),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,i,n){var o={features:null,bind:function(e,t,i,n){var o=(n?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],i,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var i=document.createElement(t||"div");return e&&(i.className=e),i},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,i){o.bind(e,t,i,!0)},removeClass:function(e,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var i=e.firstChild;i;){if(o.hasClass(i,t))return i;i=i.nextSibling}},arraySearch:function(e,t,i){for(var n=e.length;n--;)if(e[n][i]===t)return n;return-1},extend:function(e,t,i){for(var n in t)if(t.hasOwnProperty(n)){if(i&&e.hasOwnProperty(n))continue;e[n]=t[n]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl(),t=e.style,i="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var a=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var s=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);s&&s.length>0&&(s=parseInt(s[1],10),s>=1&&s<8&&(n.isOldIOSPhone=!0))}var r=a.match(/Android\s([0-9\.]*)/),l=r?r[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(a)}for(var c,u,d=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],h=0;h<4;h++){i=p[h];for(var f=0;f<3;f++)c=d[f],u=i+(i?c.charAt(0).toUpperCase()+c.slice(1):c),!n[c]&&u in t&&(n[c]=u);i&&!n.raf&&(i=i.toLowerCase(),n.raf=window[i+"RequestAnimationFrame"],n.raf&&(n.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}if(!n.raf){var m=0;n.raf=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-m)),n=window.setTimeout(function(){e(t+i)},i);return m=t+i,n},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,i,n){t=t.split(" ");for(var o,a=(n?"detach":"attach")+"Event",s=function(){i.handleEvent.call(i)},r=0;r<t.length;r++)if(o=t[r])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=s;e[a]("on"+o,i["oldIE"+o])}else e[a]("on"+o,i)});var a=this,s=25,r=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(l,n);var c,u,d,p,h,f,m,v,g,b,w,x,y,S,C,_,I,T,E,k,A,M,D,O,z,F,P,$,R,L,Z,N,q,Y,U,H,X,W,B,K,V,j,G,J,Q,ee,te,ie,ne,oe,ae,se,re,le,ce,ue,de=function(){return{x:0,y:0}},pe=de(),he=de(),fe=de(),me={},ve=0,ge={},be=de(),we=0,xe=!0,ye=[],Se={},Ce=!1,_e=function(e,t){o.extend(a,t.publicMethods),ye.push(e)},Ie=function(e){var t=Qt();return e>t-1?e-t:e<0?t+e:e},Te={},Ee=function(e,t){return Te[e]||(Te[e]=[]),Te[e].push(t)},ke=function(e){var t=Te[e];if(t){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(a,i)}},Ae=function(){return(new Date).getTime()},Me=function(e){le=e,a.bg.style.opacity=e*l.bgOpacity},De=function(e,t,i,n,o){(!Ce||o&&o!==a.currItem)&&(n/=o?o.fitRatio:a.currItem.fitRatio),e[M]=x+t+"px, "+i+"px"+y+" scale("+n+")"},Oe=function(e){ne&&(e&&(b>a.currItem.fitRatio?Ce||(di(a.currItem,!1,!0),Ce=!0):Ce&&(di(a.currItem),Ce=!1)),De(ne,fe.x,fe.y,b))},ze=function(e){e.container&&De(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Fe=function(e,t){t[M]=x+e+"px, 0px"+y},Pe=function(e,t){if(!l.loop&&t){var i=p+(be.x*ve-e)/be.x,n=Math.round(e-bt.x);(i<0&&n>0||i>=Qt()-1&&n<0)&&(e=bt.x+n*l.mainScrollEndFriction)}bt.x=e,Fe(e,h)},$e=function(e,t){var i=wt[e]-ge[e];return he[e]+pe[e]+i-i*(t/w)},Re=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Le=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ze=null,Ne=function(){Ze&&(o.unbind(document,"mousemove",Ne),o.addClass(e,"pswp--has_mouse"),l.mouseUsed=!0,ke("mouseUsed")),Ze=setTimeout(function(){Ze=null},100)},qe=function(){o.bind(document,"keydown",a),Z.transform&&o.bind(a.scrollWrap,"click",a),l.mouseUsed||o.bind(document,"mousemove",Ne),o.bind(window,"resize scroll",a),ke("bindEvents")},Ye=function(){o.unbind(window,"resize",a),o.unbind(window,"scroll",g.scroll),o.unbind(document,"keydown",a),o.unbind(document,"mousemove",Ne),Z.transform&&o.unbind(a.scrollWrap,"click",a),W&&o.unbind(window,m,a),ke("unbindEvents")},Ue=function(e,t){var i=ri(a.currItem,me,e);return t&&(ie=i),i},He=function(e){return e||(e=a.currItem),e.initialZoomLevel},Xe=function(e){return e||(e=a.currItem),e.w>0?l.maxSpreadZoom:1},We=function(e,t,i,n){return n===a.currItem.initialZoomLevel?(i[e]=a.currItem.initialPosition[e],!0):(i[e]=$e(e,n),i[e]>t.min[e]?(i[e]=t.min[e],!0):i[e]<t.max[e]&&(i[e]=t.max[e],!0))},Be=function(){if(M){var t=Z.perspective&&!O;return x="translate"+(t?"3d(":"("),void(y=Z.perspective?", 0px)":")")}M="left",o.addClass(e,"pswp--ie"),Fe=function(e,t){t.left=e+"px"},ze=function(e){var t=e.fitRatio>1?1:e.fitRatio,i=e.container.style,n=t*e.w,o=t*e.h;i.width=n+"px",i.height=o+"px",i.left=e.initialPosition.x+"px",i.top=e.initialPosition.y+"px"},Oe=function(){if(ne){var e=ne,t=a.currItem,i=t.fitRatio>1?1:t.fitRatio,n=i*t.w,o=i*t.h;e.width=n+"px",e.height=o+"px",e.left=fe.x+"px",e.top=fe.y+"px"}}},Ke=function(e){var t="";l.escKey&&27===e.keyCode?t="close":l.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},Ve=function(e){e&&(V||K||oe||H)&&(e.preventDefault(),e.stopPropagation())},je=function(){a.setScrollOffset(0,o.getScrollY())},Ge={},Je=0,Qe=function(e){Ge[e]&&(Ge[e].raf&&F(Ge[e].raf),Je--,delete Ge[e])},et=function(e){Ge[e]&&Qe(e),Ge[e]||(Je++,Ge[e]={})},tt=function(){for(var e in Ge)Ge.hasOwnProperty(e)&&Qe(e)},it=function(e,t,i,n,o,a,s){var r,l=Ae();et(e);var c=function(){if(Ge[e]){if(r=Ae()-l,r>=n)return Qe(e),a(i),void(s&&s());a((i-t)*o(r/n)+t),Ge[e].raf=z(c)}};c()},nt={shout:ke,listen:Ee,viewportSize:me,options:l,isMainScrollAnimating:function(){return oe},getZoomLevel:function(){return b},getCurrentIndex:function(){return p},isDragging:function(){return W},isZooming:function(){return Q},setScrollOffset:function(e,t){ge.x=e,L=ge.y=t,ke("updateScrollOffset",ge)},applyZoomPan:function(e,t,i,n){fe.x=t,fe.y=i,b=e,Oe(n)},init:function(){if(!c&&!u){var i;a.framework=o,a.template=e,a.bg=o.getChildByClass(e,"pswp__bg"),P=e.className,c=!0,Z=o.detectFeatures(),z=Z.raf,F=Z.caf,M=Z.transform,R=Z.oldIE,a.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),a.container=o.getChildByClass(a.scrollWrap,"pswp__container"),h=a.container.style,a.itemHolders=_=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],_[0].el.style.display=_[2].el.style.display="none",Be(),g={resize:a.updateSize,scroll:je,keydown:Ke,click:Ve};var n=Z.isOldIOSPhone||Z.isOldAndroid||Z.isMobileOpera;for(Z.animationName&&Z.transform&&!n||(l.showAnimationDuration=l.hideAnimationDuration=0),i=0;i<ye.length;i++)a["init"+ye[i]]();if(t){var s=a.ui=new t(a,o);s.init()}ke("firstUpdate"),p=p||l.index||0,(isNaN(p)||p<0||p>=Qt())&&(p=0),a.currItem=Jt(p),(Z.isOldIOSPhone||Z.isOldAndroid)&&(xe=!1),e.setAttribute("aria-hidden","false"),l.modal&&(xe?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===L&&(ke("initialLayout"),L=$=o.getScrollY());var d="pswp--open ";for(l.mainClass&&(d+=l.mainClass+" "),l.showHideOpacity&&(d+="pswp--animate_opacity "),d+=O?"pswp--touch":"pswp--notouch",d+=Z.animationName?" pswp--css_animation":"",d+=Z.svg?" pswp--svg":"",o.addClass(e,d),a.updateSize(),f=-1,we=null,i=0;i<r;i++)Fe((i+f)*be.x,_[i].el.style);R||o.bind(a.scrollWrap,v,a),Ee("initialZoomInEnd",function(){a.setContent(_[0],p-1),a.setContent(_[2],p+1),_[0].el.style.display=_[2].el.style.display="block",l.focus&&e.focus(),qe()}),a.setContent(_[1],p),a.updateCurrItem(),ke("afterInit"),xe||(S=setInterval(function(){Je||W||Q||b!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){c&&(c=!1,u=!0,ke("close"),Ye(),ti(a.currItem,null,!0,a.destroy))},destroy:function(){ke("destroy"),Kt&&clearTimeout(Kt),e.setAttribute("aria-hidden","true"),e.className=P,S&&clearInterval(S),o.unbind(a.scrollWrap,v,a),o.unbind(window,"scroll",a),_t(),tt(),Te=null},panTo:function(e,t,i){i||(e>ie.min.x?e=ie.min.x:e<ie.max.x&&(e=ie.max.x),t>ie.min.y?t=ie.min.y:t<ie.max.y&&(t=ie.max.y)),fe.x=e,fe.y=t,Oe()},handleEvent:function(e){e=e||window.event,g[e.type]&&g[e.type](e)},goTo:function(e){e=Ie(e);var t=e-p;we=t,p=e,a.currItem=Jt(p),ve-=t,Pe(be.x*ve),tt(),oe=!1,a.updateCurrItem()},next:function(){a.goTo(p+1)},prev:function(){a.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&ke("beforeChange",0),_[1].el.children.length){var t=_[1].el.children[0];ne=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ne=null;ie=a.currItem.bounds,w=b=a.currItem.initialZoomLevel,fe.x=ie.center.x,fe.y=ie.center.y,e&&ke("afterChange")},invalidateCurrItems:function(){C=!0;for(var e=0;e<r;e++)_[e].item&&(_[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==we){var t,i=Math.abs(we);if(!(e&&i<2)){a.currItem=Jt(p),Ce=!1,ke("beforeChange",we),i>=r&&(f+=we+(we>0?-r:r),i=r);for(var n=0;n<i;n++)we>0?(t=_.shift(),_[r-1]=t,f++,Fe((f+2)*be.x,t.el.style),a.setContent(t,p-i+n+1+1)):(t=_.pop(),_.unshift(t),f--,Fe(f*be.x,t.el.style),a.setContent(t,p+i-n-1-1));if(ne&&1===Math.abs(we)){var o=Jt(I);o.initialZoomLevel!==b&&(ri(o,me),di(o),ze(o))}we=0,a.updateCurrZoomItem(),I=p,ke("afterChange")}}},updateSize:function(t){if(!xe&&l.modal){var i=o.getScrollY();if(L!==i&&(e.style.top=i+"px",L=i),!t&&Se.x===window.innerWidth&&Se.y===window.innerHeight)return;Se.x=window.innerWidth,Se.y=window.innerHeight,e.style.height=Se.y+"px"}if(me.x=a.scrollWrap.clientWidth,me.y=a.scrollWrap.clientHeight,je(),be.x=me.x+Math.round(me.x*l.spacing),be.y=me.y,Pe(be.x*ve),ke("beforeResize"),void 0!==f){for(var n,s,c,u=0;u<r;u++)n=_[u],Fe((u+f)*be.x,n.el.style),c=p+u-1,l.loop&&Qt()>2&&(c=Ie(c)),s=Jt(c),s&&(C||s.needsUpdate||!s.bounds)?(a.cleanSlide(s),a.setContent(n,c),1===u&&(a.currItem=s,a.updateCurrZoomItem(!0)),s.needsUpdate=!1):n.index===-1&&c>=0&&a.setContent(n,c),s&&s.container&&(ri(s,me),di(s),ze(s));C=!1}w=b=a.currItem.initialZoomLevel,ie=a.currItem.bounds,ie&&(fe.x=ie.center.x,fe.y=ie.center.y,Oe(!0)),ke("resize")},zoomTo:function(e,t,i,n,a){t&&(w=b,wt.x=Math.abs(t.x)-fe.x,wt.y=Math.abs(t.y)-fe.y,Re(he,fe));var s=Ue(e,!1),r={};We("x",s,r,e),We("y",s,r,e);var l=b,c={x:fe.x,y:fe.y};Le(r);var u=function(t){1===t?(b=e,fe.x=r.x,fe.y=r.y):(b=(e-l)*t+l,fe.x=(r.x-c.x)*t+c.x,fe.y=(r.y-c.y)*t+c.y),a&&a(t),Oe(1===t)};i?it("customZoomTo",0,1,i,n||o.easing.sine.inOut,u):u(1)}},ot=30,at=10,st={},rt={},lt={},ct={},ut={},dt=[],pt={},ht=[],ft={},mt=0,vt=de(),gt=0,bt=de(),wt=de(),xt=de(),yt=function(e,t){return e.x===t.x&&e.y===t.y},St=function(e,t){return Math.abs(e.x-t.x)<s&&Math.abs(e.y-t.y)<s},Ct=function(e,t){return ft.x=Math.abs(e.x-t.x),ft.y=Math.abs(e.y-t.y),Math.sqrt(ft.x*ft.x+ft.y*ft.y)},_t=function(){j&&(F(j),j=null)},It=function(){W&&(j=z(It),qt())},Tt=function(){return!("fit"===l.scaleMode&&b===a.currItem.initialZoomLevel)},Et=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:Et(e.parentNode,t)))},kt={},At=function(e,t){return kt.prevent=!Et(e.target,l.isClickableElement),ke("preventDragEvent",e,t,kt),kt.prevent},Mt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Dt=function(e,t,i){i.x=.5*(e.x+t.x),i.y=.5*(e.y+t.y)},Ot=function(e,t,i){if(e-q>50){var n=ht.length>2?ht.shift():{};n.x=t,n.y=i,ht.push(n),q=e}},zt=function(){var e=fe.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(me.y/2))},Ft={},Pt={},$t=[],Rt=function(e){for(;$t.length>0;)$t.pop();return D?(ue=0,dt.forEach(function(e){0===ue?$t[0]=e:1===ue&&($t[1]=e),ue++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&($t[0]=Mt(e.touches[0],Ft),e.touches.length>1&&($t[1]=Mt(e.touches[1],Pt))):(Ft.x=e.pageX,Ft.y=e.pageY,Ft.id="",$t[0]=Ft),$t},Lt=function(e,t){var i,n,o,s,r=0,c=fe[e]+t[e],u=t[e]>0,d=bt.x+t.x,p=bt.x-pt.x;return i=c>ie.min[e]||c<ie.max[e]?l.panEndFriction:1,c=fe[e]+t[e]*i,!l.allowPanToNext&&b!==a.currItem.initialZoomLevel||(ne?"h"!==ae||"x"!==e||K||(u?(c>ie.min[e]&&(i=l.panEndFriction,r=ie.min[e]-c,n=ie.min[e]-he[e]),(n<=0||p<0)&&Qt()>1?(s=d,p<0&&d>pt.x&&(s=pt.x)):ie.min.x!==ie.max.x&&(o=c)):(c<ie.max[e]&&(i=l.panEndFriction,r=c-ie.max[e],n=he[e]-ie.max[e]),(n<=0||p>0)&&Qt()>1?(s=d,p>0&&d<pt.x&&(s=pt.x)):ie.min.x!==ie.max.x&&(o=c))):s=d,"x"!==e)?void(oe||G||b>a.currItem.fitRatio&&(fe[e]+=t[e]*i)):(void 0!==s&&(Pe(s,!0),G=s!==pt.x),ie.min.x!==ie.max.x&&(void 0!==o?fe.x=o:G||(fe.x+=t.x*i)),void 0!==s)},Zt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Gt)return void e.preventDefault();if(!X||"mousedown"!==e.type){if(At(e,!0)&&e.preventDefault(),ke("pointerDown"),D){var t=o.arraySearch(dt,e.pointerId,"id");t<0&&(t=dt.length),dt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var i=Rt(e),n=i.length;J=null,tt(),W&&1!==n||(W=se=!0,o.bind(window,m,a),U=ce=re=H=G=V=B=K=!1,ae=null,ke("firstTouchStart",i),Re(he,fe),pe.x=pe.y=0,Re(ct,i[0]),Re(ut,ct),pt.x=be.x*ve,ht=[{x:ct.x,y:ct.y}],q=N=Ae(),Ue(b,!0),_t(),It()),!Q&&n>1&&!oe&&!G&&(w=b,K=!1,Q=B=!0,pe.y=pe.x=0,Re(he,fe),Re(st,i[0]),Re(rt,i[1]),Dt(st,rt,xt),wt.x=Math.abs(xt.x)-fe.x,wt.y=Math.abs(xt.y)-fe.y,ee=te=Ct(st,rt))}}},Nt=function(e){if(e.preventDefault(),D){var t=o.arraySearch(dt,e.pointerId,"id");if(t>-1){var i=dt[t];i.x=e.pageX,i.y=e.pageY}}if(W){var n=Rt(e);if(ae||V||Q)J=n;else if(bt.x!==be.x*ve)ae="h";else{var a=Math.abs(n[0].x-ct.x)-Math.abs(n[0].y-ct.y);Math.abs(a)>=at&&(ae=a>0?"h":"v",J=n)}}},qt=function(){if(J){var e=J.length;if(0!==e)if(Re(st,J[0]),lt.x=st.x-ct.x,lt.y=st.y-ct.y,Q&&e>1){if(ct.x=st.x,ct.y=st.y,!lt.x&&!lt.y&&yt(J[1],rt))return;Re(rt,J[1]),K||(K=!0,ke("zoomGestureStarted"));var t=Ct(st,rt),i=Wt(t);i>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(ce=!0);var n=1,o=He(),s=Xe();if(i<o)if(l.pinchToClose&&!ce&&w<=a.currItem.initialZoomLevel){var r=o-i,c=1-r/(o/1.2);Me(c),ke("onPinchClose",c),re=!0}else n=(o-i)/o,n>1&&(n=1),i=o-n*(o/3);else i>s&&(n=(i-s)/(6*o),n>1&&(n=1),i=s+n*o);n<0&&(n=0),ee=t,Dt(st,rt,vt),pe.x+=vt.x-xt.x,pe.y+=vt.y-xt.y,Re(xt,vt),fe.x=$e("x",i),fe.y=$e("y",i),U=i>b,b=i,Oe()}else{if(!ae)return;if(se&&(se=!1,Math.abs(lt.x)>=at&&(lt.x-=J[0].x-ut.x),Math.abs(lt.y)>=at&&(lt.y-=J[0].y-ut.y)),ct.x=st.x,ct.y=st.y,0===lt.x&&0===lt.y)return;if("v"===ae&&l.closeOnVerticalDrag&&!Tt()){pe.y+=lt.y,fe.y+=lt.y;var u=zt();return H=!0,ke("onVerticalDrag",u),Me(u),void Oe()}Ot(Ae(),st.x,st.y),V=!0,ie=a.currItem.bounds;var d=Lt("x",lt);d||(Lt("y",lt),Le(fe),Oe())}}},Yt=function(e){if(Z.isOldAndroid){if(X&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(X),X=setTimeout(function(){X=0},600))}ke("pointerUp"),At(e,!1)&&e.preventDefault();var t;if(D){var i=o.arraySearch(dt,e.pointerId,"id");if(i>-1)if(t=dt.splice(i,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var n={4:"mouse",2:"touch",3:"pen"};t.type=n[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var s,r=Rt(e),c=r.length;if("mouseup"===e.type&&(c=0),2===c)return J=null,!0;1===c&&Re(ut,r[0]),0!==c||ae||oe||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),ke("touchRelease",e,t));var u=-1;if(0===c&&(W=!1,o.unbind(window,m,a),_t(),Q?u=0:gt!==-1&&(u=Ae()-gt)),gt=1===c?Ae():-1,s=u!==-1&&u<150?"zoom":"swipe",Q&&c<2&&(Q=!1,1===c&&(s="zoomPointerUp"),ke("zoomGestureEnded")),J=null,V||K||oe||H)if(tt(),Y||(Y=Ut()),Y.calculateSwipeSpeed("x"),H){var d=zt();if(d<l.verticalDragRange)a.close();else{var p=fe.y,h=le;it("verticalDrag",0,1,300,o.easing.cubic.out,function(e){fe.y=(a.currItem.initialPosition.y-p)*e+p,Me((1-h)*e+h),Oe()}),ke("onVerticalDrag",1)}}else{if((G||oe)&&0===c){var f=Xt(s,Y);if(f)return;s="zoomPointerUp"}if(!oe)return"swipe"!==s?void Bt():void(!G&&b>a.currItem.fitRatio&&Ht(Y))}},Ut=function(){var e,t,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){ht.length>1?(e=Ae()-q+50,t=ht[ht.length-2][n]):(e=Ae()-N,t=ut[n]),i.lastFlickOffset[n]=ct[n]-t,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/e:i.lastFlickSpeed[n]=0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(e,t){i.backAnimStarted[e]||(fe[e]>ie.min[e]?i.backAnimDestination[e]=ie.min[e]:fe[e]<ie.max[e]&&(i.backAnimDestination[e]=ie.max[e]),void 0!==i.backAnimDestination[e]&&(i.slowDownRatio[e]=.7,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatioAbs[e]<.05&&(i.lastFlickSpeed[e]=0,i.backAnimStarted[e]=!0,it("bounceZoomPan"+e,fe[e],i.backAnimDestination[e],t||300,o.easing.sine.out,function(t){fe[e]=t,Oe()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,fe[e]+=i.distanceOffset[e])},panAnimLoop:function(){if(Ge.zoomPan&&(Ge.zoomPan.raf=z(i.panAnimLoop),i.now=Ae(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),Oe(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),Oe(),void Qe("zoomPan")}};return i},Ht=function(e){return e.calculateSwipeSpeed("y"),ie=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(et("zoomPan"),e.lastNow=Ae(),void e.panAnimLoop())},Xt=function(e,t){var i;oe||(mt=p);var n;if("swipe"===e){var s=ct.x-ut.x,r=t.lastFlickDist.x<10;s>ot&&(r||t.lastFlickOffset.x>20)?n=-1:s<-ot&&(r||t.lastFlickOffset.x<-20)&&(n=1)}var c;n&&(p+=n,p<0?(p=l.loop?Qt()-1:0,c=!0):p>=Qt()&&(p=l.loop?0:Qt()-1,c=!0),c&&!l.loop||(we+=n,ve-=n,i=!0));var u,d=be.x*ve,h=Math.abs(d-bt.x);return i||d>bt.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?h/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,mt===p&&(i=!1),oe=!0,ke("mainScrollAnimStart"),it("mainScroll",bt.x,d,u,o.easing.cubic.out,Pe,function(){tt(),oe=!1,mt=-1,(i||mt!==p)&&a.updateCurrItem(),ke("mainScrollAnimComplete")}),i&&a.updateCurrItem(!0),i},Wt=function(e){return 1/te*e*w},Bt=function(){var e=b,t=He(),i=Xe();b<t?e=t:b>i&&(e=i);var n,s=1,r=le;return re&&!U&&!ce&&b<t?(a.close(),!0):(re&&(n=function(e){Me((s-r)*e+r)}),a.zoomTo(e,0,200,o.easing.cubic.out,n),!0)};_e("Gestures",{publicMethods:{initGestures:function(){
var e=function(e,t,i,n,o){T=e+t,E=e+i,k=e+n,A=o?e+o:""};D=Z.pointerEvent,D&&Z.touch&&(Z.touch=!1),D?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):Z.touch?(e("touch","start","move","end","cancel"),O=!0):e("mouse","down","move","up"),m=E+" "+k+" "+A,v=T,D&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=O,g[T]=Zt,g[E]=Nt,g[k]=Yt,A&&(g[A]=g[k]),Z.touch&&(v+=" mousedown",m+=" mousemove mouseup",g.mousedown=g[T],g.mousemove=g[E],g.mouseup=g[k]),O||(l.allowPanToNext=!1)}}});var Kt,Vt,jt,Gt,Jt,Qt,ei,ti=function(t,i,n,s){Kt&&clearTimeout(Kt),Gt=!0,jt=!0;var r;t.initialLayout?(r=t.initialLayout,t.initialLayout=null):r=l.getThumbBoundsFn&&l.getThumbBoundsFn(p);var c=n?l.hideAnimationDuration:l.showAnimationDuration,u=function(){Qe("initialZoom"),n?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(Me(1),i&&(i.style.display="block"),o.addClass(e,"pswp--animated-in"),ke("initialZoom"+(n?"OutEnd":"InEnd"))),s&&s(),Gt=!1};if(!c||!r||void 0===r.x)return ke("initialZoom"+(n?"Out":"In")),b=t.initialZoomLevel,Re(fe,t.initialPosition),Oe(),e.style.opacity=n?0:1,Me(1),void(c?setTimeout(function(){u()},c):u());var h=function(){var i=d,s=!a.currItem.src||a.currItem.loadError||l.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),n||(b=r.w/t.w,fe.x=r.x,fe.y=r.y-$,a[s?"template":"bg"].style.opacity=.001,Oe()),et("initialZoom"),n&&!i&&o.removeClass(e,"pswp--animated-in"),s&&(n?o[(i?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Kt=setTimeout(function(){if(ke("initialZoom"+(n?"Out":"In")),n){var a=r.w/t.w,l={x:fe.x,y:fe.y},d=b,p=le,h=function(t){1===t?(b=a,fe.x=r.x,fe.y=r.y-L):(b=(a-d)*t+d,fe.x=(r.x-l.x)*t+l.x,fe.y=(r.y-L-l.y)*t+l.y),Oe(),s?e.style.opacity=1-t:Me(p-t*p)};i?it("initialZoom",0,1,c,o.easing.cubic.out,h,u):(h(1),Kt=setTimeout(u,c+20))}else b=t.initialZoomLevel,Re(fe,t.initialPosition),Oe(),Me(1),s?e.style.opacity=1:Me(1),Kt=setTimeout(u,c+20)},n?25:90)};h()},ii={},ni=[],oi={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Vt.length}},ai=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},si=function(e,t,i){var n=e.bounds;n.center.x=Math.round((ii.x-t)/2),n.center.y=Math.round((ii.y-i)/2)+e.vGap.top,n.max.x=t>ii.x?Math.round(ii.x-t):n.center.x,n.max.y=i>ii.y?Math.round(ii.y-i)+e.vGap.top:n.center.y,n.min.x=t>ii.x?0:n.center.x,n.min.y=i>ii.y?e.vGap.top:n.center.y},ri=function(e,t,i){if(e.src&&!e.loadError){var n=!i;if(n&&(e.vGap||(e.vGap={top:0,bottom:0}),ke("parseVerticalMargin",e)),ii.x=t.x,ii.y=t.y-e.vGap.top-e.vGap.bottom,n){var o=ii.x/e.w,a=ii.y/e.h;e.fitRatio=o<a?o:a;var s=l.scaleMode;"orig"===s?i=1:"fit"===s&&(i=e.fitRatio),i>1&&(i=1),e.initialZoomLevel=i,e.bounds||(e.bounds=ai())}if(!i)return;return si(e,e.w*i,e.h*i),n&&i===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=ai(),e.initialPosition=e.bounds.center,e.bounds},li=function(e,t,i,n,o,s){t.loadError||n&&(t.imageAppended=!0,di(t,n,t===a.currItem&&Ce),i.appendChild(n),s&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},ci=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),i=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=i,t.onerror=function(){e.loadError=!0,i()},t.src=e.src,t},ui=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=l.errorMsg.replace("%url%",e.src),!0},di=function(e,t,i){if(e.src){t||(t=e.container.lastChild);var n=i?e.w:Math.round(e.w*e.fitRatio),o=i?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=n+"px",e.placeholder.style.height=o+"px"),t.style.width=n+"px",t.style.height=o+"px",1!=t.style.opacity&&setTimeout(function(){t.style.opacity="1"},30)}},pi=function(){if(ni.length){for(var e,t=0;t<ni.length;t++)e=ni[t],e.holder.index===e.index&&li(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);ni=[]}};_e("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ie(e);var t=Jt(e);t&&(!t.loaded&&!t.loading||C)&&(ke("gettingData",e,t),t.src&&ci(t))},initController:function(){o.extend(l,oi,!0),a.items=Vt=i,Jt=a.getItemAt,Qt=l.getNumItemsFn,ei=l.loop,Qt()<3&&(l.loop=!1),Ee("beforeChange",function(e){var t,i=l.preload,n=null===e||e>=0,o=Math.min(i[0],Qt()),s=Math.min(i[1],Qt());for(t=1;t<=(n?s:o);t++)a.lazyLoadItem(p+t);for(t=1;t<=(n?o:s);t++)a.lazyLoadItem(p-t)}),Ee("initialLayout",function(){a.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(p)}),Ee("mainScrollAnimComplete",pi),Ee("initialZoomInEnd",pi),Ee("destroy",function(){for(var e,t=0;t<Vt.length;t++)e=Vt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);ni=null})},getItemAt:function(e){return e>=0&&(void 0!==Vt[e]&&Vt[e])},allowProgressiveImg:function(){return l.forceProgressiveLoading||!O||l.mouseUsed||screen.width>1200},setContent:function(e,t){l.loop&&(t=Ie(t));var i=a.getItemAt(e.index);i&&(i.container=null);var n,s=a.getItemAt(t);if(!s)return void(e.el.innerHTML="");ke("gettingData",t,s),e.index=t,e.item=s;var r=s.container=o.createEl("pswp__zoom-wrap");if(!s.src&&s.html&&(s.html.tagName?r.appendChild(s.html):r.innerHTML=s.html),ui(s),ri(s,me),!s.src||s.loadError||s.loaded)s.src&&!s.loadError&&(n=o.createEl("pswp__img","img"),n.style.opacity=1,n.src=s.src,di(s,n),li(t,s,r,n,!0));else{if(s.loadComplete=function(i){if(c){if(e&&e.index===t){if(ui(i,!0))return i.loadComplete=i.img=null,ri(i,me),ze(i),void(e.index===p&&a.updateCurrZoomItem());i.imageAppended?!Gt&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):Z.transform&&(oe||Gt)?ni.push({item:i,baseDiv:r,img:i.img,index:t,holder:e,clearPlaceholder:!0}):li(t,i,r,i.img,oe||Gt,!0)}i.loadComplete=null,i.img=null,ke("imageLoadComplete",t,i)}},o.features.transform){var u="pswp__img pswp__img--placeholder";u+=s.msrc?"":" pswp__img--placeholder--blank";var d=o.createEl(u,s.msrc?"img":"");s.msrc&&(d.src=s.msrc),di(s,d),r.appendChild(d),s.placeholder=d}s.loading||ci(s),a.allowProgressiveImg()&&(!jt&&Z.transform?ni.push({item:s,baseDiv:r,img:s.img,index:t,holder:e}):li(t,s,r,s.img,!0,!0))}jt||t!==p?ze(s):(ne=r.style,ti(s,n||s.img)),e.el.innerHTML="",e.el.appendChild(r)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var hi,fi={},mi=function(e,t,i){var n=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(n)};_e("Tap",{publicMethods:{initTap:function(){Ee("firstTouchStart",a.onTapStart),Ee("touchRelease",a.onTapRelease),Ee("destroy",function(){fi={},hi=null})},onTapStart:function(e){e.length>1&&(clearTimeout(hi),hi=null)},onTapRelease:function(e,t){if(t&&!V&&!B&&!Je){var i=t;if(hi&&(clearTimeout(hi),hi=null,St(i,fi)))return void ke("doubleTap",i);if("mouse"===t.type)return void mi(e,t,"mouse");var n=e.target.tagName.toUpperCase();if("BUTTON"===n||o.hasClass(e.target,"pswp__single-tap"))return void mi(e,t);Re(fi,i),hi=setTimeout(function(){mi(e,t),hi=null},300)}}}});var vi;_e("DesktopZoom",{publicMethods:{initDesktopZoom:function(){R||(O?Ee("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){vi={};var i="wheel mousewheel DOMMouseScroll";Ee("bindEvents",function(){o.bind(e,i,a.handleMouseWheel)}),Ee("unbindEvents",function(){vi&&o.unbind(e,i,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var n,s=function(){a.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),b<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),r()},r=function(){n&&(o.removeClass(e,"pswp--dragging"),n=!1)};Ee("resize",s),Ee("afterChange",s),Ee("pointerDown",function(){a.mouseZoomedIn&&(n=!0,o.addClass(e,"pswp--dragging"))}),Ee("pointerUp",r),t||s()},handleMouseWheel:function(e){if(b<=a.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Je||W?e.preventDefault():M&&Math.abs(e.deltaY)>2&&(d=!0,a.close())),!0;if(e.stopPropagation(),vi.x=0,"deltaX"in e)1===e.deltaMode?(vi.x=18*e.deltaX,vi.y=18*e.deltaY):(vi.x=e.deltaX,vi.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(vi.x=-.16*e.wheelDeltaX),e.wheelDeltaY?vi.y=-.16*e.wheelDeltaY:vi.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;vi.y=e.detail}Ue(b,!0);var t=fe.x-vi.x,i=fe.y-vi.y;(l.modal||t<=ie.min.x&&t>=ie.max.x&&i<=ie.min.y&&i>=ie.max.y)&&e.preventDefault(),a.panTo(t,i)},toggleDesktopZoom:function(t){t=t||{x:me.x/2+ge.x,y:me.y/2+ge.y};var i=l.getDoubleTapZoom(!0,a.currItem),n=b===i;a.mouseZoomedIn=!n,a.zoomTo(n?a.currItem.initialZoomLevel:i,t,333),o[(n?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var gi,bi,wi,xi,yi,Si,Ci,_i,Ii,Ti,Ei,ki,Ai={history:!0,galleryUID:1},Mi=function(){return Ei.hash.substring(1)},Di=function(){gi&&clearTimeout(gi),wi&&clearTimeout(wi)},Oi=function(){var e=Mi(),t={};if(e.length<5)return t;var i,n=e.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}if(l.galleryPIDs){var a=t.pid;for(t.pid=0,i=0;i<Vt.length;i++)if(Vt[i].pid===a){t.pid=i;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},zi=function(){if(wi&&clearTimeout(wi),Je||W)return void(wi=setTimeout(zi,500));xi?clearTimeout(bi):xi=!0;var e=p+1,t=Jt(p);t.hasOwnProperty("pid")&&(e=t.pid);var i=Ci+"&gid="+l.galleryUID+"&pid="+e;_i||Ei.hash.indexOf(i)===-1&&(Ti=!0);var n=Ei.href.split("#")[0]+"#"+i;ki?"#"+i!==window.location.hash&&history[_i?"replaceState":"pushState"]("",document.title,n):_i?Ei.replace(n):Ei.hash=i,_i=!0,bi=setTimeout(function(){xi=!1},60)};_e("History",{publicMethods:{initHistory:function(){if(o.extend(l,Ai,!0),l.history){Ei=window.location,Ti=!1,Ii=!1,_i=!1,Ci=Mi(),ki="pushState"in history,Ci.indexOf("gid=")>-1&&(Ci=Ci.split("&gid=")[0],Ci=Ci.split("?gid=")[0]),Ee("afterChange",a.updateURL),Ee("unbindEvents",function(){o.unbind(window,"hashchange",a.onHashChange)});var e=function(){Si=!0,Ii||(Ti?history.back():Ci?Ei.hash=Ci:ki?history.pushState("",document.title,Ei.pathname+Ei.search):Ei.hash=""),Di()};Ee("unbindEvents",function(){d&&e()}),Ee("destroy",function(){Si||e()}),Ee("firstUpdate",function(){p=Oi().pid});var t=Ci.indexOf("pid=");t>-1&&(Ci=Ci.substring(0,t),"&"===Ci.slice(-1)&&(Ci=Ci.slice(0,-1))),setTimeout(function(){c&&o.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return Mi()===Ci?(Ii=!0,void a.close()):void(xi||(yi=!0,a.goTo(Oi().pid),yi=!1))},updateURL:function(){Di(),yi||(_i?gi=setTimeout(zi,800):zi())}}}),o.extend(a,nt)};return e}),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var i,n,o,a,s,r,l,c,u,d,p,h,f,m,v,g,b,w,x,y=this,S=!1,C=!0,_=!0,I={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},T=function(e){if(g)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!u&&$();for(var i,n,o=e.target||e.srcElement,a=o.getAttribute("class")||"",s=0;s<H.length;s++)i=H[s],i.onTap&&a.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);if(n){e.stopPropagation&&e.stopPropagation(),g=!0;var r=t.features.isOldAndroid?600:30;b=setTimeout(function(){g=!1},r)}},E=function(){return!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth},k=function(e,i,n){t[(n?"add":"remove")+"Class"](e,"pswp__"+i)},A=function(){var e=1===v.getNumItemsFn();e!==m&&(k(n,"ui--one-slide",e),m=e)},M=function(){k(l,"share-modal--hidden",_)},D=function(){return _=!_,_?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){_&&M()},300)):(M(),setTimeout(function(){_||t.addClass(l,"pswp__share-modal--fade-in")},30)),_||z(),!1},O=function(t){t=t||window.event;var i=t.target||t.srcElement;return e.shout("shareLinkClick",t,i),!!i.href&&(!!i.hasAttribute("download")||(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),_||D(),!1))},z=function(){for(var e,t,i,n,o,a="",s=0;s<v.shareButtons.length;s++)e=v.shareButtons[s],i=v.getImageURLForShare(e),n=v.getPageURLForShare(e),o=v.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(o)),a+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(a=v.parseShareButtonOut(e,a));l.children[0].innerHTML=a,l.children[0].onclick=O},F=function(e){for(var i=0;i<v.closeElClasses.length;i++)if(t.hasClass(e,"pswp__"+v.closeElClasses[i]))return!0},P=0,$=function(){clearTimeout(x),P=0,u&&y.setIdle(!1)},R=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(x),x=setTimeout(function(){y.setIdle(!0)},v.timeToIdleOutside))},L=function(){v.fullscreenEl&&!t.features.isOldAndroid&&(i||(i=y.getFullscreenAPI()),i?(t.bind(document,i.eventK,y.updateFullscreen),y.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},Z=function(){v.preloaderEl&&(N(!0),d("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&N(!1):N(!0)},v.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,i){e.currItem===i&&N(!0)}))},N=function(e){h!==e&&(k(p,"preloader--active",!e),h=e)},q=function(e){var i=e.vGap;if(E()){var s=v.barsSize;if(v.captionEl&&"auto"===s.bottom)if(a||(a=t.createEl("pswp__caption pswp__caption--fake"),a.appendChild(t.createEl("pswp__caption__center")),n.insertBefore(a,o),t.addClass(n,"pswp__ui--fit")),v.addCaptionHTMLFn(e,a,!0)){var r=a.clientHeight;i.bottom=parseInt(r,10)||44}else i.bottom=s.top;else i.bottom="auto"===s.bottom?0:s.bottom;i.top=s.top}else i.top=i.bottom=0},Y=function(){v.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",$),t.bind(document,"mouseout",R),w=setInterval(function(){P++,2===P&&y.setIdle(!0)},v.timeToIdle/2)})},U=function(){d("onVerticalDrag",function(e){C&&.95>e?y.hideControls():!C&&e>=.95&&y.showControls()});var e;d("onPinchClose",function(t){C&&.9>t?(y.hideControls(),e=!0):e&&!C&&t>.9&&y.showControls()}),d("zoomGestureEnded",function(){e=!1,e&&!C&&y.showControls()})},H=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){D()}},{name:"button--share",option:"shareEl",onInit:function(e){r=e},onTap:function(){D()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){s=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],X=function(){var e,i,o,a=function(n){if(n)for(var a=n.length,s=0;a>s;s++){e=n[s],i=e.className;for(var r=0;r<H.length;r++)o=H[r],i.indexOf("pswp__"+o.name)>-1&&(v[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(n.children);var s=t.getChildByClass(n,"pswp__top-bar");s&&a(s.children)};y.init=function(){t.extend(e.options,I,!0),v=e.options,n=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,U(),d("beforeChange",y.update),d("doubleTap",function(t){var i=e.currItem.initialZoomLevel;e.getZoomLevel()!==i?e.zoomTo(i,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,i){var n=e.target||e.srcElement;n&&n.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),d("bindEvents",function(){t.bind(n,"pswpTap click",T),t.bind(e.scrollWrap,"pswpTap",y.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",y.onMouseOver)}),d("unbindEvents",function(){_||D(),w&&clearInterval(w),t.unbind(document,"mouseout",R),t.unbind(document,"mousemove",$),t.unbind(n,"pswpTap click",T),t.unbind(e.scrollWrap,"pswpTap",y.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",y.onMouseOver),i&&(t.unbind(document,i.eventK,y.updateFullscreen),i.isFullscreen()&&(v.hideAnimationDuration=0,i.exit()),i=null)}),d("destroy",function(){v.captionEl&&(a&&n.removeChild(a),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(n,"pswp__ui--over-close"),t.addClass(n,"pswp__ui--hidden"),y.setIdle(!1)}),v.showAnimationDuration||t.removeClass(n,"pswp__ui--hidden"),d("initialZoomIn",function(){v.showAnimationDuration&&t.removeClass(n,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(n,"pswp__ui--hidden")}),d("parseVerticalMargin",q),X(),v.shareEl&&r&&l&&(_=!0),A(),Y(),L(),Z()},y.setIdle=function(e){u=e,k(n,"ui--idle",e)},y.update=function(){C&&e.currItem?(y.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,o),k(o,"caption--empty",!e.currItem.title)),S=!0):S=!1,_||D(),A()},y.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(i.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},y.updateIndexIndicator=function(){v.counterEl&&(s.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},y.onGlobalTap=function(i){i=i||window.event;var n=i.target||i.srcElement;if(!g)if(i.detail&&"mouse"===i.detail.pointerType){if(F(n))return void e.close();t.hasClass(n,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(i.detail.releasePoint))}else if(v.tapToToggleControls&&(C?y.hideControls():y.showControls()),v.tapToClose&&(t.hasClass(n,"pswp__img")||F(n)))return void e.close()},y.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;k(n,"ui--over-close",F(t))},y.hideControls=function(){t.addClass(n,"pswp__ui--hidden"),C=!1},y.showControls=function(){C=!0,S||y.update(),t.removeClass(n,"pswp__ui--hidden")},y.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},y.getFullscreenAPI=function(){var t,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return c=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),app.config={domain:null,api:"/public/api",request:function(){return{loader:!1,notify:!0}},logger:{method:"addLog",report:!1},share:{title:"Создать крутое резюме и получить престижную работу"},changeStyles:!1},function(){app.define("metrics.public"),app.metrics.public={ver:"1.0",plan:{name:"free",period:"month"},tooltips:{regSocial:!1},offers:{popup:{blog:{subscribe:{show:!1,hide:!1,success:!1,email:!1}}}}}}(),function(e,t,i,n,o){e.define("sections"),e.sections={init:function(){e.plugins.eventsEmitter&&e.plugins.eventsEmitter.init(this),e.device.isPhone&&(i.body.removeClass("appLoading"),e.features.links.init()),o.each(e.sections,function(e){e.init&&e.init()})}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("sections.blog"),e.sections.blog={init:function(){this.el=i.body.children("section-blog-mobile"),this.el.length&&this.render()},render:function(){new e.plugins.scroll.refreshFix(this.el),this.$nav=this.el.find("section-nav-blog-mobile"),this.$nav.length&&this.nav();var t=new e.plugins.scroll.animate({scroll:i.window,container:a.el.find(".blog__grid"),delta:"xxs"});t.start()},nav:function(){function t(){var e=i.window.scrollTop();e>r&&!s?(a.$nav.attr("data-turn",!0),s=!0):e<r&&s&&(a.$nav.removeAttr("data-turn"),s=!1),n=!1}var n=!1,s=!1,r=e.sizes.height;i.window.on("scroll",function(){n||(n=!0,o.raf(t))})}};var a=e.sections.blog}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("sections.blogContent"),e.sections.blogContent={init:function(){this.el=i.body.children("blog-content-mobile"),this.el.length&&this.render()},render:function(){a.subscribe(),a.share(),new e.plugins.scroll.refreshFix(this.el),this.$nav=this.el.find("section-nav-blog-mobile"),this.$nav.length&&this.nav(),a.photoSwipeContainer=document.querySelectorAll(".pswp")[0],this.el.on("click","img",function(){var e=this.getAttribute("src");o.getSizeImage(e,function(t,i){t&&i?a.photoSwipe({image:e,width:t,height:i}):alert("Ошибка чтения фотографии")})})},nav:function(){function e(){var e=i.window.scrollTop();t(e),s=e,n=!1}function t(e){s-e>r?a.$nav.attr("data-turn",!0):e-s>r&&e>l&&a.$nav.attr("data-turn",!1)}var n=!1,s=0,r=10,l=150;i.window.on("scroll",function(){n||(n=!0,o.raf(e))})},share:function(){new e.plugins.share(a.el.find(".blog__social__panel"),{buttons:".blog__social__panel__item",dataAttr:"share"})},subscribe:function(){var i=a.el.find(".blog__subscribe"),n=i.find(".blog__subscribe__button");if(e.metrika.get("offers.popup.blog.subscribe.success"))i.remove();else{var o=t("<blog-subscribe-form style='display:none'>").appendTo(i.find(".blog__subscribe__form"));e.sections.on("afterMounted",function(){e.tag("blog-subscribe-form",function(e){e.one("success fail",function(){i.remove()})})}),n.on("click",function(){n.remove(),o.css("display","block")})}},photoSwipe:function(t){if(!a.active){var i=[{src:t.image,w:t.width,h:t.height}],n={mainClass:"pswp--minimal--dark",barsSize:{top:0,bottom:0},captionEl:!1,fullscreenEl:!1,shareEl:!1,bgOpacity:.85,tapToClose:!0,tapToToggleControls:!1,showAnimationDuration:250},o=t.width/e.sizes.width,s=o>1.5?1.5:o<1?1:o,r=e.sizes.width/t.width*s,l=e.sizes.width/2,c=new PhotoSwipe(a.photoSwipeContainer,PhotoSwipeUI_Default,i,n);c.init(),c.zoomTo(r,{x:l,y:-(.4*e.sizes.height)},450)}}};var a=e.sections.blogContent}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("sections.home"),e.sections.home={theme:"blue",init:function(){this.el=i.body.children("section-home-mobile"),this.el.length&&this.render()},render:function(){a.screens=new e.plugins.screens(a.el,{static:!0,dataAttr:"section"}),a.screens.init();var i=a.el.find(".screen");i.on("show",function(e){var i=t(this).data("theme"),i=i?i:"blue";a.theme!=i&&(a.el.attr("data-theme",i),a.theme=i)}),this.slider(),this.buttons(),this.plans()},buttons:function(){var t=a.el.find('.screen[data-section="intro"]'),i=a.el.find('.screen[data-section="community"]');t.find(".btn").on("click",function(){e.tag("section-auth").open("signup")}),i.find(".btn").on("click",function(){e.tag("section-auth").open("signup")})},plans:function(){var i=a.el.find(".screen[data-section='plans']"),n=i.find(".plan__controls"),o=i.find(".plan__items"),s=i.find(".plan__item[data-item='premium']"),r=i.find(".plan__button");n.on("click",".plan__control__item",function(){var n=t(this),o=n.attr("data-period");n.attr("data-active",!0).siblings().attr("data-active",!1),s.find(".plan__price__value").text(s.attr("data-"+o)),i.attr("data-period",o),e.metrika.set("plan.period",o)}),o.on("click",".plan__item",function(){var n=t(this),o=n.attr("data-item");n.attr("data-active",!0).siblings().attr("data-active",!1),i.attr("data-plan",o),e.metrika.set("plan.name",o)}),r.on("click",function(){var t=i.attr("data-plan");e.tag("section-auth").open("signup",t),e.metrika.set("plan.name",t)})},slider:function(){a.sliderElastic=new e.plugins.sliderElastic(a.el.find(".sliderElastic")),a.sliderElastic.init();var t=function(){a.sliderElastic.isScrolling=!0},i=function(){a.sliderElastic.isScrolling=!1},n=o.debounce(i,100),s=o.debounce(t,20,!0);a.screens.get("scroll").on("scroll",function(){s(),n()})},video:function(){var e=document.getElementById("video"),t=!1;document.addEventListener("touchstart",function(i){t||(t=!0,e.play())},!1)}};var a=e.sections.home}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,o){e.define("sections.menu"),e.sections.menu={init:function(){this.el=i.body.find(".menu"),this.el.length&&this.render()},render:function(){var n=this.el;n.opener=i.body.find(".menu__opener"),n.close=n.find(".menu__close"),n.opener.on("click",function(){n.attr("data-open",!0)}),n.close.on("click",function(){n.attr("data-open",!1)}),n.find(".menu__item__link[data-event]").on("click",function(){e.tag("section-auth").open(t(this).attr("data-event")),a.$auth||a.auth()})},auth:function(){var i=!1;a.$auth=t(e.tag("section-auth").root),a.$auth.find("input[type=text]").on("focus blur",function(e){"focus"==e.type?(i=!0,a.$auth&&a.$auth.attr("data-focused",!0)):(i=!1,a.$auth&&a.$auth.attr("data-focused",!1))})}};var a=e.sections.menu}(app,$,app.$dom,app.events,app.utils);
riot.tag2("section-auth",'<div if="{app.device.isPhone}" class="oScreen__buttons" data-pos="top-right"> <div onclick="{close}" class="button__close" data-color="gray"></div> </div> <auth-signin></auth-signin> <auth-remember></auth-remember> <auth-signup></auth-signup>',"","class=\"{app.device.isPhone ? 'section' : 'oScreen'} zIndex-100 pos-fixed\" data-open=\"false\"",function(t){var i=this;i.active=!1,i.on("mount",function(){location.href.match(/\?signin/)?$afterlag.run(function(){i.open("signin")}):location.href.match(/\?signup/)&&$afterlag.run(function(){i.open("signup",!!location.href.match(/\&plan=premium/)&&"premium")}),$afterlag.xs(function(){i.notify=app.tag("section-notify"),window.ymaps&&ymaps.ready(function(){ymaps.geolocation&&ymaps.geolocation.city&&i.update({location:{country:ymaps.geolocation.country,city:ymaps.geolocation.city,region:ymaps.geolocation.region}})})})}),i.open=function(t,a){i.active=!0,i.root.setAttribute("data-open",!0);var o=i.tags["auth-"+t];o&&o.open&&o.open(a)},i.close=function(){i.root.setAttribute("data-open",!1),i.update({active:!1})}}),riot.tag2("auth-social",'<div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-duration-m" data-balloon="Войти через Facebook" data-balloon-pos="left"> <div class="auth__social__button" data-share="fb"> <icon-fb color="white"></icon-fb> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-xs anim-duration-m" data-balloon="Войти через ВКонтакте" data-balloon-pos="left"> <div class="auth__social__button" data-share="vk"> <icon-vk color="white"></icon-vk> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-s anim-duration-m" data-balloon="Войти через Twitter" data-balloon-pos="left"> <div class="auth__social__button" data-share="tw"> <icon-tw color="white"></icon-tw> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-m anim-duration-m" data-balloon="Войти через Одноклассники" data-balloon-pos="left"> <div class="auth__social__button" data-share="dk"> <icon-dk color="white"></icon-dk> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-l anim-duration-m" data-balloon="Войти через Google+" data-balloon-pos="left"> <div class="auth__social__button" data-share="gl"> <icon-gl color="white"></icon-gl> </div> </div>',"",'class="section auth__social"',function(t){}),riot.tag2("auth-signin",'<form id="form" method="post" action="/login" class="auth__form anim-group1 anim-scale{\'-ease\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="logined" value="true"> <input type="hidden" name="country" value="{location.country}"> <input type="hidden" name="city" value="{location.city}"> <input type="hidden" name="region" value="{location.region}"> <div if="{!app.device.isPhone}" class="auth__close anim-group3 anim-lr anim-delay-xs anim-duration-m"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Авторизация </div> <div class="auth__body"> <div class="mb-m input-group input-group-icon" data-errballoon="{!validate.login.valid ? validate.login.text : null}"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl {input-error : !validate.login.valid}" type="text" placeholder="Логин (ваш email)" autocomplete="off" name="login" value=""> <div class="input-icon"> <svg class="input-svg input-svg-login" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div class="mb-xs input-group input-group-icon" data-errballoon="{!validate.password.valid ? validate.password.text : null}"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl {input-error : !validate.password.valid}" type="password" placeholder="Пароль" autocomplete="off" name="password"> <div class="input-icon"> <svg class="input-svg input-svg-password" xmlns="http://www.w3.org/2000/svg" viewbox="0 -6 30 30" enable-background="new 0 -6 30 30"> <path class="input-svg-color" d="M21.6 8.3c-.2-.2-.5-.3-.9-.3h-.7v-2.6c0-1.3-.5-2.4-1.4-3.2-.9-.8-2.1-1.2-3.6-1.2s-2.7.4-3.6 1.2c-.9.8-1.4 1.9-1.4 3.2v2.6h-.7c-.3 0-.7.1-.9.4-.3.2-.4.5-.4.8v6.1c0 .3.1.5.3.7.2.2.4.3.7.4 1.9.4 3.9.6 6 .6 2 0 4-.2 5.9-.6.3-.1.5-.2.7-.4.2-.2.3-.4.3-.7v-6.1c.1-.3 0-.6-.3-.9zm-8.6-2.4c0-1.3.7-1.9 2-1.9s2 .6 2 1.9v2.1h-4v-2.1z"></path> </svg> </div> </div> <div class="mb-m xs-mb-xs pr-xxs pb-xs text-right"> <span onclick="{show.remember}" class="link-gray-hover-primary text-uppercase fontSize-xs fontFamily-helvetica letterSpacing-l cursor-pointer">Забыли пароль?</span> </div> <div onclick="{sendForm}" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} {btn-loading : loading}"><span class="plr-s">Войти</span></div> <div if="{!app.device.isPhone}" class="mt-xs pt-m pb-xs text-center"> <a onclick="{show.signup}" class="link-gray-hover-primary text-uppercase fontSize-s fontFamily-helvetica letterSpacing-l cursor-pointer">У вас нет аккаунта?</a> </div> </div> <auth-social></auth-social> </form>',"",'class="section auth" data-active="false" data-form="signin"',function(t){var i=this,a=$$(i.form);i.active=!1,i.loading=!1,i.validate={login:{valid:!0,text:"Введите свой логин"},password:{valid:!0,text:"Введите свой пароль"}},i.on("mount",function(){i.animate=new app.plugins.animate(i.root)}),i.on("updated",function(){!i.active&&i.animate.active&&(i.root.setAttribute("data-active",!1),i.animate.hide())}),i.open=function(){i.active=!0,i.root.setAttribute("data-active",!0),i.animate.show()},i.show={signup:function(){i.active=!1,i.root.setAttribute("data-active",!1),i.animate.hide(),i.parent.tags["auth-signup"].open()},remember:function(){i.active=!1,i.root.setAttribute("data-active",!1),i.animate.hide(),i.parent.tags["auth-remember"].open()}},i.onKeydown=function(t){return 13==t.which&&i.sendForm(),!0},i.sendForm=function(){if(!i.loading){var t={login:_.clean(i.login.value,[]),password:_.clean(i.password.value,[])},o=i.validator(t);i.update({loading:o}),o&&setTimeout(function(){$$.post({url:"/login",data:t,dataType:"json",success:function(t,o){if(t&&t.status)if("error"==t.status){var e="Не верный логин и/или пароль";i.parent.notify?i.parent.notify.show({color:"danger",text:e}):alert(e)}else"OK"==t.status&&app.tag("section-loader").show().then(function(){a.submit()})},error:function(){var t="Ошибка авторизации, повторите попытку чуть позже";i.parent.notify?i.parent.notify.show({color:"danger",text:"Ошибка авторизации, повторите попытку чуть позже"}):alert(t)},complete:function(t,a){i.update({loading:!1})}})},300)}},i.validator=function(t){return i.validate.login.valid=!0,i.validate.password.valid=!0,_.each(t,function(t,a){"login"!==a||t.length?"password"!==a||t.length||(i.validate.password.valid=!1):i.validate.login.valid=!1}),_.every(_.pluck(_.values(i.validate),"valid"))},i.close=function(){i.parent.close()}}),riot.tag2("auth-signup",'<form id="form" method="post" action="/register" class="auth__form anim-group1 anim-scale{\'-ease\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="logined" value="true"> <input type="hidden" name="referer" value="{get.referer()}"> <input type="hidden" name="country" value="{location.country}"> <input type="hidden" name="city" value="{location.city}"> <input type="hidden" name="region" value="{location.region}"> <div if="{!app.device.isPhone}" class="auth__close anim-group3 anim-lr anim-delay-xs anim-duration-m"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Регистрация </div> <div class="auth__body"> <div class="mb45 xs-mb-m xs-pb-xxs"> <div class="switcher-group"> <div class="switcher-group-container" style="width:240px"> <input onclick="{changePlan}" onupdate="none" type="radio" name="plan" value="free" id="switcher-plan-free" __checked="{plan == ⁗free⁗}"> <label for="switcher-plan-free">Free</label> <input onclick="{changePlan}" onupdate="none" type="radio" name="plan" value="premium" id="switcher-plan-premium" __checked="{plan == ⁗premium⁗}"> <label for="switcher-plan-premium">Premium</label> <span class="switcher-group-switch"></span> </div> </div> </div> <div class="mb-m input-group input-group-icon" data-errballoon="{!validate.login.valid ? validate.login.text : null}"> <input class="input input-xl {input-error : !validate.login.valid}" type="text" placeholder="Ваш email (логин)" autocomplete="off" name="login" value=""> <div class="input-icon"> <svg class="input-svg input-svg-login" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div class="mb-xs input-group input-group-icon" data-errballoon="{!validate.password.valid ? validate.password.text : null}"> <input class="input input-xl {input-error : !validate.password.valid}" type="text" placeholder="Пароль (мин. из 6 сим-ов)" autocomplete="off" name="password"> <div class="input-icon"> <svg class="input-svg input-svg-password" xmlns="http://www.w3.org/2000/svg" viewbox="0 -6 30 30" enable-background="new 0 -6 30 30"> <path class="input-svg-color" d="M21.6 8.3c-.2-.2-.5-.3-.9-.3h-.7v-2.6c0-1.3-.5-2.4-1.4-3.2-.9-.8-2.1-1.2-3.6-1.2s-2.7.4-3.6 1.2c-.9.8-1.4 1.9-1.4 3.2v2.6h-.7c-.3 0-.7.1-.9.4-.3.2-.4.5-.4.8v6.1c0 .3.1.5.3.7.2.2.4.3.7.4 1.9.4 3.9.6 6 .6 2 0 4-.2 5.9-.6.3-.1.5-.2.7-.4.2-.2.3-.4.3-.7v-6.1c.1-.3 0-.6-.3-.9zm-8.6-2.4c0-1.3.7-1.9 2-1.9s2 .6 2 1.9v2.1h-4v-2.1z"></path> </svg> </div> </div> <div class="mb-m xs-mb-xs pr-xxs pb-xs text-right"> <span if="{!app.device.isPhone}" onclick="{openSignIn}" class="link-gray-hover-primary text-uppercase fontSize-xs fontFamily-helvetica letterSpacing-l cursor-pointer">У вас уже есть аккаунт?</span> </div> <div onclick="{sendForm}" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} mb-xs xs-mb0 {btn-loading : loading}">Создать аккаунт</div> </div> <auth-social></auth-social> </form>',"",'class="section auth" data-active="false" data-form="signup"',function(t){var i=this,a=$$(i.form);i.active=!1,i.plan="free",i.loading=!1,i.validate={login:{valid:!0,text:null,vars:{v1:"Введите свой email",v2:"Введите корректный email"}},password:{valid:!0,text:null,vars:{v1:"Введите свой пароль",v2:"Введите пароль мин. из 6 символов"}}},i.on("mount",function(){i.animate=new app.plugins.animate(i.root)}),i.on("updated",function(){!i.active&&i.animate.active&&(i.root.setAttribute("data-active",!1),i.animate.hide())}),i.get={referer:function(){return!1}},i.open=function(t){i.active=!0,i.update({plan:t?t:app.metrika.get("plan.name")}),i.root.setAttribute("data-active",!0),i.animate.show(function(){app.device.isPhone||app.metrika.get("tooltips.regSocial")||(app.tag("section-notify").show({text:"Для регистрации вы можете использовать свою социальную сеть",pos:"bottom-left",timeout:5}),app.metrika.set("tooltips.regSocial",!0))})},i.openSignIn=function(){i.active=!1,i.root.setAttribute("data-active",!1),i.animate.hide(),i.parent.tags["auth-signin"].open()},i.changePlan=function(t){app.metrika.set("plan.name",t.target.value)},i.sendForm=function(){if(!i.loading){var t={login:_.clean(i.login.value,[]),password:_.clean(i.password.value,[])},o=i.validator(t);i.update({loading:o}),o&&setTimeout(function(){$$.post({url:"/register",data:t,dataType:"json",success:function(t,i){t&&t.status&&("error"==t.status?app.tag("section-notify").show({color:"info",text:"Указанный email уже используется"}):"OK"==t.status&&app.tag("section-loader").show().then(function(){a.submit()}))},error:function(){app.tag("section-notify").show({color:"danger",text:"Ошибка регистрации, повторите попытку чуть позже"})},complete:function(t,a){i.update({loading:!1})}})},300)}},i.validator=function(t){return i.validate.login.valid=!0,i.validate.password.valid=!0,_.each(t,function(t,a){"login"===a?t.length?_.isEmail(t)||(i.validate.login.valid=!1,i.validate.login.text=i.validate.login.vars.v2):(i.validate.login.valid=!1,i.validate.login.text=i.validate.login.vars.v1):"password"===a&&(t.length?t.length<6&&(i.validate.password.valid=!1,i.validate.password.text=i.validate.password.vars.v2):(i.validate.password.valid=!1,i.validate.password.text=i.validate.password.vars.v1))}),_.every(_.pluck(_.values(i.validate),"valid"))},i.close=function(){i.parent.close()}}),riot.tag2("auth-remember",'<form method="post" action="/auth" class="auth__form anim anim-scale{\'-zoom\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="logined" value="true"> <div if="{!app.device.isPhone}" class="auth__close"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Восстановить пароль <div class="auth__subtitle">Отправить на свой email инструкцию по сбросу пароля.</div> </div> <div class="auth__body"> <div class="mb-l input-group input-group-icon"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl" type="text" placeholder="Введите свой email (логин)" autocomplete="off" name="login" value=""> <div class="input-icon"> <svg class="input-svg" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div id="submit" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'}">Отправить</div> </div> </form>',"",'class="section auth {showAnim : animate}" data-active="{active}" data-form="remember"',function(t){var i=this;i.active=!1,i.on("updated",function(){!i.active&&i.animate&&i.update({animate:!1})}),i.open=function(){i.update({active:!0,animate:!0})},i.onKeydown=function(t){return!0},i.openAuth=function(){i.animate=!1,i.parent.tags["auth-form"].open()},i.close=function(){i.parent.close()}}),riot.tag2("section-notify",'<div onclick="{hide}" name="notify" class="notify {opts.size ? \'notify-\' + opts.size : \'notify-m\'}" data-color="{opts.color ? opts.color : ⁗primary⁗}" riot-style="{opts.width ? \'width:\' + opts.width : null}">{opts.text}</div>',"",'class="notify-wrapper" data-active="{active}" data-pos="{opts.pos ? opts.pos : ⁗top-left⁗}"',function(t){var i=this;i.active=!1,i.timeout=2,i.interval=null,i.opts={pos:"top-left"},i.on("mount",function(){setTimeout(function(){i.root.style.display="block"},20)}),i.show=function(t){return clearTimeout(i.interval),"undefined"==typeof t.timeout&&(t.color||(t.timeout=1)),i.active&&i.autoHide(t),t.pos!=i.opts.pos?(i.update({opts:t}),setTimeout(function(){i.update({active:!0})},200)):i.update({opts:t,active:!0}),new Promise(function(a,o){_.onEndTransition(i.notify,function(){return i.autoHide(t),a()})})},i.autoHide=function(t){t.timeout!==!1&&(i.interval=setTimeout(function(){i.hide()},t.timeout?1e3*t.timeout:1e3*i.timeout))},i.hide=function(){i.update({active:!1})}}),riot.tag2("section-loader",'<div class="loader-spinner"></div>',"",'class="loader" data-show="{active}" data-color="{color}"',function(t){var i=this;i.default=function(){return{color:null,active:!0}},i.show=function(t){return i.update(_.extend(i.default(),t)),new Promise(function(t,a){_.onEndTransition(i.root,function(){return t()})})},i.hide=function(){i.update({active:!1})}}),riot.tag2("blog-subscribe-form",'<div class="input-group input-group-icon"> <div onclick="{success}" onupdate="none" class="input-group-addon flex-centered bg-blue borderRadius-m btn-active"> <svg class="w24 h24" style="margin-top:3px" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 511.99998 639.999975" version="1.1" x="0px" y="0px"><g transform="translate(-91.214475,-152.15558)"><g transform="matrix(0,-1.2428946,1.2437461,0,-150.79005,839.70654)"><rect ry="37.436085" y="250.03104" x="308.55121" height="274.84021" width="74.872169" style="fill:#fff"></rect><rect ry="37.46793" transform="matrix(0.70650574,0.70770731,-0.70650574,0.70770731,0,0)" y="-159.08594" x="570.86584" height="313.4476" width="74.93586" style="fill:#fff"></rect><rect ry="37.46793" transform="matrix(0.70650574,-0.70770731,0.70650574,0.70770731,0,0)" y="332.36725" x="-154.34863" height="313.4476" width="74.93586" style="fill:#fff"></rect></g></g></svg> </div> <input name="input" class="input input-m {input-error : error}" type="text" placeholder="E-mail" autocomplete="off"> <div class="input-icon"> <svg class="input-svg" viewbox="3 -3 24 24"><path class="{error ? \'fill-red\' : \'input-svg-color\'}" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div>',"","",function(t){var i=this;i.success=function(){_.isEmail(i.input.value)?app.request("addBlogSubscribe",{email:i.input.value}).then(function(){app.metrika.set("offers.popup.blog.subscribe.success",!0),i.trigger("success")},function(){i.trigger("fail")}):i.update({error:!0})}}),riot.tag2("icon-fb",'<svg class="icon-fb {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M60.5 32.5c-1.7-.6-4.8-.7-6.5-.7-5.1 0-7.2 4.1-7.2 8.9v3.2h-3v6.4h3V68H53V50.3h6v-6.4h-6v-3.8c0-1.6 2.6-2.4 3.7-2.4 1 0 2 .2 2.9.5l.9-5.7"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-vk",'<svg class="icon-vk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.7 49.5v-.1c2.3-1 3.5-3.1 3.5-5.6 0-5.6-5.2-6-9.5-6h-9.9v26h10.8c5.1 0 10.3-2 10.3-8 0-3.4-2-5.6-5.2-6.3zm-8.9-7h1.9c1.9 0 3.9.2 3.9 2.6 0 2.7-2 2.9-4.1 2.9h-1.8v-5.5h.1zM50 59h-2.2v-6.5h3c2.3 0 4.5.3 4.5 3.2 0 3.1-2.9 3.3-5.3 3.3z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-tw",'<svg class="icon-tw {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M63.8 41.8c1.5-.8 2.6-2.1 3.1-3.6-1.4.7-2.9 1.3-4.5 1.6-1.3-1.3-3.2-2-5.1-2-3.9 0-7 2.9-7 6.5 0 .5 0 1 .2 1.5-5.6-.4-10.9-2.8-14.5-6.9-.6 1-.9 2.1-.9 3.3 0 2.2 1.2 4.2 3.1 5.4-1.2 0-2.2-.3-3.2-.8v.1c-.1 3.1 2.3 5.7 5.6 6.3-.6.2-1.2.2-1.9.2-.4 0-.9 0-1.3-.1.9 2.6 3.6 4.5 6.5 4.5-2.5 1.8-5.5 2.8-8.7 2.8-.5 0-1.1 0-1.6-.1 3.2 1.9 6.9 2.9 10.8 2.9 8.1 0 14.9-4 18.2-10.9 1.1-2.4 1.8-4.9 1.8-7.5v-.9c1.4-.9 2.6-2 3.5-3.3-1.4.5-2.7.9-4.1 1z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-dk",'<svg class="icon-dk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.3 52.2c-2 .9-4.1 1.5-6.3 1.5-2.3 0-4.1-.6-6.2-1.5-.4-.2-.8-.3-1.3-.3-1.5 0-2.7 1.2-2.7 2.6 0 2.6 4.5 3.5 6.6 4l-5.3 4.9c-.5.5-.8 1.1-.8 1.8 0 1.4 1.2 2.6 2.7 2.6.7 0 1.4-.2 1.9-.7l5-4.7 5 4.7c.5.5 1.2.7 1.9.7 1.5 0 2.7-1.2 2.7-2.6 0-.7-.3-1.3-.8-1.8l-5.3-4.9c2.2-.4 6.6-1.5 6.6-4 0-1.3-1.2-2.6-2.7-2.6-.2-.1-.6 0-1 .3M50.1 34.3c-5.3 0-9.2 4-9.2 8.7 0 4.6 4 8.7 9.2 8.7 5.3 0 9.2-4 9.2-8.7 0-4.6-4-8.7-9.2-8.7zm0 12.3c-2.2 0-3.8-1.7-3.8-3.6 0-1.9 1.7-3.6 3.8-3.6 2.2 0 3.8 1.7 3.8 3.6 0 1.9-1.7 3.6-3.8 3.6z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-gl",'<svg class="icon-gl {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" enable-background="new 0 0 128 128" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd"></rect><path clip-rule="evenodd" d="M40.654,55.935v16.13 c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194 s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877 c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727 c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823 H128V56.742H113.912z" fill="#fff" fill-rule="evenodd"></path></svg>',"",'class="icon"',function(t){});
(function(){

    app.metrika = new app.plugins.metrika({
        key: "public",
        data: app.metrics.public
    });

    app.sections.init();

    riot.compile(function(e){
        app.sections.trigger("beforeMounted");
        riot.mount("*", {app: true});
        app.sections.trigger("afterMounted");
    });

})();
