riot.tag2("section-auth",'<div if="{app.device.isPhone}" class="oScreen__buttons" data-pos="top-right"> <div onclick="{close}" class="button__close" data-color="gray"></div> </div> <auth-signin></auth-signin> <auth-remember></auth-remember> <auth-signup></auth-signup>',"",'class="{app.device.isPhone ? \'section\' : \'oScreen\'} zIndex-100 pos-fixed" data-open="false" style="display:none"',function(t){var e=this;e.active=!1,e.ymaps=!1,e.firstOpen=!1,e.on("mount",function(){location.href.match(/\?signin/)?$afterlag.run(function(){e.open("signin")}):location.href.match(/\?signup/)&&$afterlag.run(function(){e.open("signup",!!location.href.match(/\&plan=premium/)&&"premium")}),app.tag("section-notify",function(t){e.notify=t}),window.ymapsReady=function(){e.ymaps=window.ymaps||{},e.ymaps.geolocation&&e.ymaps.geolocation.city&&e.update({location:{country:e.ymaps.geolocation.country,city:e.ymaps.geolocation.city,region:e.ymaps.geolocation.region}})},app.$dom.window.on("message",function(t){var i=t.originalEvent.data;if(i&&i.user){var s=_.isJSON(i.user)&&JSON.parse(i.user)||i.user;if(s.error)app.tag("section-notify").show({color:"danger",text:"Ошибка проведения верификации, повторите попытку чуть позже"});else{var a=JSON.stringify(s);$$.post({url:"/auth",data:{oauth:a},dataType:"json",success:function(t,i){var n={oauth:s.channel,avatar:s.avatar,name:s.name,surname:s.surname};t.user&&(n.avatar=t.user.photo||n.avatar,n.name=t.user.name,n.surname=t.user.surname),app.tag("section-loader-user").show({user:n}).then(function(){e.tags["auth-"+t.auth].form.removeAttr("target"),e.tags["auth-"+t.auth].form.find("input[name=oauth]").val(a),e.submit(e.tags["auth-"+t.auth].form)})},error:function(){var t="Ошибка авторизации, повторите попытку чуть позже";e.auth.notify?e.auth.notify.show({color:"danger",text:"Ошибка авторизации, повторите попытку чуть позже"}):alert(t)}})}}})}),e.referer=function(){return app.metrika.get("referer")},e.notifyOAuth=function(){app.metrika.get("notify.oauth")&&!location.hash.match(/oauth/)||(app.tag("section-notify").show({color:"info",text:"Для регистрации/авторизации в один клик, выберите свою социальную сеть",pos:app.device.isPhone?"top-left":"bottom-left",timeout:app.device.isPhone?3.5:5}),app.metrika.set("notify.oauth",!0))},e.onNotify=function(t,i,s){t&&(e.notify?e.notify.show({color:i,text:t,timeout:s||1.5}):alert(t))},e.oauth=function(t){var e=t.currentTarget.getAttribute("data-social");window.open("/auth/"+e,"","width=600,height=400,left=350,top=170,status=no,toolbar=no,menubar=no")},e.submit=function(t){$afterlag.run(function(){t.submit()},{iterations:5,timeout:500,delay:200})},e.open=function(t,i){e.firstOpen?e._open(t,i):(e.firstOpen=!0,e.root.style.display="block",$afterlag.run(function(){e._open(t,i)}))},e._open=function(t,i){e.active=!0,e.root.setAttribute("data-open",!0);var s=e.tags["auth-"+t];if(s&&s.open&&s.open(i),e.ymaps===!1){e.ymaps="load";var a=document.createElement("script");a.src="https://api-maps.yandex.ru/2.0-stable/?load=package.standard&lang=ru-RU&onload=ymapsReady",document.head.appendChild(a)}},e.close=function(){e.root.setAttribute("data-open",!1);var t=e.tags["auth-"+e.section];t&&t.active&&t.close()}}),riot.tag2("auth-social",'<div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-duration-m" data-balloon="Войти через Facebook" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="fb"> <icon-fb color="white"></icon-fb> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-xs anim-duration-m" data-balloon="Войти через ВКонтакте" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="vk"> <icon-vk color="white"></icon-vk> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-s anim-duration-m" data-balloon="Войти через Twitter" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="tw"> <icon-tw color="white"></icon-tw> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-m anim-duration-m" data-balloon="Войти через Одноклассники" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="dk"> <icon-dk color="white"></icon-dk> </div> </div> <div class="pos-rel anim-group2 anim-{app.device.isPhone ? \'bt\' : \'rl\'} anim-delay-l anim-duration-m" data-balloon="Войти через Google" data-balloon-pos="left"> <div onclick="{parent.auth.oauth}" onupdate="none" class="auth__social__button" data-social="gl"> <icon-glc></icon-glc> </div> </div>',"",'class="section auth__social"',function(t){}),riot.tag2("auth-signin",'<form ref="form" method="post" action="/auth" class="auth__form anim-group1 anim-scale{\'-ease\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="oauth" value="false"> <input type="hidden" name="auth" value="signin"> <input type="hidden" name="logined" value="true"> <input type="hidden" name="referer" riot-value="{parent.referer()}"> <input type="hidden" name="country" riot-value="{parent.location.country}"> <input type="hidden" name="city" riot-value="{parent.location.city}"> <input type="hidden" name="region" riot-value="{parent.location.region}"> <div if="{!app.device.isPhone}" class="auth__close anim-group3 anim-lr anim-delay-xs anim-duration-m"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Авторизация </div> <div class="auth__body"> <div class="mb-m input-group input-group-icon" data-errballoon="{!validate.login.valid ? validate.login.text : null}"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl {input-error : !validate.login.valid}" type="text" placeholder="Логин (ваш email)" autocomplete="off" name="login" ref="login"> <div class="input-icon"> <svg class="input-svg input-svg-login" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div class="mb-xs input-group input-group-icon" data-errballoon="{!validate.password.valid ? validate.password.text : null}"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl {input-error : !validate.password.valid}" type="password" placeholder="Пароль" autocomplete="off" name="password" ref="password"> <div class="input-icon"> <svg class="input-svg input-svg-password" xmlns="http://www.w3.org/2000/svg" viewbox="0 -6 30 30" enable-background="new 0 -6 30 30"> <path class="input-svg-color" d="M21.6 8.3c-.2-.2-.5-.3-.9-.3h-.7v-2.6c0-1.3-.5-2.4-1.4-3.2-.9-.8-2.1-1.2-3.6-1.2s-2.7.4-3.6 1.2c-.9.8-1.4 1.9-1.4 3.2v2.6h-.7c-.3 0-.7.1-.9.4-.3.2-.4.5-.4.8v6.1c0 .3.1.5.3.7.2.2.4.3.7.4 1.9.4 3.9.6 6 .6 2 0 4-.2 5.9-.6.3-.1.5-.2.7-.4.2-.2.3-.4.3-.7v-6.1c.1-.3 0-.6-.3-.9zm-8.6-2.4c0-1.3.7-1.9 2-1.9s2 .6 2 1.9v2.1h-4v-2.1z"></path> </svg> </div> </div> <div class="mb-m xs-mb-xs pr-xxs pb-xs text-right"> <span onclick="{show.remember}" onupdate="none" class="link-gray-hover-primary text-uppercase fontSize-xs fontFamily-helvetica letterSpacing-l cursor-pointer">Забыли пароль?</span> </div> <div onclick="{sendForm}" onupdate="none" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} {btn-loading : loading}"><span class="plr-s">Войти</span></div> <div if="{!app.device.isPhone}" class="mt-xs pt-m pb-xs text-center"> <a onclick="{show.signup}" onupdate="none" class="link-gray-hover-primary text-uppercase fontSize-s fontFamily-helvetica letterSpacing-l cursor-pointer">У вас нет аккаунта?</a> </div> </div> <auth-social></auth-social> </form>',"",'class="section auth" data-active="false" data-form="signin"',function(t){var e=this;e.active=!1,e.loading=!1,e.validate={login:{valid:!0,text:"Введите свой логин"},password:{valid:!0,text:"Введите свой пароль"}},e.on("mount",function(){e.auth=e.parent,e.form=$$(e.refs.form),e.animate=new app.plugins.animate(e.root)}),e.on("updated",function(){!e.active&&e.animate.active&&(e.root.setAttribute("data-active",!1),e.animate.hide())}),e.open=function(){e.active=!0,e.auth.section="signin",e.root.setAttribute("data-active",!0),e.animate.show(function(){location.hash.match(/activate/)?e.auth.onNotify("Ваш доступ успешно активирован, можно использовать свой логин и пароль для входа","info",5):e.parent.notifyOAuth()})},e.show={signup:function(){e.active=!1,e.root.setAttribute("data-active",!1),e.animate.hide(),e.auth.tags["auth-signup"].open()},remember:function(){e.active=!1,e.root.setAttribute("data-active",!1),e.animate.hide(),e.auth.tags["auth-remember"].open()}},e.onKeydown=function(t){return 13==t.which&&(t.preventDefault(),e.sendForm()),!0},e.sendForm=function(){if(!e.loading){var t={auth:"signin",login:_.clean(e.refs.login.value,[]),password:_.clean(e.refs.password.value,[])},i=e.validator(t);e.update({loading:i}),i&&setTimeout(function(){$$.post({url:"/auth",data:t,dataType:"json",success:function(t,i){t&&t.status&&("error"==t.status?e.auth.onNotify("Не верный логин и/или пароль","danger"):"notActivate"==t.status?e.auth.onNotify("Ваш доступ еще не активирован, проверьте свой e-mail c письмом активации","warning"):"OK"==t.status&&app.tag("section-loader-user").show({user:t.user}).then(function(){e.parent.submit(e.form)}))},error:function(){e.auth.onNotify("Ошибка авторизации, повторите попытку чуть позже","danger")},complete:function(t,i){e.update({loading:!1})}})},300)}},e.validator=function(t){return e.validate.login.valid=!0,e.validate.password.valid=!0,_.each(t,function(t,i){"login"!==i||t.length?"password"!==i||t.length||(e.validate.password.valid=!1):e.validate.login.valid=!1}),_.every(_.pluck(_.values(e.validate),"valid"))},e.close=function(){e.active=!1,app.device.isPhone?e.root.setAttribute("data-active",!1):e.animate.hide(function(){e.root.setAttribute("data-active",!1)}),e.auth.section=null,e.auth.close()}}),riot.tag2("auth-signup",'<form ref="form" method="post" action="/auth" class="auth__form anim-group1 anim-scale{\'-ease\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}" target="sendform"> <input type="hidden" name="oauth" value="false"> <input type="hidden" name="auth" value="signup"> <input type="hidden" name="logined" value="true"> <input type="hidden" name="referer" riot-value="{parent.referer()}"> <input type="hidden" name="country" riot-value="{parent.location.country}"> <input type="hidden" name="city" riot-value="{parent.location.city}"> <input type="hidden" name="region" riot-value="{parent.location.region}"> <div if="{!app.device.isPhone}" class="auth__close anim-group3 anim-lr anim-delay-xs anim-duration-m"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Регистрация </div> <div class="auth__body"> <div class="pos-abs-full anim anim-bt-ease anim-duration-l anim-delay-xs {success ? \'animated\' : \'pointerEvents-none\'}"> <div class="flex-column-centered pos-centered pt-l w80p"> <div class="flex-centered w110 h110 bg-green borderRadius-circle anim anim-scale anim-delay-m {success ? \'animated\' : \'pointerEvents-none\'}"> <svg class="w96 h96" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 40 40"> <path d="M15.57,26.49l-3.87-3.7a2.52,2.52,0,0,1,0-3.49l0,0a2.35,2.35,0,0,1,3.39,0L17,21l8-7.35a2.43,2.43,0,0,1,3.3,0l0,0a2.12,2.12,0,0,1,0,3.12L18.16,26.49a1.91,1.91,0,0,1-2.59,0" class="fill-white"></path> </svg> </div> <h2 class="mt-l c-green">Отлично, осталось активировать!</h2> <h3 class="c-gray mt-m fontWeight-normal lineHeight-36">Проверьте <a if="{emailLink()}" href="{emailLink()}" class="link-blue link-underline">свой e-mail</a><span if="{!emailLink()}">свой e-mail</span>, на него отправлено письмо для активации аккаунта.</h3> </div> </div> <div class="anim anim-scale-ease anim-duration-m {success ? \'pointerEvents-none\' : \'animated\'}"> <div class="mb45 xs-mb-m xs-pb-xxs"> <div class="switcher-group"> <div class="switcher-group-container" style="width:240px"> <input type="radio" name="plan" value="free" __checked="{plan == ⁗free⁗}"> <label onclick="{changePlan}">Free</label> <input type="radio" name="plan" value="premium" __checked="{plan == ⁗premium⁗}"> <label onclick="{changePlan}">Premium</label> <span class="switcher-group-switch"></span> </div> </div> </div> <div class="mb-m input-group input-group-icon" data-errballoon="{!validate.login.valid ? validate.login.text : null}"> <input class="input input-xl {input-error : !validate.login.valid}" type="text" placeholder="Ваш email (логин)" autocomplete="off" name="login" ref="login"> <div class="input-icon"> <svg class="input-svg input-svg-login" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div class="mb-xs input-group input-group-icon" data-errballoon="{!validate.password.valid ? validate.password.text : null}"> <input class="input input-xl {input-error : !validate.password.valid}" type="text" placeholder="Пароль (мин. из 6 сим-ов)" autocomplete="off" name="password" ref="password"> <div class="input-icon"> <svg class="input-svg input-svg-password" xmlns="http://www.w3.org/2000/svg" viewbox="0 -6 30 30" enable-background="new 0 -6 30 30"> <path class="input-svg-color" d="M21.6 8.3c-.2-.2-.5-.3-.9-.3h-.7v-2.6c0-1.3-.5-2.4-1.4-3.2-.9-.8-2.1-1.2-3.6-1.2s-2.7.4-3.6 1.2c-.9.8-1.4 1.9-1.4 3.2v2.6h-.7c-.3 0-.7.1-.9.4-.3.2-.4.5-.4.8v6.1c0 .3.1.5.3.7.2.2.4.3.7.4 1.9.4 3.9.6 6 .6 2 0 4-.2 5.9-.6.3-.1.5-.2.7-.4.2-.2.3-.4.3-.7v-6.1c.1-.3 0-.6-.3-.9zm-8.6-2.4c0-1.3.7-1.9 2-1.9s2 .6 2 1.9v2.1h-4v-2.1z"></path> </svg> </div> </div> <div class="mb-m xs-mb-xs pr-xxs pb-xs text-right"> <span if="{!app.device.isPhone}" onclick="{openSignIn}" onupdate="none" class="link-gray-hover-primary text-uppercase fontSize-xs fontFamily-helvetica letterSpacing-l cursor-pointer">У вас уже есть аккаунт?</span> </div> <div onclick="{sendForm}" onupdate="none" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} mb-xs xs-mb0 {btn-loading : loading}">Создать аккаунт</div> </div> </div> <auth-social></auth-social> <iframe name="sendform" class="pos-bl opacity-0 w1px h1px zIndex--1"></iframe> </form>',"",'class="section auth" data-active="false" data-form="signup"',function(t){var e=this;e.active=!1,e.plan=app.metrika.get("plan.name")||"free",e.loading=!1,e.validate={login:{valid:!0,text:null,vars:{v1:"Введите свой email",v2:"Введите корректный email"}},password:{valid:!0,text:null,vars:{v1:"Введите свой пароль",v2:"Введите пароль мин. из 6 символов"}}},e.on("mount",function(){e.auth=e.parent,e.form=$$(e.refs.form),e.animate=new app.plugins.animate(e.root)}),e.on("updated",function(){!e.active&&e.animate.active&&(e.root.setAttribute("data-active",!1),e.animate.hide())}),e.open=function(t){e.active=!0,e.auth.section="signup",t&&t!=e.plan&&(e.update({plan:t}),app.metrika.set("plan.name",t)),e.root.setAttribute("data-active",!0),e.animate.show(function(){e.parent.notifyOAuth()})},e.openSignIn=function(){e.active=!1,e.root.setAttribute("data-active",!1),e.animate.hide(),e.auth.tags["auth-signin"].open()},e.changePlan=function(t){e.plan=t.target.previousElementSibling.value,app.metrika.set("plan.name",e.plan)},e.sendForm=function(){if(!e.loading){var t={auth:"signup",login:_.clean(e.refs.login.value,[]),password:_.clean(e.refs.password.value,[])},i=e.validator(t);e.update({loading:i}),i&&setTimeout(function(){$$.post({url:"/auth",data:t,dataType:"json",success:function(t,i){t&&t.status&&("error"==t.status?e.auth.onNotify("К сожалению, указанный e-mail уже кем-то используется","warning"):"OK"==t.status&&(e.update({success:!0}),e.parent.submit(e.form)))},error:function(){e.auth.onNotify("Ошибка регистрации, повторите попытку чуть позже","danger")},complete:function(t,i){e.update({loading:!1})}})},300)}},e.validator=function(t){return e.validate.login.valid=!0,e.validate.password.valid=!0,_.each(t,function(t,i){"login"===i?t.length?_.isEmail(t)||(e.validate.login.valid=!1,e.validate.login.text=e.validate.login.vars.v2):(e.validate.login.valid=!1,e.validate.login.text=e.validate.login.vars.v1):"password"===i&&(t.length?t.length<6&&(e.validate.password.valid=!1,e.validate.password.text=e.validate.password.vars.v2):(e.validate.password.valid=!1,e.validate.password.text=e.validate.password.vars.v1))}),_.every(_.pluck(_.values(e.validate),"valid"))},e.emailLink=function(){if(e.refs.login.value&&_.isEmail(e.refs.login.value))return _.emailLinkProvider(e.refs.login.value)},e.close=function(){e.active=!1,app.device.isPhone?e.root.setAttribute("data-active",!1):e.animate.hide(function(){e.root.setAttribute("data-active",!1)}),e.auth.section=null,e.auth.close()}}),riot.tag2("auth-remember",'<form ref="form" action="#" class="auth__form anim-group1 anim-scale{\'-zoom\' : app.device.isPhone}" duration-show="m" duration-hide="{app.device.isPhone ? \'s\' : \'m\'}"> <input type="hidden" name="logined" value="true"> <div if="{!app.device.isPhone}" class="auth__close"> <div onclick="{close}" onupdate="none" class="auth__close__button"></div> </div> <div if="{app.device.isPhone}" class="auth__logo anim-group1 anim-fadeIn anim-duration-m"></div> <div class="auth__header"> Восстановить пароль <div class="auth__subtitle">Отправить на свой email инструкцию по сбросу пароля.</div> </div> <div class="auth__body"> <div class="pos-abs-full anim anim-bt-ease anim-duration-l anim-delay-xs {success ? \'animated\' : \'pointerEvents-none\'}"> <div class="flex-column-centered pos-centered pt-l w80p"> <h2 class="mt-l c-green">Отлично, письмо отправлено!</h2> <h3 class="c-gray mt-m fontWeight-normal lineHeight-36">Проверьте <a if="{emailLink()}" href="{emailLink()}" class="link-blue link-underline">свой e-mail</a><span if="{!emailLink()}">свой e-mail</span>, на него отправлено письмо по сбросу пароля.</h3> </div> </div> <div class="anim anim-scale-ease anim-duration-m {success ? \'pointerEvents-none\' : \'animated\'}"> <div class="mb-l input-group input-group-icon"> <input onkeydown="{onKeydown}" onupdate="none" class="input input-xl" type="text" placeholder="Введите свой email (логин)" autocomplete="off" ref="login" value=""> <div class="input-icon"> <svg class="input-svg" viewbox="3 -3 24 24"><path class="input-svg-color" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div> <div onclick="{sendForm}" onupdate="none" class="btn btn-xxl btn-{app.device.isPhone ? \'success\' : \'default-hover-success\'} {btn-loading : loading}">Отправить</div> </div> </div> </form>',"",'class="section auth" data-active="false" data-form="remember"',function(t){var e=this;e.active=!1,e.on("mount",function(){e.auth=e.parent,e.form=$$(e.refs.form),e.animate=new app.plugins.animate(e.root)}),e.on("updated",function(){!e.active&&e.animate.active&&(e.root.setAttribute("data-active",!1),e.animate.hide())}),e.open=function(){e.active=!0,e.parent.section="remember",e.root.setAttribute("data-active",!0),e.animate.show()},e.onKeydown=function(t){return 13==t.which&&(t.preventDefault(),e.sendForm()),!0},e.sendForm=function(){if(!e.loading){if(!_.isEmail(e.refs.login.value))return void e.auth.onNotify("Введите e-mail, который вы вводили в момент регистрации аккаунта","info",3);e.update({loading:!0}),setTimeout(function(){$$.post({url:"/remember",data:{login:_.clean(e.refs.login.value)},dataType:"json",success:function(t,i){t&&t.status&&("error"==t.status?e.auth.onNotify("Указанный e-mail не зарегистрирован","danger"):"OK"==t.status&&e.update({success:!0}))},error:function(){e.auth.onNotify("Ошибка проведения операции, повторите попытку чуть позже","danger")},complete:function(t,i){e.update({loading:!1})}})},300)}},e.openAuth=function(){e.parent.tags["auth-form"].open()},e.emailLink=function(){if(e.refs.login.value&&_.isEmail(e.refs.login.value))return _.emailLinkProvider(e.refs.login.value)},e.close=function(){e.active=!1,app.device.isPhone?e.root.setAttribute("data-active",!1):e.animate.hide(function(){e.root.setAttribute("data-active",!1)}),e.parent.section=null,e.parent.close()}}),riot.tag2("section-notify",'<div onclick="{hide}" onupdate="none" ref="notify" class="notify {\'notify-\' + size}" data-color="{color}" riot-style="{width ? \'width:\' + width : null}">{text}</div>',"",'class="notify-wrapper" data-active="{active}" data-pos="{pos}"',function(t){var e=this;e.active=!1,e.interval=null,e.default=function(){return{active:!0,timeout:1.5,pos:"top-left",size:"m",color:"primary"}},e.on("mount",function(){e.notify=e.refs.notify,$afterlag.run(function(){e.update(_.extend(e.default(),{active:!1}))})}),e.show=function(t){if(!e.active)return e.active=!0,clearTimeout(e.interval),e.root.style.display="block",$afterlag.run(function(){e.update(_.extend(e.default(),t))}),new Promise(function(t,i){_.onEndTransition(e.notify,function(){return e.autoHide(),t()})})},e.autoHide=function(){e.timeout!==!1&&(e.interval=setTimeout(function(){e.hide()},1e3*e.timeout))},e.hide=function(){clearTimeout(e.interval),e.update({active:!1}),_.onEndTransition(e.notify,function(){e.root.style.display="none"})}}),riot.tag2("section-loader-user",'<div class="loader-container"> <div if="{user.oauth || user.photo}" class="loader-user" riot-style="{user.photo ? \'background-image:url(\' + user.photo + \')\' : null}" data-oauth="{user.oauth}"> <div if="{user.avatar}" class="loader-user-avatar" riot-style="background-image:url({user.avatar})"></div> </div> <div if="{!user.oauth && !user.photo}" class="loader-user" data-empty="true"></div> <div class="loader-spinner"></div> <div class="loader-text"> <div class="loader-name">{user.name || user.surname ? user.name + \' \' + user.surname : \'Пользователь\'}</div> <div class="loader-title">{user.title || \'Вхожу в кабинет\'}</div> </div> </div>',"",'class="loader" data-show="{active}" data-color="{color}" data-loader="user"',function(t){var e=this;e.default=function(){return{user:null,color:null,active:!0}},e.show=function(t){return app.$dom.body.addClass("no-scroll"),e.update(_.extend(e.default(),t)),new Promise(function(t,i){_.onEndTransition(e.root,function(){return e.root.setAttribute("data-fadeIn",!0),t()})})},e.hide=function(){e.update({active:!1})}}),riot.tag2("oscreen-loader",'<div class="oScreen__loader__progress" riot-style="width:{status}%" data-anim="{animate}"></div> <div class="oScreen__loader__spinner"></div>',"",'class="oScreen__loader"',function(t){var e=this;e.status=0,e.animate=!1,e.progress=null,e.show=function(t){if(t){if(t.forceShow)return e.html=t.tag(),t.updated&&e.html.one("updated",function(){t.updated(e.html)}),$$(e.parent.scroll).css("transition","none"),e.parent.active=!0,void e.parent.update();e.options=t||{},e.start=t.init||$$.noop,e.beforeShow=t.beforeShow||$$.noop,e.afterShow=t.afterShow||$$.noop,e.callUpdated=t.updated||$$.noop,e.callBeforeUnmount=t.beforeUnmount||$$.noop,e.callUnmount=t.unmount||$$.noop,e.scope=_.isElement(t.scope)?t.scope:$$(t.scope)[0],e.reset(),e.parent.update({loading:!0}),app.device.isMobile&&e.update({animate:!0}),e.start(),_.onEndTransition(e.scope,function(){t.resources?app.loader.resources(t.resources,e.onResourcesLoaded,function(){e.status+=25/t.resources.length,e.updateLoading()}):(e.status+=25,e.onResourcesLoaded(),e.updateLoading())})}},e.init=function(){e.progress.resources&&e.progress.images&&e.progress.html&&(e.status=100,e.updateLoading(),setTimeout(e.hide,175))},e.onImagesLoaded=function(){e.progress.images=!0,e.init()},e.onImagesItemLoaded=function(t,i){e.status+=25/i,e.updateLoading()},e.onResourcesLoaded=function(){e.progress.resources=!0,app.device.isMobile&&(e.animate=!0),$afterlag.run(function(){_.isFunction(e.options.tag)?(e.html=e.options.tag(),e.html?(e.html.one("updated",function(){e.callUpdated(e.html),$afterlag.run(function(){e.onHtmlLoaded(e.options.content)})}),e.refs&&e.html.update()):e.parent.update({loading:!1,animate:!1,active:!1})):e.onHtmlLoaded(e.options.content)}),e.init()},e.onHtmlLoaded=function(t){e.progress.html=!0,e.status+=50,e.animate=!1,e.updateLoading(),app.loader.images($$(t),e.onImagesLoaded,e.onImagesItemLoaded),e.init()},e.hide=function(){e.beforeShow(e.html),e.parent.loading=!1,e.parent.active=!0,e.parent.update(),_.onEndTransition(e.scope,function(){e.afterShow(e.html),e.html.one("before-unmount",function(){e.callBeforeUnmount(e.html)}),e.html.one("unmount",function(){e.callUnmount(e.html)})}),e.reset()},e.reset=function(){e.progress={resources:!1,images:!1,html:!1},e.update({status:0})},e.updateLoading=function(){e.update()}}),riot.tag2("jptest-result-link",'<icon-link color="steel"></icon-link>',"",'onclick="{onClip}" data-balloon="{supportClip ? \'Нажмите, чтобы скопировать ссылку\' : \'Получить ссылку\'}" data-balloon-pos="right" data-active="{active}"',function(t){var e=this;e.supportClip=_.supportClipboard(),e.show=function(){e.update({active:!0})},e.onClip=function(){if(!app.device.isMobile&&e.supportClip)_.copyToClip("http://resumekraft/jp-test/#"+window.$jp.link),$Notify.show({color:"dark",pos:"top-right",text:"Ссылка на результат теста скопирована в буфер обмена",timeout:3});else{var t=e.parent.content.find("jptest-result-finish");if(t.length){var i=app.dom.getPagePosition(t[0]).top,s=Math.abs(i-e.parent.scroll.scrollTop()),a=s/5;a=a<500?500:a,e.parent.scroll.animate({scrollTop:i},a)}}},e.hide=function(){e.update({active:!1})}}),riot.tag2("jptest-content",'<div class="oScreen__content overflow-hidden {bg ? \'bg-\' + bg : \'\'}"> <div class="screen bg-blackLight" data-screen="begin" data-active="{screen == ⁗begin⁗}" data-hidden="{hidden == ⁗begin⁗}"> <div class="container pos-centered"> <div class="row c-white fontSize-24"> <div class="col-xs-24 col-md-16 col-lg-14 centered"> <div class="xs-plr-xs"> <div class="ui-icon-hand_cursor_white w95 h95 mlr-auto mb-l"></div> <div class="mb-l">Необходимо помнить, результат будет зависеть от того, насколько честно вы отвечаете на все вопросы.</div> <button onclick="{next.beginText}" class="btn btn-xxl btn-white-hover">Готов начать</button> </div> </div> </div> </div> </div> <div class="screen bg-blue" data-screen="beginText" data-active="{screen == ⁗beginText⁗}" data-hidden="{hidden == ⁗beginText⁗}"> <div class="container pos-centered"> <div class="row c-white {app.device.isPhone ? \'fontSize-26\' : \'fontSize-28\'} lineHeight-xxl"> <div class="col-xs-24 col-md-17 col-lg-14 centered"> <div class="xs-plr-xs"> <div class="mb-l">Вам будут предложены 24 пары ответов, вам нужно выбрать один вариант из пары, близкий вашим убеждениям.</div> <button onclick="{next.test}" class="btn btn-xxl c-blue btn-white-hover">Понятно</button> </div> </div> </div> </div> </div> <div class="rows screen bg-white" data-screen="test" data-active="{screen == ⁗test⁗}" data-hidden="{hidden == ⁗test⁗}" data-hide="{reload.hide}" data-show="{reload.show}"> <div class="row h100p"> <div onclick="{select.q1}" class="que col-xs-24 col-sm-12"> <div class="que__item que__item1" ref="que__item" name="que__item"> <div class="que__text">{que.q1()}</div> </div> </div> <div onclick="{select.q2}" class="que col-xs-24 col-sm-12"> <div class="que__item que__item2"> <div class="que__text">{que.q2()}</div> </div> </div> </div> </div> <div class="screen bg-blue {showAnim : animate}" data-screen="finish" data-active="{screen == ⁗finish⁗}" data-hidden="{hidden == ⁗finish⁗}"> <div class="pos-centered"> <div ref="circuful" name="circuful" class="circuful anim anim-scale" data-duration="{\'m\' : app.device.isPhone}"></div> </div> </div> </div>',"",'class="oScreen" data-open="{active}" data-show="down"',function(t){var e=this;e.result=[],e.circuful=$$(e.circuful),e.on("before-mount",function(){e.reset()}),e.on("mount",function(){$Sections.module("jptest.test",e),e.refs&&(e.circuful=$$(e.refs.circuful))}),e.reset=function(t){e.active=!1,e.result=[],e.screen=null,e.hidden=null,e.counter=0,e.cursor=e.data.root.down(),e.reload={show:!0,hide:!1},e.bg=null,e.animate=null,t&&e.update()},e.show=function(){e.next.begin(),e.update({active:!0}),app.metrika.set("jptest.start",!0)},e.next={begin:function(){e.screen="begin",e.bg="blackLight"},beginText:function(){e.hidden=e.screen,e.screen="beginText",e.bg="blue"},test:function(){e.hidden=e.screen,e.screen="test",e.bg="white"},finish:function(){e.hidden=e.screen,e.screen="finish",e.bg="blue",$afterlag.xl(function(){e.update({animate:!0}),e.circuful.empty().circliful({animation:1,animationStep:2.25,foregroundBorderWidth:app.device.isPhone?10.5:9.5,backgroundBorderWidth:(app.device.isPhone,5),percentageTextSize:28,percent:100,backgroundColor:"rgba(255,255,255,.2)",foregroundColor:"#68fb98",fontColor:"#fff"},function(){e.trigger("readyCircuful")})}),e.one("readyCircuful",function(){e.next.result()})},result:function(){e.animate=!1,e.update();var t=e.getResult(e.result);$Sections.jptest.result.show(t,function(){e.reset(!0),e.trigger("passed"),app.request("addJptestResult",{result:{id:t,hash:$Sections.jptest.result.getHash(t)},site:app.isSite||!1},{notify:!1,loader:!1}).then(function(){app.metrika.set("jptest.passed",1,{action:"inc"})})})}},e.select={q1:function(){e.select.update(e.counter+1)},q2:function(){e.select.update(e.counter+2)},update:function(t){e.reload.hide||(e.counter+=2,e.result.push(t),e.reload={show:!1,hide:!0},_.onEndTransition(e.refs?e.refs.que__item:e.que__item,function(){e.cursor=e.cursor.right(),e.cursor?(e.update({reload:{show:!1,hide:!1}}),setTimeout(function(){e.update({reload:{show:!0,hide:!1}})},5)):(e.next.finish(),e.update())}))}},e.que={q1:function(){return e.cursor.get().q1},q2:function(){return e.cursor.get().q2}},e.data=new Baobab([{q1:"Мне легко в любое время организовать какое-нибудь многолюдное мероприятие.",q2:"Мне проще выполнять локальные поручения в организованных другими мероприятиях."},{q1:"В компании незнакомых людей я охотно принимаю участие в коллективных обсуждениях.",q2:"Мне интереснее и проще вести локальную беседу с тем, кого всерьез интересует тема разговора."},{q1:"В компании я, как правило, первым завожу беседу.",q2:"В компании я, как правило, жду, когда со мной заговорят."},{q1:"Мне интересно и у меня это легко получается - свободно расширять свою деятельность, привлекая смежные области.",q2:"Мне проще погружаться в одну свою деятельность, углублять  и далее осваивать ее."},{q1:"Чтобы быстрее снять усталость, мне необходима компания и общение с людьми.",q2:"Чтобы быстрее снять усталость, мне необходимо немного побыть в одиночестве для восстановления энергии."},{q1:"Чем бы я не был занят, я как правило, замечаю, что делают окружающие люди.",q2:"Если, я занят, то практически не замечаю, что делают окружающие меня люди."},{q1:"Как бы не изменились обстоятельства, я всегда довожу начатое дело до конца.",q2:"Меня угнетает необходимость доводить дело до конца, когда оно уже не актуально."
},{q1:"Я думаю, что здравый смысл и логика редко ошибаются.",q2:"Я думаю, что инерция прошлого опыта может помешать во время перемен."},{q1:"Если необходимо принять решение, то я чаще опираюсь на  проверенные временем принципами.",q2:"Если необходимо принять решение, то я чаще руководствуюсь своим собственным опытом и видением ситуации."},{q1:"Я ставлю в жизни конкретные цели и ищу способы их достичь.",q2:"Я стараюсь не упустить возможности, подвернувшиеся «заодно»."},{q1:"Чтобы принять решение я должен заранее удостовериться, что все подготовлено и улажено.",q2:"Я чаще принимаю решение по наитию, полагаясь на интуицию."},{q1:"Мне кажется, что не так уж плохо придерживаться «проторенной дорожки».",q2:"Мне кажется, что не так уж плохо «витать в облаках»."},{q1:"Я предпочитаю конкретность и определенность.",q2:"Я предпочитаю открытость, многовариантность."},{q1:"Мне проще действовать, как человеку практичному.",q2:"Я чаще действую, как человек оригинальный."},{q1:"Я больше доверяю тому, что попробовал.",q2:"Я предпочитаю пробовать новое."},{q1:"Меня больше привлекают вопросы производства и сбыта товаров.",q2:"Меня больше привлекают вопросы проектирования и исследования."},{q1:"Моя работоспособность, как правило, равномерна.",q2:"Моя работоспособность подвержена периодическим подъемам и спадам."},{q1:"На мою территорию никто не претендует (по крайней мере второй раз).",q2:"Я стараюсь оградить себя от возможных покушенийна мою территорию заранее."},{q1:"Общаясь с людьми, я стараюсь соблюдать общепринятые правила этикета.",q2:"Общаясь с людьми, я стараюсь проявлять свое личное обаяние."},{q1:"Мне нравится проявлять себя в стройных логических построениях.",q2:"Мне нравится проявлять себя в гармонизации человеческих отношений."},{q1:"Мне кажется, что самое неприятное в людях — ненадежность, нарушение договоров.",q2:"Мне кажется, что самое неприятное в людях — формализм, расчетливость."},{q1:"Свои отношения с людьми я строю, учитывая взаимные интересы.",q2:"Свои отношения с людьми я строю, принимая во внимание только чувства и настроения."},{q1:"Мне приносит удовлетворение выявление истины в спорном вопросе.",q2:"Мне приносит удовлетворение достижение согласия по спорным вопросам."},{q1:"Я считаю, что наибольшего одобрения заслуживает разумный подход к проблемам.",q2:"Я считаю, что наибольшего одобрения заслуживает способность с сопереживанию."}]),e.getResult=function(t){if(t){var e,i,s,a,n,o,l,c,r=0,d=0,u=1;return _.each(t,function(t){t<13?t%2==0?d+=1:r+=1:t>12&&t<25?(e||i||(r>d?e=1:i=1,r=0,d=0),t%2==0?d+=1:r+=1):t>24&&t<37?(s||a||(r>d?s=1:a=1,r=0,d=0),t%2==0?d+=1:r+=1):t>36&&t<49&&(n||o||(r>d?n=1:o=1,r=0,d=0),t%2==0?d+=1:r+=1)}),r>d?l=1:c=1,i&&a&&o&&c?u=1:i&&a&&n&&c?u=2:i&&a&&o&&l?u=3:i&&a&&n&&l?u=4:i&&s&&o&&c?u=5:i&&s&&n&&c?u=6:i&&s&&o&&l?u=7:i&&s&&n&&l?u=8:e&&a&&o&&c?u=9:e&&a&&n&&c?u=10:e&&a&&o&&l?u=11:e&&a&&n&&l?u=12:e&&s&&o&&c?u=13:e&&s&&n&&c?u=14:e&&s&&o&&l?u=15:e&&s&&n&&l&&(u=16),u}}}),riot.tag2("jptest-result-content",'<jptest-result-columns if="{!app.device.isPhone}"></jptest-result-columns> <jptest-result-orientation if="{!app.device.isPhone}"></jptest-result-orientation> <jptest-result-skills-mobile if="{app.device.isPhone}"></jptest-result-skills-mobile> <jptest-result-orientation-mobile if="{app.device.isPhone}"></jptest-result-orientation-mobile> <jptest-result-stimulus></jptest-result-stimulus> <jptest-result-humps if="{!app.device.isMobile}"></jptest-result-humps> <jptest-result-graph></jptest-result-graph> <jptest-result-specialties></jptest-result-specialties> <jptest-result-notengage></jptest-result-notengage> <jptest-result-strengths></jptest-result-strengths> <jptest-result-weaksides></jptest-result-weaksides> <jptest-result-development></jptest-result-development> <jptest-result-personality></jptest-result-personality> <jptest-result-finish></jptest-result-finish>',"","",function(t){var e=this;e.on("before-mount",function(){$jp.data=$store.jptest["jp"+$jp.id]}),e.one("update",function(){$jp.data=$store.jptest["jp"+$jp.id]}),e.on("mount",function(){if(e.scope=e.opts.scope,e.scroll=e.opts.scroll,e.content=e.opts.content,e.sections={columns:e.tags["jptest-result-columns"],orientation:e.tags["jptest-result-orientation"],stimulus:e.tags["jptest-result-stimulus"],humps:e.tags["jptest-result-humps"],graph:e.tags["jptest-result-graph"],specialties:e.tags["jptest-result-specialties"],notengage:e.tags["jptest-result-notengage"]},!app.device.isMobile){e.scrollAnimate=new app.plugins.scroll.animate({scroll:e.scroll,container:e.scope,elems:".anim-scroll",delta:"s",items:[{elem:".humps",callback:function(t){t.addClass("showHumps")}},{elem:".graph",callback:function(t){t.addClass("showGraph")}}]});var t=[{elem:e.scope.find("jptest-result-orientation p.text"),from:-30,to:30,off:0,clipOptions:{ease:"easeInOutCubic"}},{elem:e.scope.find("jptest-result-stimulus p.text"),from:0,to:60,off:0,clipOptions:{ease:"easeInOutCubic"}},{elem:e.scope.find("jptest-result-graph .screen__content"),from:0,to:-60,off:60,clipOptions:{ease:"easeInOutCubic"}},{elem:e.scope.find("jptest-result-notengage .specialties__circle"),from:0,to:-60,off:60,clipOptions:{ease:"easeInOutCubic"}},{elem:e.scope.find("jptest-result-notengage p.text"),from:0,to:-30,off:30,clipOptions:{ease:"easeInOutCubic"}},{elem:e.scope.find("jptest-result-strengths .header__lines"),from:0,to:-30,off:30,clipOptions:{ease:"easeInOutCubic"}},{elem:e.scope.find("jptest-result-weaksides .header__lines"),from:0,to:-30,off:30,clipOptions:{ease:"easeInOutCubic"}}];$afterlag.run(function(){e.scope.find(".path__text").each(function(){t.push({elem:this,from:0,to:-20,off:20,clipOptions:{ease:"easeInOutCubic"}})});var i=new app.plugins.scroll.ParallaxController({scroll:e.scroll,items:t});i.start()}),e.scrollFix=new app.plugins.scroll.fix({scroll:e.scroll,container:e.content}),e.scrollFix.init()}}),e.get={text:function(t,e){t.root.innerHTML=e.replace(/\[b\]/gi,'<span class="larger">').replace(/\[\/b\]/gi,"</span>").replace(/\[i\]/gi,'<span class="marker">').replace(/\[\/i\]/gi,"</span>")}},e.on("unmount",function(){e.scrollAnimate&&e.scrollAnimate.destroy(),e.scrollFix&&e.scrollFix.destroy()})}),riot.tag2("jptest-result-popup",'<div class="popup__inner"> <div class="popup__image"> <img src="/public/images/popup/jptest.png"> </div> <div class="popup__content"> <div class="popup__title c-blueBright fontWeight-bold xs-plr-m xs-pb-xxs">Пожалуйста оцените результат теста</div> <div ref="votes" name="votes" class="cursor-pointer {app.device.isPhone ? \'fontSize-34\' : \'fontSize-28\'} ml--xss pt-s pb-m xs-pt-m xs-pb-s"> <span each="{item in stars}" class="plr-xss {!item ? \'c-gray\' : \'c-orange\'}">&star;</span> </div> </div> </div>',"",'class="popup popup-m" data-pos="bottom-right" data-active="{active}"',function(t){var e=this,i=null,s=5;e.score=0,e.voted=!1,e.stars=_.range(s),e.stars=_.map(e.stars,function(t){return t=!1}),e.on("mount",function(){app.metrika.get("jptest.votes.show")?e.unmount():(i=e.refs?$$(e.refs.votes):$$(e.votes),e.init())}),e.show=function(){e.active||(e.update({active:!0}),app.metrika.set("jptest.votes.show",!0))},e.init=function(){i.on("mousemove",function(t){var a=t.pageX-i.offset().left,n=a/i.width();n*=s,n=Math.floor(n),n+=1,e.voted||e.score==n||(e.score=n,_.each(e.stars,function(t,i){e.score<i+1?e.stars[i]=!1:e.stars[i]=!0}),e.update())}),i.one("click",function(t){e.score>0&&(i.off(),$afterlag.run(function(){e.hide()}),app.request("addJptestVotes",{score:e.score},{notify:!1,loader:!1}).then(function(){app.metrika.set("jptest.votes.score",e.score),app.metrika.set("jptest.votes.success",!0)}))})},e.hide=function(){e.active&&e.update({active:!1})}}),riot.tag2("jptest-result",'<div class="oScreen__buttons" data-pos="top-right"> <div onclick="{hide}" onupdate="none" ref="close" name="close" class="button__close" data-color="gray"></div> </div> <jptest-result-link if="{!app.device.isPhone}"></jptest-result-link> <jptest-result-popup></jptest-result-popup> <div ref="scroll" name="scroll" class="oScreen__content {app.device.isPhone ? \'notAnim-scroll\' : app.device.isMobile ? \'notAnim-scroll bg-white\' : \'bg-white\'}"> <oscreen-loader></oScreen-loader> <div ref="content" name="content" class="screens screens-phone"></div> </div>',"",'class="oScreen" data-open="{active}" data-loader="{loading}" data-show="down"',function(t){var e=this,i=$$(e.root);e.active=!1,e.loading=!1,e.links=["ecb996983a5da14f26669b389973bb99","f2b53bb73c3ee714b6dd6eff0b520bd5","ba1c3df7631eeed57e0b044836058a19","938d79f42e0506b9e011b706293dd9ff","e0a7dc8860a8dd189993491e4d2dbf51","40b53824d9abfc4fc1d918d1ca04f509","bb7c00995c73e556b17753443d361436","ed4e3f6b66976c79a7aee49fe4f20c06","b54fefb3e044338dd9ae6891746c5886","7471f4d61295c401c289cf433f23934f","13cc58b5c01cf21917ea628bd226152a","d8ae74b113e68ba4201b0db2c4b85dc3","dbddc7abbbdd66823bb31f2cc0db0c64","417a4b963d9143ced1c287a313fb1ac9","ae8391ce871bb43f7187be316261e130","0a0a6db9bf69afb05107087ae94853b5"],e.on("mount",function(){$Sections.module("jptest.result",e),e.refs?(e.scroll=$$(e.refs.scroll),e.content=$$(e.refs.content),e.buttonClose=$$(e.refs.close)):(e.scroll=$$(e.scroll),e.content=$$(e.content),e.buttonClose=$$(e.close)),e.loader=e.tags["oscreen-loader"],e.buttonLink=e.tags["jptest-result-link"],e.popupVotes=e.tags["jptest-result-popup"]}),e.on("focus",function(t){t?(e.buttonLink.hide(),e.buttonClose.css("transform","scale(0)")):(e.buttonLink.show(),e.buttonClose.css("transform","scale(1)"))}),e.show=function(t,s){if(!e.loading&&!e.active&&t){if(32==t.length){if(t=e.links.indexOf(t),t===-1)return;t+=1}window.$jp={id:t,link:e.getHash(t)},e.trigger("show",window.$jp),e.loader.show({scope:e.scroll,content:e.content,resources:["/public/js/jptest.build.js"+_.newId()],init:function(){app.device.isPhone&&(e.content[0].style.backgroundColor="#ffffff")},tag:function(){return e.section=riot.mount(e.content[0],"jptest-result-content",{scope:i,scroll:e.scroll,content:e.content})[0]},afterShow:function(){app.device.isPhone?(e.content[0].style.backgroundColor="",$afterlag.run(function(){if(e.screens=new app.plugins.screens(e.content),e.screens.init(),!app.metrika.get("jptest.votes.show")){var t=e.content.find(".screen"),i=!1;t.on("show",function(s){var a=this.getAttribute("data-marquee");i||"finish"!=a||(i=!0,t.off("show"),setTimeout(function(){e.popupVotes.show()},1500))})}})):($afterlag.run(function(){if(i.find(".chart").addClass("showChart"),e.section.scrollAnimate.start(),!app.metrika.get("jptest.votes.show")){var t=e.content.find("jptest-result-finish");if(t.length){var s=parseInt(app.dom.getPagePosition(t[0]).top)-(app.device.isMobile?200:0),a=!1;!function t(){e.raf=_.raf(t);var i=e.scroll[0].scrollY||e.scroll[0].scrollTop;!a&&i>s&&(a=!0,_.caf(e.raf),e.popupVotes.show())}()}}}),setTimeout(function(){e.buttonLink.show()},1e3)),_.isFunction(s)&&s(),!app.isSite&&window.$root&&window.$root.focus&&$root.focus("jptest-result")}})}},e.getHash=function(t){return e.links[t-1]},e.hide=function(){e.active=!1,e.update(),_.onEndTransition(e.scroll[0],function(){e.section&&e.section.unmount(!0),!app.isSite&&window.$root&&window.$root.focus&&$root.focus("all"),e.trigger("hide")}),e.buttonLink&&e.buttonLink.hide&&e.buttonLink.hide()}}),riot.tag2("jptest-result-columns",'<div class="chart container"> <div class="row"> <div class="col-md-8 h100v"> <div ref="pointer" name="pointer" class="chart__title" data-active="{titleShow}">{title}</div> <div class="chart__titles" ref="titles" name="titles"> <div class="chart__titles__item anim anim-lr" data-level="5">увеличенный</div> <div class="chart__titles__item anim anim-lr" data-delay="xs" data-level="4">высокий</div> <div class="chart__titles__item anim anim-lr" data-delay="s" data-level="3">средний</div> <div class="chart__titles__item anim anim-lr" data-delay="m" data-level="2">низкий</div> </div> </div> <div class="col-md-16 h100v"> <div onmouseleave="{mouseleave}" class="chart__columns" ref="columns" name="columns"> <div onmouseenter="{mouseenter}" each="{item, i in items}" class="chart__column" data-level="{item.value}" riot-style="height:{maxHeight}px"> <div class="chart__column__item" data-level="{item.value}" riot-style="height:{maxHeight / (maxValue / item.value)}px"></div> <span class="chart__column__item__count">{item.value}</span> </div> </div> </div> </div> </div>',"",'class="hidden-sm screen" data-screen="columns"',function(t){var e=this;e.title=null,e.on("mount",function(){e.refs?(e.pointer=$$(e.refs.pointer),e.titles=$$(e.refs.titles),e.columns=$$(e.refs.columns)):(e.pointer=$$(e.pointer),e.titles=$$(e.titles),e.columns=$$(e.columns))}),e.on("update",function(){e.items=$jp.data.profile,e.maxHeight=window.innerHeight/1.8,e.maxValue=_.max(e.items,function(t){return t.value}).value}),e.mouseenter=function(){var t=this.root.getAttribute("data-level");e.titles.find(".chart__titles__item[data-level="+t+"]").removeAttr("data-delay").attr("data-active",!0).siblings().removeAttr("data-active");var i=$$(this.root).offset(),s=app.device.isTablet&&this.i<2?i.left+80:i.left;e.update({title:this.item.title,titleShow:!0}),e.pointer.css({transform:"translateX("+(s-e.pointer.width()-80)+"px)"}).attr("data-level",t)},e.mouseleave=function(){e.titles.find(".chart__titles__item").removeAttr("data-active"),e.update({titleShow:!1})}}),riot.tag2("jptest-result-development",'<div class="screen__content container"> <div class="row"> <div class="col-xs-24 col-md-24 anim-scroll anim anim-scale-soft" data-duration="m"> <h2 class="c-blue text-center title">Рекомендации по развитию</h2> <div class="path__circle"></div> </div> </div> <div class="row"> <div class="col-xs-24 col-md-24"> <div each="{item, i in items}" class="path__item anim-scroll anim anim-rl-soft" data-duration="m" data-item="{i + 1}"> <div class="path__num">{i + 1}</div> <p class="path__text">{item}</p> </div> </div> </div> </div>',"",'class="screen" data-marquee="development" data-large="{\'true\' : items.length > 3}"',function(t){this.on("update",function(){this.items=$jp.data.recommendations.development})}),riot.tag2("jptest-result-finish",'<div class="screen__content container ptb-xl"> <div class="row pb-l mb-m xs-mb0"> <div class="col-md-10 flex-centered anim-scroll anim anim-scale"> <svg class="smile" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="fill-white" fill-rule="evenodd" clip-rule="evenodd" d="M86.577,46.756c-4.585,2.387-28.019,7.578-42.755,6.187 c-19.689-1.859-25.597-6.4-28.462-9.25c1.069-0.543,2.164-0.932,3.164-1.076c0.781-0.116,1.456-0.09,1.94,0.106 c1.048,0.416,2.234-0.091,2.652-1.137c0.417-1.047-0.091-2.233-1.136-2.651c-1.185-0.472-2.58-0.57-4.039-0.359 c-2.135,0.31-4.522,1.307-6.562,2.745c-2.076,1.465-3.859,3.422-4.746,5.625l-0.05,0.149c-0.492,1.288-0.693,2.66-0.487,4.06 c0.163,1.114,1.2,1.888,2.315,1.726c1.114-0.164,1.886-1.2,1.723-2.315c-0.096-0.669,0.006-1.346,0.249-1.999l0.039-0.092 c0.36-0.896,0.999-1.745,1.777-2.517c3.857,4.73,15.481,12.085,30.489,14.523c12.248,1.99,42.205,1.559,50.425-4.795 C95.821,53.587,91.83,44.019,86.577,46.756z"></path></svg> </div> <div class="col-md-14 xsm-pt-l text-center-sm anim-scroll anim anim-rl"> <div class="text">Спасибо за пройденный тест, надеемся он вам поможет, будем рады если им поделитесь с друзьями.</div> </div> </div> <div class="row"> <div class="col-sm-24 col-md-24 col-lg-17 centered anim-scroll anim anim-bt" data-delay="s" data-delta="xs"> <div class="jptest-result-share"> <div class="jptest-result-share-item" data-social="fb"> <icon-fb color="{app.device.isPhone ? \'yellowBright\' : \'white\'}" size="{app.device.isPhone ? \'l\' : \'xl\'}"></icon-fb> </div> <div class="jptest-result-share-item" data-social="vk"> <icon-vk color="{app.device.isPhone ? \'yellowBright\' : \'white\'}" size="{app.device.isPhone ? \'l\' : \'xl\'}"></icon-vk> </div> <div class="jptest-result-share-item" data-social="dk"> <icon-dk color="{app.device.isPhone ? \'yellowBright\' : \'white\'}" size="{app.device.isPhone ? \'l\' : \'xl\'}"></icon-dk> </div> <div class="jptest-result-share-item" data-social="gl"> <icon-gl color="{app.device.isPhone ? \'yellowBright\' : \'white\'}" size="{app.device.isPhone ? \'l\' : \'xl\'}"></icon-gl> </div> <div class="jptest-result-share-item" data-social="tw"> <icon-tw color="{app.device.isPhone ? \'yellowBright\' : \'white\'}" size="{app.device.isPhone ? \'l\' : \'xl\'}"></icon-tw> </div> </div> </div> </div> </div> <a href="mailto:?subject=Пройден JP-тест 2.0. Результаты&body=http://resumekraft/jp-test/#{window.$jp.link}" class="button-mail"> <icon-replymail color="{app.device.isPhone ? \'blueBright\' : \'yellowBright\'}" size="l"></icon-replymail> </a>',"",'class="screen" data-marquee="finish"',function(t){this.on("mount",function(){this.share=new app.plugins.share(this.root,{buttons:".jptest-result-share-item",url:"http://resumekraft.ru/jp-test/",share:{title:"Всем рекомендую пройти новый бесплатный тест на профориентацию личности"}})}),this.on("unmount",function(){this.share.destroy()})}),riot.tag2("jptest-result-graph",'<div class="screen__content container"> <div class="row"> <div class="col-md-24 text-right c-white xs-pb-m"> <h2 class="pb-l title xs-mb-s">Спецификация профессий</h2> </div> </div> <div class="row"> <div class="col-xs-24 col-lg-offset-1 col-lg-23"> <div each="{item, i in _.sortArray(items, ⁗value⁗, ⁗desc⁗)}" class="graph__item"> <div class="graph__item__title"> <span class="graph__item__title__item">{item.title}</span> </div> <div class="graph__item__column"> <div class="graph__item__column__item" data-value="{item.value}" riot-style="width:{item.value}%"></div> <div class="graph__item__column__percent">{item.value}%</div> </div> </div> </div> </div> </div>',"",'class="screen graph {showGraph : app.device.isMobile}" data-marquee="graph" data-delta="m"',function(t){var e=this;e.on("update",function(){e.items=$jp.data.specification})}),riot.tag2("jptest-result-humps",'<div class="humps__wrapper"> <svg ref="humps__svg" id="humps__svg"></svg> </div>',"",'class="humps {showHumps : app.device.isMobile}"',function(t){var e=this;e.on("mount",function(){var t=$jp.data.specification,i=300,s="http://www.w3.org/2000/svg",a=0;_.each(_.shuffle(t),function(n){var o=document.createElementNS(s,"g"),l=100/t.length*a;o.style.transform="translate("+l+"vw, 0)",o.setAttributeNS(null,"class","humpGroup");var c=document.createElementNS(s,"path");c.setAttributeNS(null,"style","transition-delay: "+i*a+"ms"),c.setAttributeNS(null,"d","m 0,160 c 47.5,0 47.5,-"+n.value+" 95,-"+n.value+" 47.5,0 47.5,"+n.value+" 95,"+n.value),c.setAttributeNS(null,"class","hump"),o.appendChild(c);var r=document.createElementNS(s,"text");r.setAttributeNS(null,"x","95"),r.setAttributeNS(null,"y",-(n.value+15)),r.setAttributeNS(null,"style","transition-delay: "+i*a+"ms"),r.setAttributeNS(null,"text-anchor","middle"),r.setAttributeNS(null,"class","humpText"),r.textContent=n.title,o.appendChild(r);var d=document.createElementNS(s,"text");d.setAttributeNS(null,"x","95"),d.setAttributeNS(null,"y","0"),d.setAttributeNS(null,"style","transition-delay: "+i*a+"ms"),d.setAttributeNS(null,"text-anchor","middle"),d.setAttributeNS(null,"class","humpLevel"),d.textContent=n.value/10,o.appendChild(d);var u=document.createElementNS(s,"line");u.setAttributeNS(null,"x1","95"),u.setAttributeNS(null,"y1",200-n.value),u.setAttributeNS(null,"x2","95"),u.setAttributeNS(null,"y2","270"),u.setAttributeNS(null,"style","transition-delay: "+i*a+"ms"),u.setAttributeNS(null,"text-anchor","middle"),u.setAttributeNS(null,"class","humpLine"),o.appendChild(u);var p=document.createElementNS(s,"circle");p.setAttributeNS(null,"cx","95"),p.setAttributeNS(null,"cy",180-n.value-20),p.setAttributeNS(null,"r","8"),p.setAttributeNS(null,"style","transition-delay: "+i*a+"ms"),p.setAttributeNS(null,"class","humpCircle"),o.appendChild(p),e.refs?e.refs.humps__svg.appendChild(o):e.humps__svg.appendChild(o),a++})})}),riot.tag2("jptest-result-notengage",'<div class="screen__content container"> <div class="row"> <div class="hidden-xs col-md-9 zIndex-1"> <div onclick="{open.specialties}" class="specialties__circle"> <div class="specialties__circle__count">{specialtiesCount}</div> <div class="specialties__circle__title">удачных профессий</div> <div class="specialties__circle__opener" data-open="{parent.sections.specialties.active}"> <div class="specialties__circle__opener__icon"></div> </div> </div> </div> <div class="col-xs-24 col-md-15 anim-scroll anim anim-rl-soft" data-duration="m"> <p class="text"><strong class="title xs-mb-s">Чем не следует заниматься</strong>&nbsp; &mdash; &nbsp;<jptest-result-text></jptest-result-text></p> </div> </div> </div>',"",'class="screen" data-marquee="notengage"',function(t){var e=this;e.on("update",function(){e.specialtiesCount=$jp.data.specialties.length,e.parent.get.text(e.tags["jptest-result-text"],$jp.data.notengage)}),e.open={specialties:function(){e.parent.sections.specialties.show()}}}),riot.tag2("jptest-result-orientation",'<div class="screen__content container"> <div class="row"> <div class="col-sm-24 col-md-9 col-lg-10 pr-m md-pr-xss anim-scroll anim anim-lr-soft" data-duration="m"> <div class="pr-l md-pr0"> <div each="{item, i in items}" class="skills__item"> <div class="skills__item__title" data-level="{item.value}">{item.title}</div> <div class="skills__item__line w{getValue(item)}p" data-level="{item.value}"></div> <div class="skills__item__percent">{getValue(item)}%</div> </div> </div> </div> <div class="col-sm-24 col-md-15 col-lg-14 pt-l pr-l md-pr-xss xsm-pt-xl c-gray anim-scroll anim anim-bt-soft" data-duration="m"> <p class="text"><strong class="c-blue">Ориентация на деятельность</strong>&nbsp; &mdash; &nbsp;<jptest-result-text></jptest-result-text></p> </div> </div> </div>',"",'class="screen" data-marquee="orientation"',function(t){var e=this;e.on("update",function(){e.items=$jp.data.profile,e.parent.get.text(e.tags["jptest-result-text"],$jp.data.orientation)}),e.getValue=function(t){return 2==t.value?20:3==t.value?40:4==t.value?70:5==t.value?85:void 0}}),riot.tag2("jptest-result-personality",'<div class="screen__content container"> <div class="row"> <div class="col-xs-24 col-md-24 text-center anim-scroll anim anim-scale-soft" data-duration="m"> <h2 class="c-blue mb-xl xs-mb-m title">Рекомендации для вашего типа личности</h2> </div> </div> <div each="{item, i in items}" class="path__item row mb-xl xs-mb0 anim-scroll anim anim-rl-soft" data-duration="m"> <div class="hidden-xs col-md-5"> <div class="path__num">{i + 1}</div> </div> <div class="col-xs-24 col-md-18 col-lg-16 {xs-mb-xl : i + 1 != items.length}"> <span class="visible-xs"> <div class="path__num">{i + 1}</div> </span> <p class="path__text">{item}</p> </div> </div> </div>',"",'class="screen" data-marquee="personality"',function(t){this.on("update",function(){this.items=$jp.data.recommendations.personality})}),riot.tag2("jptest-result-specialties",'<div class="{\'overflowX-hidden overflowY-auto h100v\' : !app.device.isPhone} text-left"> <div class="screen__content container"> <div class="row ptb-l xs-ptb0"> <div onclick="{hide}" onupdate="none" class="col-xs-24 col-md-7 col-lg-8 xs-pb-xs specialties__close"> <div class="anim anim-tb" delay-show="s" duration-show="l" duration-hide="s"> <div class="specialties__title title xs-mb-s">Наиболее подходящие профессии</div> </div> </div> <div class="col-xs-24 col-md-9 col-lg-8 specialties__column"> <div class="anim anim-bt" delay-show="s" duration-show="l" duration-hide="s"> <div each="{item, i in _.copyArray(items).splice(0, Math.ceil(items.length / 2))}" class="specialties__item">{item}</div> </div> </div> <div class="col-xs-24 col-md-7 col-lg-8 specialties__column"> <div class="anim anim-tb" delay-show="s" duration-show="l" duration-hide="s"> <div each="{item, i in _.copyArray(items).splice(Math.ceil(items.length / 2), items.length)}" class="specialties__item">{item}</div> </div> </div> </div> </div> </div>',"",'class="{app.device.isPhone ? \'screen notAnim\' : \'pos-abs-full section section-hidden zIndex-2\'} {showAnim : active}" data-open="{active}" data-marquee="specialties"',function(t){var e=this,i=$$(e.root);e.active=!1,e.on("update",function(){e.items=$jp.data.specialties}),e.show=function(){$Sections.jptest.result.trigger("focus",!0),i.css("top",e.parent.scroll.scrollTop()+"px"),e.parent.scroll.addClass("overflow-hidden"),e.update({active:!0})},e.hide=function(){e.active=!1,$Sections.jptest.result.trigger("focus",!1),e.parent.sections.notengage.update(),e.parent.scroll.removeClass("overflow-hidden"),e.update()}}),riot.tag2("jptest-result-stimulus",'<div class="screen__content container"> <div class="row"> <div class="col-xs-24 col-sm-24 col-md-20 col-md-offset-3 pl-xl md-pl-xss xs-pl-xss c-gray"> <div class="pl-xl md-pl0 xs-pl0 anim-scroll anim anim-bt-soft" data-duration="m"> <p class="text"><strong class="title c-blue">Стимул для деятельности</strong>&nbsp; &mdash; &nbsp;<jptest-result-text></jptest-result-text></p> </div> </div> </div> </div>',"",'class="screen" data-marquee="stimulus"',function(t){this.on("update",function(){this.parent.get.text(this.tags["jptest-result-text"],$jp.data.stimulus)})}),riot.tag2("jptest-result-strengths",'<div class="screen__content container"> <div class="row mb-xl pb-xxs xs-mb0 xs-pb0"> <div class="col-xs-24 col-md-24 text-center anim-scroll anim anim-scale-soft" data-duration="m"> <div class="header__lines" data-color="white"> <h2 class="mb-s title">Сильные стороны</h2> <p class="larger opacity-80 subtitle">{title}</p> </div> </div> </div> <div class="row"> <div class="col-xs-24 col-md-offset-1 col-md-23 col-lg-offset-3 col-lg-19 anim-scroll anim anim-bt-soft" data-duration="m"> <p class="text"><strong class="hidden-xs">Сильные стороны вашего типа личности</strong>&nbsp; &mdash; &nbsp;<jptest-result-text></jptest-result-text></p> </div> </div> </div> <div class="corner"></div>',"",'class="screen" data-marquee="strengths"',function(t){var e=this;e.on("update",function(){e.title=$jp.data.strengths.title,e.parent.get.text(e.tags["jptest-result-text"],$jp.data.strengths.text)})}),riot.tag2("jptest-result-text","","","",function(t){}),riot.tag2("jptest-result-weaksides",'<div class="screen__content container"> <div class="row mb-xl pb-xxs pt-l xs-pt0 xs-mb0 xs-pb0"> <div class="col-xs-24 col-md-24 text-center anim-scroll anim anim-scale-soft" data-duration="m"> <div class="header__lines" data-color="blue"> <h2 class="mb-s c-blue title">Слабые стороны</h2> <p class="larger c-gray subtitle">{title}</p> </div> </div> </div> <div class="row"> <div class="col-xs-24 col-md-offset-1 col-md-23 col-lg-offset-3 col-lg-19 anim-scroll anim anim-bt-soft" data-duration="m"> <p class="text"><strong class="hidden-xs c-blue">Слабые стороны вашего типа личности</strong>&nbsp; &mdash; &nbsp;<jptest-result-text></jptest-result-text></p> </div> </div> </div>',"",'class="screen" data-marquee="weaksides"',function(t){var e=this;e.on("update",function(){e.title=$jp.data.weaksides.title,e.parent.get.text(e.tags["jptest-result-text"],$jp.data.weaksides.text)})}),riot.tag2("jptest-result-orientation-mobile",'<div class="screen__content container"> <div class="row"> <div class="col-xs-24"> <p class="text c-gray"><strong class="title c-blue">Ориентация на деятельность</strong>&nbsp; &mdash; &nbsp;<jptest-result-text></jptest-result-text></p> </div> </div> </div>',"",'class="screen" data-marquee="orientation"',function(t){var e=this;e.on("update",function(){e.parent.get.text(e.tags["jptest-result-text"],$jp.data.orientation)})}),riot.tag2("jptest-result-skills-mobile",'<div class="screen__content container"> <div class="row"> <div class="col-xs-24"> <div class="title c-smokeDark">Общий профиль</div> <div each="{item, i in items}" class="skills__item"> <div class="skills__item__title" data-level="{item.value}">{item.title}</div> <div class="skills__item__line w{getValue(item)}p" data-level="{item.value}"></div> <div class="skills__item__percent">{getValue(item)}%</div> </div> </div> </div> </div>',"",'class="screen screen--active" data-marquee="skills"',function(t){var e=this;e.on("update",function(){e.items=$jp.data.profile}),e.getValue=function(t){return 2==t.value?20:3==t.value?40:4==t.value?70:5==t.value?85:void 0}}),riot.tag2("icon-replymail",'<svg class="icon-replyMail {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" preserveaspectratio="xMidYMid" viewbox="0 0 63 63.75" version="1.1" x="0px" y="0px"><path d="M 33.40625 0 C 33.022625 -0.0065 32.611 0.15 32.3125 0.4375 C 31.7165 1.0135 31.70525 1.9675 32.28125 2.5625 L 38.46875 8.9375 L 22.4375 8.84375 C 21.6115 8.84375 20.9405 9.51775 20.9375 10.34375 C 20.9335 11.17175 21.6095 11.84075 22.4375 11.84375 L 38.65625 11.84375 L 32.3125 18.28125 C 31.7315 18.87125 31.7235 19.82525 32.3125 20.40625 C 32.6055 20.69425 32.994 20.84375 33.375 20.84375 C 33.763 20.84375 34.1435 20.673 34.4375 20.375 L 43.15625 11.5625 C 43.393877 11.321544 43.490105 11.031323 43.53125 10.71875 C 43.543536 10.66099 43.557307 10.59194 43.5625 10.53125 C 43.563099 10.401712 43.564048 10.251209 43.53125 10.125 C 43.453141 9.7412813 43.224484 9.4207188 42.90625 9.21875 L 34.4375 0.46875 C 34.1505 0.17125 33.789875 0.0065 33.40625 0 z M 9.71875 9 C 4.32775 9 2.5179891e-017 13.402 0 18.625 L 0 42.03125 C 0 47.48225 5.2075 50.84375 10.4375 50.84375 L 54.1875 50.84375 C 59.3655 50.84375 63 47.47425 63 42.03125 L 63 18.625 C 63 13.132 58.9525 9 53.8125 9 C 52.9845 9 52.15625 9.671 52.15625 10.5 C 52.15625 11.329 52.95325 12 53.78125 12 C 55.903333 12 57.723397 13.041216 58.84375 14.71875 L 35.59375 29.5 C 33.58875 30.646 31.079 30.6485 29.125 29.5625 L 4.625 14.3125 C 5.866323 12.898385 7.7204491 12 9.78125 12 C 10.60925 12 11.125 11.329 11.125 10.5 C 11.125 9.671 10.54675 9 9.71875 9 z M 3.21875 16.96875 L 27.625 32.15625 C 29.067 32.95825 30.66425 33.34375 32.28125 33.34375 C 33.95225 33.34375 35.64625 32.9265 37.15625 32.0625 L 59.9375 17.59375 C 59.982471 17.92858 60 18.27094 60 18.625 L 60 42.03125 C 60 44.68825 58.6465 47.84375 54.1875 47.84375 L 10.4375 47.84375 C 6.6345 47.84375 3 45.51525 3 42.03125 L 3 18.625 C 3 18.052656 3.074993 17.502844 3.21875 16.96875 z" fill-rule="evenodd"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("blog-subscribe-form",'<div class="input-group input-group-icon"> <div onclick="{success}" onupdate="none" class="input-group-addon flex-centered bg-blue borderRadius-m btn-active"> <svg class="w24 h24" style="margin-top:3px" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 511.99998 639.999975" version="1.1" x="0px" y="0px"><g transform="translate(-91.214475,-152.15558)"><g transform="matrix(0,-1.2428946,1.2437461,0,-150.79005,839.70654)"><rect ry="37.436085" y="250.03104" x="308.55121" height="274.84021" width="74.872169" style="fill:#fff"></rect><rect ry="37.46793" transform="matrix(0.70650574,0.70770731,-0.70650574,0.70770731,0,0)" y="-159.08594" x="570.86584" height="313.4476" width="74.93586" style="fill:#fff"></rect><rect ry="37.46793" transform="matrix(0.70650574,-0.70770731,0.70650574,0.70770731,0,0)" y="332.36725" x="-154.34863" height="313.4476" width="74.93586" style="fill:#fff"></rect></g></g></svg> </div> <input ref="input" class="input input-m {input-error : error}" type="text" placeholder="E-mail" autocomplete="off"> <div class="input-icon"> <svg class="input-svg" viewbox="3 -3 24 24"><path class="{error ? \'fill-red\' : \'input-svg-color\'}" d="M15 11.9c-.9 0-1.7-.2-2.3-.7l-5.7-4.4v8.1c0 .1 0 .3.1.4.1.1.2.2.3.2 2.5.4 5 .5 7.5.5s5-.2 7.5-.5c.1 0 .3-.1.4-.2.2-.1.2-.3.2-.4v-8.1l-5.7 4.4c-.6.5-1.4.7-2.3.7zm-1.3-2.3c.3.3.8.4 1.3.4s1-.1 1.3-.4l6.1-4.7c.3-.3.5-.6.6-1v-.8c0-.1 0-.3-.1-.4-.1-.1-.2-.2-.4-.2-2.5-.3-5-.5-7.5-.5s-5 .2-7.5.5c-.1 0-.2.1-.3.2-.2.1-.2.3-.2.4v.9c.1.3.3.6.6 1l6.1 4.6z"></path></svg> </div> </div>',"","",function(t){
var e=this;e.success=function(){if(_.isEmail(e.refs.input.value)){var t=e.refs.input.value;app.request("addBlogSubscribe",{email:t}).then(function(){app.metrika.set("offers.popup.blog.subscribe.success",!0),app.metrika.set("offers.popup.blog.subscribe.email",t),e.trigger("success")},function(){e.trigger("fail")})}else e.update({error:!0})}}),riot.tag2("icon-fb",'<svg class="icon-fb {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M60.5 32.5c-1.7-.6-4.8-.7-6.5-.7-5.1 0-7.2 4.1-7.2 8.9v3.2h-3v6.4h3V68H53V50.3h6v-6.4h-6v-3.8c0-1.6 2.6-2.4 3.7-2.4 1 0 2 .2 2.9.5l.9-5.7"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-vk",'<svg class="icon-vk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.7 49.5v-.1c2.3-1 3.5-3.1 3.5-5.6 0-5.6-5.2-6-9.5-6h-9.9v26h10.8c5.1 0 10.3-2 10.3-8 0-3.4-2-5.6-5.2-6.3zm-8.9-7h1.9c1.9 0 3.9.2 3.9 2.6 0 2.7-2 2.9-4.1 2.9h-1.8v-5.5h.1zM50 59h-2.2v-6.5h3c2.3 0 4.5.3 4.5 3.2 0 3.1-2.9 3.3-5.3 3.3z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-tw",'<svg class="icon-tw {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M63.8 41.8c1.5-.8 2.6-2.1 3.1-3.6-1.4.7-2.9 1.3-4.5 1.6-1.3-1.3-3.2-2-5.1-2-3.9 0-7 2.9-7 6.5 0 .5 0 1 .2 1.5-5.6-.4-10.9-2.8-14.5-6.9-.6 1-.9 2.1-.9 3.3 0 2.2 1.2 4.2 3.1 5.4-1.2 0-2.2-.3-3.2-.8v.1c-.1 3.1 2.3 5.7 5.6 6.3-.6.2-1.2.2-1.9.2-.4 0-.9 0-1.3-.1.9 2.6 3.6 4.5 6.5 4.5-2.5 1.8-5.5 2.8-8.7 2.8-.5 0-1.1 0-1.6-.1 3.2 1.9 6.9 2.9 10.8 2.9 8.1 0 14.9-4 18.2-10.9 1.1-2.4 1.8-4.9 1.8-7.5v-.9c1.4-.9 2.6-2 3.5-3.3-1.4.5-2.7.9-4.1 1z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-dk",'<svg class="icon-dk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.3 52.2c-2 .9-4.1 1.5-6.3 1.5-2.3 0-4.1-.6-6.2-1.5-.4-.2-.8-.3-1.3-.3-1.5 0-2.7 1.2-2.7 2.6 0 2.6 4.5 3.5 6.6 4l-5.3 4.9c-.5.5-.8 1.1-.8 1.8 0 1.4 1.2 2.6 2.7 2.6.7 0 1.4-.2 1.9-.7l5-4.7 5 4.7c.5.5 1.2.7 1.9.7 1.5 0 2.7-1.2 2.7-2.6 0-.7-.3-1.3-.8-1.8l-5.3-4.9c2.2-.4 6.6-1.5 6.6-4 0-1.3-1.2-2.6-2.7-2.6-.2-.1-.6 0-1 .3M50.1 34.3c-5.3 0-9.2 4-9.2 8.7 0 4.6 4 8.7 9.2 8.7 5.3 0 9.2-4 9.2-8.7 0-4.6-4-8.7-9.2-8.7zm0 12.3c-2.2 0-3.8-1.7-3.8-3.6 0-1.9 1.7-3.6 3.8-3.6 2.2 0 3.8 1.7 3.8 3.6 0 1.9-1.7 3.6-3.8 3.6z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-gl",'<svg class="icon-gl {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" enable-background="new 0 0 128 128" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd"></rect><path clip-rule="evenodd" d="M40.654,55.935v16.13 c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194 s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877 c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727 c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823 H128V56.742H113.912z" fill-rule="evenodd"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-glc",'<svg class="icon-glc {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve"> <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24 c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path> <path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657 C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path> <path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path> <path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571 c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path> </svg>',"",'class="icon"',function(t){});