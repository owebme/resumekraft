var app=app||{};app.define=function(t){var e,n=t.split("."),i=app;for("app"==n[0]&&(n=n.slice(1)),e=0;e<n.length;e++)"undefined"==typeof i[n[e]]&&(i[n[e]]={}),i=i[n[e]];return i},app.tag=function(t,e){if(window.riot){if(!e||!window.$afterlag)return _.filter(riot.vdom,function(e){if(e.root.nodeName.toLowerCase()==t)return e})[0];var n=app.tag(t);n&&n.isMounted?e(n):$afterlag.run(function(){var n=app.tag(t);n&&(n.isMounted?e(n):app.tag(t).one("updated",function(){e(n)}))})}},window.Store=window.store||{},window.$store={},function(){app.url=function(){return(app.config.domain?app.config.domain:"")+app.config.api},app.fetch=function(t){var e=[],n=[],o=t.split(", ");return new Promise(function(t,a){for(i=0;i<o.length;i++)_.isFunction(app.fetch.API[o[i]])&&e.push(o[i]);o.length!==e.length&&(n=_.difference(o,e)),Promise.all(e.map(app.fetch.API).concat(n.map(app.request))).then(function(e){t(e)})})},app.requestList=function(t,e,n){var o=[],e=e||[],n=n||[],a=t.split(", ");return new Promise(function(t,r){for(i=0;i<a.length;i++)o.push(a[i]);Promise.all(o.map(function(t,i){return app.request(t,e[i],n[i])})).then(function(e){t(e)})})},app.request=function(t,e,n){return new Promise(function(i,o){var a=_.underscored(t).replace(/^(get|set|add|del)/g,"").replace(/_/g,"/"),r=null,s=app.config.request();if(n&&_.extend(s,n),t.match(/^get/)?r="GET":t.match(/^set/)?r="PUT":t.match(/^add/)?r="POST":t.match(/^del/)&&(r="DELETE"),!r)return void o("Error type request: "+t);"GET"===r&&e&&(a+="/"+e,e=null),s.loader&&window.$LoaderAjax&&$LoaderAjax.show();var c=new XMLHttpRequest;c.open(r,app.url()+a,!0),c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-Type","application/json");try{app.request.list&&app.request.list.method===t&&app.request.list.params==JSON.stringify(e)&&app.request.list.xhr.abort(),c.send(e?JSON.stringify(e):{})}catch(t){}c.onload=function(t){try{if(200==this.status){var e=JSON.parse(this.response);i("OK"===e.status&&e.result?e.result:e)}else{s.notify&&app.errHandler(this.status);var n=new Error(this.statusText);n.code=this.status,o(n)}}catch(t){}app.request.list={},s.loader&&window.$LoaderAjax&&$LoaderAjax.hide()},c.onerror=function(){o(new Error("Network Error")),s.loader&&window.$LoaderAjax&&$LoaderAjax.hide()};try{app.request.list={method:t,xhr:c,params:JSON.stringify(e)}}catch(t){}})},app.errHandler=function(t){401==t?window.$Notify?$Notify.show({color:"info",text:"Авторизируйтесь снова"}):alert("Авторизируйтесь снова"):window.$Notify?$Notify.show({color:"danger",text:"Ошибка проведения операции повторите ее чуть позже"}):alert("Ошибка проведения операции повторите ее чуть позже")};var t=function(t,e,n){app.request(app.config.logger.method,{data:{msg:t,line:n,url:e},device:app.device.get(),type:"error"},{loader:!1,notify:!1})},e=_.debounce(t,1e3,!0);window.onerror=function(t,n,i){app&&app.config&&app.config.logger&&app.config.logger.report&&e(t,n,i)}}(),window.$afterlag={run:function(t,e){var n={delay:0,iterations:1};e&&_.extend(n,e);var i=new Afterlag(n);i.run(t)},xs:function(t,e){var n={iterations:2,timeout:200};e&&_.extend(n,e),$afterlag.run(t,n)},s:function(t,e){var n={iterations:3,timeout:300};e&&_.extend(n,e),$afterlag.run(t,n)},m:function(t,e){var n={iterations:5,timeout:500};e&&_.extend(n,e),$afterlag.run(t,n)},l:function(t,e){var n={iterations:7,timeout:700};e&&_.extend(n,e),$afterlag.run(t,n)},xl:function(t,e){var n={iterations:10,timeout:1e3};e&&_.extend(n,e),$afterlag.run(t,n)}},function(t){app.define("config"),app.define("effects"),app.define("sizes"),app.define("utils"),app.define("plugins"),app.define("device"),app.define("events"),app.define("loader"),app.define("$dom"),app.$dom={html:t("html"),body:t("body"),document:t(document),window:t(window),root:t("#app")},app.events={click:document&&"ontouchstart"in document.documentElement?"tap":"click"},app.keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32},window.KEY=app.keys,app.prefixed={transform:Modernizr.prefixed("transform"),"transform-origin":Modernizr.prefixed("transformOrigin"),"transition-duration":Modernizr.prefixed("transitionDuration")},$$=window.jQuery,window.moment&&moment.locale("ru"),t.fn.api=function(t){return this.data(t)?this.data(t):this.data(t,{}).data(t)}}($),function(t,e){e.init=function(n){if(n){var i,o=n.split("."),a=t;for(i=0;i<o.length;i++)a=a[o[i]];a&&"function"==typeof a.init?(a.init(),e.log("Initialize: <"+n+"> ready")):e.log("ERROR: <"+n+"> initialize")}},e.is=function(n,i){if(n){var o,a=n.split("."),r=t;for(o=0;o<a.length;o++)r=r[a[o]];r?i&&"function"==typeof i&&i():e.log("NOT found: <"+n+">")}},e.log=function(t){t&&("object"==typeof t?console.dir(t):console.log(t))},e.logger=function(t,n){t&&n&&("init"===t?e.log("Initialize: <"+n+"> ready"):"open"===t?e.log("OPEN: <"+n+">"):"close"===t?e.log("CLOSE: <"+n+">"):e.log(t+": <"+n+">"))},e.random=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},e.template=function(n,i,o){if(!t.templates[n])return void e.log("NOT found: <"+n+"> template");var a=Mustache.render(t.templates[n](),i?i:{}),r=$(a).appendTo(o?o:t.$dom.root);return r},e.copyArray=function(t){var n=null===t?null:e.isObject(t)?{}:[];for(var i in t)"object"==typeof t[i]&&"prototype"!==i?n[i]=e.copyArray(t[i]):n[i]=t[i];return n},e.sortArray=function(t,e,n){var i=_.sortBy(t,function(t){return t[e]});return"desc"===n?i.reverse():i},e.sortByDate=function(t,e,n){if(!window.moment)return t;var i=_.sortBy(t,function(t){return moment(t[e]).format("X")});return"desc"===n?i.reverse():i},e.isArray=function(t){if(t&&"[object Array]"===Object.prototype.toString.call(t))return!0},e.isFunction=function(t){if(t&&"function"==typeof t)return!0},e.fixTouchScroll=function(e,n){var i=null,o=null;e.on("touchmove MSPointerMove",function(e){if(0===o){var n=e.changedTouches[0].clientY;n<i?(i=0,e.preventDefault()):t.device&&t.device.isIOS?setTimeout(function(){i=n},1e3):i=n}}),n.on("scroll",function(){o=this.scrollTop})},e.raf=function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return e?e(t):window.setTimeout(t,1e3/60)},e.caf=function(t){var e=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;e(t),t=null},e.support={transitions:Modernizr.csstransitions},e.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e.transEndEventName=e.transEndEventNames[Modernizr.prefixed("transition")],e.animEndEventNames={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e.animEndEventName=e.animEndEventNames[Modernizr.prefixed("animation")],e.onEndTransition=function(t,n){var i=function(t){if(e.support.transitions){if(t.target!=this)return;this.removeEventListener(e.transEndEventName,i)}n&&"function"==typeof n&&n.call(this)};e.support.transitions?t.addEventListener(e.transEndEventName,i):i()},e.onEndAnimation=function(t,n){var i=function(t){if(e.support.transitions){if(t.target!=this)return;this.removeEventListener(e.animEndEventName,i)}n&&"function"==typeof n&&n.call(this)};e.support.transitions?t.addEventListener(e.animEndEventName,i):i()},e.onLoadImage=function(t,e){function n(){a||(a=!0,e(!0))}function i(){e(!1)}var o=new Image,a=!1;o.src=t,o.onerror=i,o.onload=n,o.complete&&n()},e.getSizeImage=function(t,e){function n(){a||(a=!0,e(o.naturalWidth,o.naturalHeight))}function i(){e(!1)}var o=new Image,a=!1;o.src=t,o.onerror=i,o.onload=n,o.complete&&n()},e.getScroll=function(t){var e=t.x*-1,n=t.y*-1,i=t.maxScrollX*-1,o=t.maxScrollY*-1;return{x:e,y:n,maxX:i,maxY:o}},e.throttle=function(t,e){var n=!0;return function(i){n&&(n=!1,setTimeout(function(){n=!0},e),t(i))}},e.debounce=function(t,e,n,i){3==arguments.length&&"boolean"!=typeof n&&(i=n,n=!1);var o;return function(){var a=arguments;i=i||this,n&&!o&&t.apply(i,a),clearTimeout(o),o=setTimeout(function(){!n&&t.apply(i,a),o=null},e)}},e.indexOf=function(t,e,n){for(var i=n||0,o=(t||[]).length;i<o;i++)if(t[i]==e)return i;return-1},e.inArray=function(t,n){return e.indexOf(t,n)!=-1},e.trim=function(t){return(t&&String(t)||"").replace(/^\s+|\s+$/g,"")},e.underscored=function(t){return e.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},e.deepExtend=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]&&"object"==typeof n[i]?e.deepExtend(t[i],n[i]):t[i]=n[i]);return t},e.deepFindWhere=function(t,n,i,o){if(t instanceof Array)for(var a=0;a<t.length;a++)o=e.deepFindWhere(t[a],n,i,o);else for(var r in t)r==n&&t[r]==i&&(o=t),(t[r]instanceof Object||t[r]instanceof Array)&&(o=e.deepFindWhere(t[r],n,i,o));return o},e.numberFormat=function(t,e,n,i){if(isNaN(t)||null==t)return"";t=parseInt(t).toFixed(~~e),i="string"==typeof i?i:",";var o=t.split("."),a=o[0],r=o[1]?(n||".")+o[1]:"";return a.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+r},e.clean=function(t,n){return t=e.trim(t),t?t:void 0!==n?n:null},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isEmail=function(t){return t.match(/.+@.+\..+/i)},e.newId=function(){return String(Math.round((new Date).getTime()/1e3))},e.getDateNow=function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),i=t.getSeconds(),o=t.getMonth()+1,a=t.getDate(),r=t.getFullYear();return e<10&&(e="0"+e),n<10&&(n="0"+n),i<10&&(i="0"+i),o<10&&(o="0"+o),a<10&&(a="0"+a),r+"-"+o+"-"+a+" "+e+":"+n+":"+i},e.supportClipboard=function(){return!!(window.clipboardData&&window.clipboardData.setData||document.queryCommandSupported&&document.queryCommandSupported("copy"))},e.copyToClip=function(t){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",t);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var e=document.createElement("textarea");e.textContent=t,e.style.position="fixed",document.body.appendChild(e),e.select();try{return document.execCommand("copy")}catch(t){return console.warn("Copy to clipboard failed.",t),!1}finally{document.body.removeChild(e)}}},e.bbUpdate=function(t,e){t.on("update",function(t){var n=t.data&&t.data.transaction&&t.data.transaction.length&&t.data.transaction[0].path?t.data.transaction[0].path[0]:null,i=t.data&&t.data.transaction&&t.data.transaction.length?t.data.transaction[0].value:null;e(n,i,t)})},e.getCookie=function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},e.setCookie=function(t,e,n){n=n||{};var i=n.expires;if("number"==typeof i&&i){var o=new Date;o.setTime(o.getTime()+1e3*i),i=n.expires=o}i&&i.toUTCString&&(n.expires=i.toUTCString()),e=encodeURIComponent(e);var a=t+"="+e;for(var r in n){a+="; "+r;var s=n[r];s!==!0&&(a+="="+s)}document.cookie=a},window.moment&&(e.moment=window.moment),window._?_.extend(_,e):window._=e,t.utils=window._}(app,app.utils),function(t){t.history=[],t.resources=function(e,n,i){n=n||$.noop,i=i||$.noop;for(var o=[],a=0;a<e.length;a++)t.history.indexOf(e[a])<0&&o.push(e[a]);return o.length?void Modernizr.load({load:o,callback:function(e){t.history.push(e),i()},complete:n}):n()},t.images=function(t,e,n){var i=0;e=e||$.noop,n=n||$.noop,t.imagesLoaded({background:".bg-cover"}).always(e).progress(function(t){i++,n(i,t.images.length)})}}(app.loader),function(t,e){var n=function(){t.width=e.window.width(),t.height=parseInt(window.innerHeight,10)};e.window.on("resize.app",n),n()}(app.sizes,app.$dom),function(t,e,n){t.support=Modernizr,t.isMobile=t.support.touch,"true"==e.root.attr("demo")&&(app.demo=!0,e.window.width()<1025&&(t.isMobile=!0,e.html.removeClass("m-no-touch").addClass("m-touch"))),e.html.addClass(t.isMobile?"d-mobile":"d-no-mobile"),t.isRetina=window.devicePixelRatio&&window.devicePixelRatio>1,e.html.addClass(t.isRetina?"d-retina":"d-no-retina");var i=function(){var n=e.window.width();t.isPhone=n<768,t.isTablet=n<1025&&n>767,t.orientation=t.isTablet&&n<1025&&n>991||t.isPhone&&n>480?"landscape":"portrait",e.html.addClass(t.isPhone?"d-phone":"d-no-phone").removeClass(t.isPhone?"d-no-phone":"d-phone").addClass(t.isTablet?"d-tablet":"d-no-tablet").removeClass(t.isTablet?"d-no-tablet":"d-tablet").addClass("landscape"===t.orientation?"r-landscape":"r-portrait").removeClass("landscape"!==t.orientation?"r-landscape":"r-portrait"),t.is=t.isPhone?"phone":t.isTablet?"tablet":"desktop"};if(e.window.on("resize.sizeCheck",i),i(),t.ua=navigator.userAgent,navigator.userAgent.match(/(iPhone)/i)&&(t.isPhone=!0),navigator.userAgent.match(/iPad/i)&&(e.html.addClass("d-ipad"),t.isIPad=!0),navigator.userAgent.match(/(iPhone|iPod touch)/i)&&(e.html.addClass("d-iphone"),t.isIPhone=!0),navigator.userAgent.match(/(iPad|iPhone|iPod touch)/i)){e.html.addClass("d-ios"),t.isIOS=!0;var o=navigator.userAgent.match(/.*CPU.*OS (\d)_(\d)/i);t.verOS=!(!o||!o[1])&&o[1]+(o[2]?"."+o[2]:"")}else e.html.addClass("d-no-ios");if(navigator.userAgent.match(/.*CPU.*OS 7_\d/i)&&(e.html.addClass("d-ios7"),t.isIOS7=!0),navigator.userAgent.match(/Android/i)){e.html.addClass("d-android"),t.isAndroid=!0;var o=navigator.userAgent.match(/Android (\d)\.(\d)/i);t.verOS=!(!o||!o[1])&&o[1]+(o[2]?"."+o[2]:"")}if(app.device.isMobile&&(t.os=t.isAndroid?"android":t.isIOS?"ios":"unknown"),e.html.hasClass("d-ipad d-ios7")&&e.window.on("resize orientationchange focusout",function(){window.scrollTo(0,0)}),t.isWin=navigator.platform.indexOf("Win")>-1,t.isMac=navigator.platform.indexOf("Mac")>-1,t.isLinux=navigator.platform.indexOf("Linux")>-1,e.html.addClass(t.isMac?"d-macOS":"d-no-macOS"),t.platform=t.isWin?"win":t.isMac?"mac":t.isLinux?"linux":"unknown",t.isSafari=navigator.userAgent.toLowerCase().indexOf("safari")>-1,e.html.addClass(t.isSafari?"d-safari":"d-no-safari"),t.isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,e.html.addClass(t.isChrome?"d-chrome":"d-no-chrome"),t.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,e.html.addClass(t.isFirefox?"d-firefox":"d-no-firefox"),t.isMobile&&window.FastClick&&"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1),!t.isMobile){var a,r=e.body[0];e.window[0].addEventListener("scroll",function(){clearTimeout(a),r.getAttribute("class")&&r.getAttribute("class").match(/disable__hover/)||r.classList.add("disable__hover"),a=setTimeout(function(){r.classList.remove("disable__hover")},300)},!1)}app.device.get=function(){return n.extend(n.omit(app.device,["get","support"]),{screen:app.sizes})}}(app.device,app.$dom,app.utils),function(t,e,n,i,o){t.define("features.links"),t.features.links={active:!1,init:function(){this.active||(n.body.on("click","a",function(e){var n=this.getAttribute("href");n&&"#"!=n&&!n.match(/http:/)&&t.tag("section-loader").show()}),this.active=!0)}};t.features.links}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("features.jobsSearch"),t.features.jobsSearch={init:function(){$store.jobs.apiUrl="https://api.hh.ru/vacancies?";var t=Url.parseQuery(),e={area:null,metro:null,salary:null,specialization:null,industry:null,experience:null,employment:null,schedule:null,label:null,order_by:t.order_by?t.order_by:"relevance",period:t.period?t.period:"30",page:t.page?parseInt(t.page):0,pages:$store.jobs.pages?parseInt($store.jobs.pages):0,per_page:20};$store.jobs.state&&o.extend(e,$store.jobs.state),$State=new Baobab(e)}};t.features.jobsSearch}(app,$,app.$dom,app.events,app.utils),app.config={domain:null,api:"/public/api",request:function(){return{loader:!1,notify:!0}},logger:{method:"addLog",report:!1},share:{title:"Создать крутое резюме и получить престижную работу"},changeStyles:!1},function(){app.define("metrics.public"),app.metrics.public={ver:"1.0",plan:{name:"free",period:"month"},tooltips:{regSocial:!1},offers:{popup:{blog:{subscribe:{show:!1,hide:!1,success:!1,email:!1}}}}}}(),function(t,e,n,i,o){t.define("sections"),t.sections={init:function(){t.plugins.eventsEmitter&&t.plugins.eventsEmitter.init(this),t.device.isPhone&&!location.href.match(/\/jobs\//)&&(n.body.removeClass("appLoading"),t.features.links.init()),o.each(t.sections,function(t){t.init&&t.init()})}}}(app,$,app.$dom,app.events,app.utils),$store.jobs=$store.jobs||{},$store.jobs.dictionary=new Baobab({vacancy_search_order:[{id:"publication_time",name:"по дате"},{id:"salary_desc",name:"по убыванию зарплаты"},{id:"salary_asc",name:"по возрастанию зарплаты"},{id:"relevance",name:"по соответствию"}],vacancy_search_period:[{id:"30",name:"за месяц"},{id:"7",name:"за неделю"},{id:"3",name:"за 3 дня"},{id:"1",name:"за сутки"}],currency:[{rate:1,code:"RUR",abbr:"руб.",in_use:!0,default:!0,name:"Рубли"},{rate:.031187,code:"AZN",abbr:"AZN",in_use:!1,default:!1,name:"Манаты"},{rate:.032631,code:"BYR",abbr:"бел. руб.",in_use:!1,default:!1,name:"Белорусские рубли"},{rate:.016542,code:"EUR",abbr:"EUR",in_use:!0,default:!1,name:"Евро"},{rate:.0344,code:"GEL",abbr:"GEL",in_use:!1,default:!1,name:"Грузинский лари"},{rate:1.202315,code:"KGS",abbr:"KGS",in_use:!1,default:!1,name:"Киргизский сом"},{rate:5.444251,code:"KZT",abbr:"KZT",in_use:!1,default:!1,name:"Тенге"},{rate:.469585,code:"UAH",abbr:"грн.",in_use:!1,default:!1,name:"Гривны"},{rate:.017399,code:"USD",abbr:"USD",in_use:!0,default:!1,name:"Доллары"},{rate:57.501998,code:"UZS",abbr:"UZS",in_use:!1,default:!1,name:"Узбекский сум"}]}),function(t,e,n,i,o){t.define("plugins.define"),t.plugins.define=function(t){this.__name__=t,window[t]={}},t.plugins.define.prototype={module:function(t,e){var n,i=t.split("."),o=window[this.__name__],a=i.length;for(n=0;n<a;n++)"undefined"==typeof o[i[n]]&&(o[i[n]]={}),a-1==n&&e&&(o[i[n]]=e),o=o[i[n]];return o}}}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("plugins.sections"),t.plugins.sections=function(t,e){this.scope=t,this.active=!1,this.options=e||{},this.content=this.options.content||this.scope},t.plugins.sections.prototype={show:function(t){if(!this.active){var n=this,t=t||{};if(t.forceShow){this.active=!0;var i=e(this.content);return i.addClass("transition-none"),this.scope.setAttribute("data-inner","show"),this.scope.setAttribute("data-open",!0),t.scroll&&(t.scroll.refresh(),t.scroll.scrollTop()),o.isFunction(t.beforeShow)&&t.beforeShow(),t.update&&t.tag?(t.tag.update(t.update),t.tag.one("updated",function(){o.isFunction(t.afterShow)&&t.afterShow()})):o.isFunction(t.afterShow)&&t.afterShow(),void $afterlag.run(function(){i.removeClass("transition-none")})}this.scope.setAttribute("data-open",!0),this.scope.setAttribute("data-loading",!0),o.isFunction(t.beforeShow)&&t.beforeShow(),o.onEndTransition(this.content,function(){o.isFunction(t.callback)?t.callback(n._afterShow.bind(n),n.hide.bind(n)):t.update&&t.tag?(t.tag.update(t.update),t.tag.one("updated",function(){n._afterShow(t)})):n._afterShow(t),n.active=!0})}},_afterShow:function(t){var e=this,t=t||{};this.scope.setAttribute("data-inner","show"),$afterlag.run(function(){t.scroll&&(t.scroll.refresh(),t.scroll.scrollTop()),e.scope.setAttribute("data-loading",!1),o.isFunction(t.afterShow)&&t.afterShow()})},loading:function(t){var e=this;t?(this.scope.setAttribute("data-inner","hidden"),this.scope.setAttribute("data-loading",!0)):(this.scope.setAttribute("data-inner","show"),$afterlag.run(function(){e.scope.setAttribute("data-loading",!1)}))},hide:function(t){if(this.active){var e=this,t=t||{};this.scope.setAttribute("data-open",!1),o.isFunction(t.beforeHide)&&t.beforeHide(),o.onEndTransition(this.content,function(){e.scope.setAttribute("data-inner","hidden"),o.isFunction(t.afterHide)&&t.afterHide(),e.active=!1})}}}}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("plugins.metrika"),t.plugins.metrika=function(t){t&&(this.state=t.data,this.previousState=t.previousData,this.visits=t.visits,this.key=t.key,this.report=t.report,this.init())},t.plugins.metrika.prototype={init:function(){if(!this.active){var e=this,n=this.state,i=this.key,a=Store.get(i),r=this.previousState?this.previousState.date:null,s=a&&a.ver||this.previousState&&this.previousState.ver;s&&s!=n.ver?Store.set(i,{ver:n.ver}):a&&!r?o.deepExtend(n,a):r&&(a=window.moment&&a&&a.date?moment(r).diff(moment(a.date))>0?this.previousState:a:this.previousState,o.deepExtend(n,a)),n.visits=this.visits?this.visits:1,n.device=t.device&&t.device.get?t.device.get():null,this.state=new Baobab(n,{autoCommit:!0}),this.state.on("write",function(t){Store.set(i,e.state.get())}),Store.set(i,this.state.get()),this.report&&this.logger(),this.active=!0}},set:function(t,e,n){if(t&&this.active){if(n||(n={}),"inc"==n.action){var i=this.state.get(t.split("."))+e;this.state.select(t.split(".")).set(i)}else if("dec"==n.action){var i=this.state.get(t.split("."))-e;this.state.select(t.split(".")).set(i)}else this.state.select(t.split(".")).set(e);n.force&&this.logger.request()}},get:function(t){if(t&&this.active)return this.state.get(t.split("."))},logger:function(){var e=this,n=this.report.method,i=this.report.interval;this.logger.request=function(){var i=e.state.get(),o=JSON.stringify(i);e.lastState!=o&&(e.lastState=o,t.request(n,i,{loader:!1,notify:!1}))},n&&i&&(this.lastState=JSON.stringify(this.state.get()),setInterval(function(){e.logger.request()},1e3*i))}}}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("plugins.share"),t.plugins.share=function(t,n){t&&n&&(this.scope=e(t),this.options=n,this.init())},t.plugins.share.prototype={init:function(){var t=this,e=this.options;this.active||(this.scope.on("click",e.buttons,function(n){var i=n.currentTarget,a=e.dataAttr?"data-"+e.dataAttr:"data-social",r=i.getAttribute(a);if(r){var s=e.share&&e.share.title||document.title,c=e.url||window.location.href;"fb"==r?t.fb(c,o.isFunction(s)?s():s):"vk"==r?t.vk(c,o.isFunction(s)?s():s):"gl"==r?t.gl(c,o.isFunction(s)?s():s):"dk"==r?t.dk(c,o.isFunction(s)?s():s):"tw"==r&&t.tw(c,o.isFunction(s)?s():s)}}),this.active=!0)},vk:function(t,e,n,i){url="http://vkontakte.ru/share.php?",url+="url="+encodeURIComponent(t),url+="&title="+encodeURIComponent(e),n&&(url+="&image="+encodeURIComponent(n)),i&&(url+="&description="+encodeURIComponent(i)),url+="&noparse=true",this.popup(url)},dk:function(t,e){url="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1",url+="&st.comments="+encodeURIComponent(e),url+="&st._surl="+encodeURIComponent(t),this.popup(url)},fb:function(t,e,n,i){url="http://www.facebook.com/sharer.php?",url+="&p[title]="+encodeURIComponent(e),url+="&p[url]="+encodeURIComponent(t),n&&(url+="&p[images][0]="+encodeURIComponent(n)),i&&(url+="&p[summary]="+encodeURIComponent(i)),this.popup(url)},tw:function(t,e){url="http://twitter.com/share?",url+="text="+encodeURIComponent(e),url+="&url="+encodeURIComponent(t),url+="&counturl="+encodeURIComponent(t),this.popup(url)},ml:function(t,e,n,i){url="http://connect.mail.ru/share?",url+="url="+encodeURIComponent(t),url+="&title="+encodeURIComponent(e),n&&(url+="&imageurl="+encodeURIComponent(n)),i&&(url+="&description="+encodeURIComponent(i)),this.popup(url)},gl:function(t){url="https://plus.google.com/share?",url+="url="+encodeURIComponent(t),this.popup(url)},popup:function(t){window.open(t,"","width=600,height=400,left=350,top=170,status=no,toolbar=no,menubar=no")},destroy:function(){this.scope.off(),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("plugins.eventsEmitter"),t.plugins.eventsEmitter={init:function(t){o.extend(t,this.events)},events:{_events:{},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},trigger:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;e<n;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},destroyEvents:function(){var t=this;o.each(this._events,function(e,n){delete t._events[n]})}}}}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("plugins.scroll.refreshFix"),t.plugins.scroll.refreshFix=function(t){t&&(this.active=!1,this.scroll=o.isElement(t)?t:t[0],this.reset(),this.init())},t.plugins.scroll.refreshFix.prototype={init:function(){this.active||(this.scroll.addEventListener("touchstart",this.touchstartHandler.bind(this),!1),this.scroll.addEventListener("touchmove",this.touchmoveHandler.bind(this),!1),this.active=!0)},touchstartHandler:function(t){1==t.touches.length&&(this.lastTouchY=t.touches[0].clientY,this.maybePreventPullToRefresh=0==window.pageYOffset)},touchmoveHandler:function(t){var e=t.touches[0].clientY,n=e-this.lastTouchY;if(this.lastTouchY=e,this.maybePreventPullToRefresh&&(this.maybePreventPullToRefresh=!1,n>0))return void t.preventDefault()},reset:function(){this.maybePreventPullToRefresh=!1,this.lastTouchY=0},destroy:function(){this.active&&(this.scroll.removeEventListener("touchstart",this.touchstartHandler),this.scroll.removeEventListener("touchmove",this.touchmoveHandler),this.reset(),this.active=!1)}}}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("sections.jobs"),t.sections.jobs={init:function(){t.device.isPhone||(this.el=n.body.children(".section.jobs"),this.el.length&&this.render())},render:function(){n.root=this.el,$Sections=new t.plugins.define("$Sections")}};t.sections.jobs}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("sections.jobsSearch"),t.sections.jobsSearch={init:function(){t.device.isPhone||(this.el=n.body.children("section-jobs-search"),this.el.length&&this.render())},render:function(){t.features.jobsSearch.init(),t.sections.on("afterMounted",function(){riot.mount("jobs-search-pages-side","jobs-search-pages",{renderClient:!0,utils:window._})}),this.$nav=this.el.find("jobs-search-nav"),this.$progress=this.el.find(".jobs__search__progress__line")[0],a.scroll(),a.nav(),t.sections.on("afterMounted",function(){a.$sidebar=a.el.find("jobs-search-filter"),a.$panel=a.$nav.find(".jobs__search__nav__panel")}),window.addEventListener("popstate",function(t){location.reload()},!1)},nav:function(){this.$nav.find(".jobs__search__nav__panel").on("click",".input-group",function(t){a.$nav.attr("data-show",!0),a.navShow=!0,o.onEndTransition(a.$panel[0],function(){a.$nav.find("jobs-search-form").find(".input-group[data-item='"+e(t.target).attr("data-item")+"']").find("input").focus()})})},scroll:function(){function e(){var e=n.window.scrollTop();if(e>s&&!r?(a.el.attr("data-fixed",!0),r=!0):e<s&&r&&(a.el.removeAttr("data-fixed"),r=!1),a.navShow&&(a.$nav.removeAttr("data-show"),a.navShow=!1),a.$sidebar){a.sticky.a||(a.sticky.a=a.$sidebar.parent()[0],a.sticky.b=a.$sidebar[0]);var o=a.sticky.a.getBoundingClientRect(),d=document.documentElement.clientHeight;if(o.bottom<d){var u=a.sticky.b.getBoundingClientRect(),l=o.top+u.height,p=document.documentElement.clientHeight,f=Math.round(l-d),h=Math.round(l-p);u.height+a.sticky.P-1>p?(o.top<a.sticky.K?h+a.sticky.N>f?u.bottom-p+a.sticky.N-1<=0?(a.$sidebar.attr("data-fixed",!0),a.sticky.b.style.top=p-u.height-a.sticky.N+"px",a.sticky.Z=a.sticky.N+o.top+u.height-p):(a.$sidebar.removeAttr("data-fixed"),a.sticky.b.style.top=-a.sticky.Z+"px"):(a.$sidebar.removeAttr("data-fixed"),a.sticky.b.style.top=-f+"px",a.sticky.Z=f):o.top-a.sticky.P<0?u.top-a.sticky.P+1>=0?(a.$sidebar.attr("data-fixed",!0),a.sticky.b.style.top=a.sticky.P+"px",a.sticky.Z=o.top-a.sticky.P):(a.$sidebar.removeAttr("data-fixed"),a.sticky.b.style.top=-a.sticky.Z+"px"):(a.$sidebar.removeAttr("data-fixed"),a.sticky.b.style.top="",a.sticky.Z=0),a.sticky.K=o.top):o.top-a.sticky.P<=0?o.top-a.sticky.P<=f?(a.$sidebar.removeAttr("data-fixed"),a.sticky.b.style.top=-f+"px"):(a.$sidebar.attr("data-fixed",!0),a.sticky.b.style.top=a.sticky.P+"px"):(a.$sidebar.removeAttr("data-fixed"),a.sticky.b.style.top="")}}var m=document.documentElement.scrollHeight;c=1-(m-e)/m,c=c*(1.01+t.sizes.height/m)*100,a.$progress.style[t.prefixed.transform]="translate3d("+c+"%, 0, 0)",i=!1}var i=!1,r=!1,s=94,c=0;a.sticky={a:null,b:null,K:null,Z:0,P:66,N:30},n.window.on("scroll",function(){i||(i=!0,o.raf(e))})}};var a=t.sections.jobsSearch}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("sections.jobsMobile"),t.sections.jobsMobile={init:function(){t.device.isPhone&&(this.el=n.body.children(".section.jobs"),this.el.length&&this.render())},render:function(){n.root=this.el,n.body.scrollTop(0),$Sections=new t.plugins.define("$Sections"),$Screens=new t.plugins.define("$Screens"),new t.plugins.scroll.refreshFix(this.el),t.sections.on("afterMounted",function(){a.$nav.find(".input-group input").on("blur",function(){setTimeout(function(){a.$nav.attr("data-show",!1),t.$dom.root.attr("data-overlay",!1)},20)}),a.$overlay.on("click",function(){a.$nav.attr("data-show",!1),t.$dom.root.attr("data-overlay",!1)})}),this.$nav=this.el.find("jobs-panel-mobile"),this.$nav.length||(this.$nav=this.el.find("jobs-search-panel-mobile")),this.$overlay=this.el.find(".section__overlay"),a.nav(),window.addEventListener("popstate",function(t){location.reload()},!1)},nav:function(){a.$nav.on("click",".input-group",function(n){a.$nav.attr("data-show",!0),t.$dom.root.attr("data-overlay",!0),e(this).find("input").focus()})},mainScreen:{show:function(){t.$dom.body.removeClass("no-scroll"),t.$dom.root.attr("data-overlay-full",!1)},hide:function(){t.$dom.body.addClass("no-scroll"),t.$dom.root.attr("data-overlay-full",!0)}}};var a=t.sections.jobsMobile}(app,$,app.$dom,app.events,app.utils),function(t,e,n,i,o){t.define("sections.jobsSearchMobile"),t.sections.jobsSearchMobile={init:function(){t.device.isPhone&&(this.el=n.body.children("section-jobs-search-mobile"),this.el.length&&this.render())},render:function(){t.features.jobsSearch.init(),$Sections.module("search.$content",t.$dom.root.find(".jobs__search__content")),this.$nav=this.el.find("jobs-search-panel-mobile"),t.sections.on("afterMounted",function(){riot.mount("jobs-search-pages-side","jobs-search-pages",{renderClient:!0,utils:window._}),$Sections.search.$content.on("swipeLeft",function(){$Sections.search.panel.open.filter()}),$Sections.search.$content.on("click",".jobs__list__item__title",function(n){n.preventDefault(),n.stopPropagation();var i=e(this);t.sections.jobsMobile.mainScreen.hide(),$Screens.vacancy.show(i.attr("data-id"),i.attr("href"),function(){t.sections.jobsMobile.mainScreen.show()})})}),a.scroll()},scroll:function(){function t(){var t=n.window.scrollTop();e(t),r=t,i=!1}function e(t){r-t>s&&t>c?a.$nav.attr("data-turn",!0):(t-r>s&&t>c||t<c)&&a.$nav.attr("data-turn",!1)}var i=!1,r=0,s=30,c=54;n.window.on("scroll",function(){i||(i=!0,o.raf(t))})}};var a=t.sections.jobsSearchMobile}(app,$,app.$dom,app.events,app.utils),function(){app.define("metrics.jobs"),app.metrics.jobs={ver:"1.0",search:{help:{swipeLeft:!1,swipeRight:!1},refinePanel:!1}}}();