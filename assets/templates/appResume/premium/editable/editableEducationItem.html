<editable-education-item>

    <div class="row mb-m mt-m">
        <div class="col-md-12">
            <div class="pos-rel">
                <span class="input-title">год окончания</span>
                <div class="select select-xl">
                    <select onChange={ $Editable.component.autoCommitItems } data-name="year">
                        <option each={ item in _.range(1940, new Date().getFullYear() + 1) } value={ item } selected={ editing.year == item }>{ item }</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="col-md-12 xsm-mt-m">
            <div class="pos-rel">
                <span class="input-title">уровень образования</span>
                <div class="select select-xl">
                    <select onChange={ $Editable.component.autoCommitItems } data-name="level">
                        <optgroup label="Высшее образование">
                            <option if={ item.parent == "1" || item._id == "1" } each={ item in $store.education.get() } value={ item._id } selected={ editing.level == item._id }>{ item.title }</option>
                        </optgroup>
                        <optgroup label="Среднее образование">
                            <option if={ item.parent == "0" && item._id != "1" } each={ item in $store.education.get() } value={ item._id } selected={ editing.level == item._id }>{ item.title }</option>
                        </optgroup>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-m">
        <div class="col-md-24">
            <input onInput={ $Editable.component.autoCommitItems } class="input input-l" type="text" placeholder="Учебное заведение" data-name="title" autocomplete="off" value={ opts.item.title }>
        </div>
    </div>
    <div if={ opts.item.level != "8" } class="row mb-m">
        <div class="col-md-12">
            <input onInput={ $Editable.component.autoCommitItems } class="input input-l" type="text" placeholder="Факультет" data-name="faculty" autocomplete="off" value={ opts.item.faculty }>
        </div>
        <div class="col-md-12 xsm-mt-m">
            <input onInput={ $Editable.component.autoCommitItems } class="input input-l" type="text" placeholder="Специальность" data-name="speciality" autocomplete="off" value={ opts.item.speciality }>
        </div>
    </div>

    <div class="hr pt-m"></div>

<script>

    this.on("update", function(){
        this.editing = this.opts.item;
    });

</script>

</editable-education-item>
