var app=app||{};app.define=function(e){var t,i=e.split("."),n=app;for("app"==i[0]&&(i=i.slice(1)),t=0;t<i.length;t++)"undefined"==typeof n[i[t]]&&(n[i[t]]={}),n=n[i[t]];return n},app.tag=function(e){if(window.riot)return _.filter(riot.vdom,function(t){if(t.root.nodeName.toLowerCase()==e)return t})[0]},window.Store=window.store||{},window.$store={},function(e){app.define("config"),app.define("effects"),app.define("sizes"),app.define("utils"),app.define("plugins"),app.define("device"),app.define("events"),app.define("loader"),app.define("$dom"),app.$dom={html:e("html"),body:e("body"),document:e(document),window:e(window),root:e("#app")},app.events={click:document&&"ontouchstart"in document.documentElement?"tap":"click"},app.keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32},window.KEY=app.keys,app.prefixed={transform:Modernizr.prefixed("transform"),"transform-origin":Modernizr.prefixed("transformOrigin"),"transition-duration":Modernizr.prefixed("transitionDuration")},$$=window.jQuery,window.moment&&moment.locale("ru"),e.fn.api=function(e){return this.data(e)?this.data(e):this.data(e,{}).data(e)}}($),function(){app.url=function(){return(app.config.domain?app.config.domain:"")+app.config.api},app.fetch=function(e){var t=[],n=[],r=e.split(", ");return new Promise(function(e,o){for(i=0;i<r.length;i++)_.isFunction(app.fetch.API[r[i]])&&t.push(r[i]);r.length!==t.length&&(n=_.difference(r,t)),Promise.all(t.map(app.fetch.API).concat(n.map(app.request))).then(function(t){e(t)})})},app.request=function(e,t,i){return new Promise(function(n,r){var o=_.underscored(e).replace(/^(get|set|add|del)/g,"").replace(/_/g,"/"),a=null,s=app.config.request();if(i&&_.extend(s,i),e.match(/^get/)?a="GET":e.match(/^set/)?a="PUT":e.match(/^add/)?a="POST":e.match(/^del/)&&(a="DELETE"),!a)return void r("Error type request: "+e);"GET"===a&&t&&(o+="/"+t,t=null),s.loader&&window.$LoaderAjax&&$LoaderAjax.show();var l=new XMLHttpRequest;l.open(a,app.url()+o,!0),l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-Type","application/json");try{app.request.list&&app.request.list.method===e&&app.request.list.params==JSON.stringify(t)&&app.request.list.xhr.abort(),l.send(t?JSON.stringify(t):{})}catch(e){}l.onload=function(e){try{if(200==this.status){var t=JSON.parse(this.response);n("OK"===t.status&&t.result?t.result:t)}else{s.notify&&app.errHandler(this.status);var i=new Error(this.statusText);i.code=this.status,r(i)}}catch(e){}app.request.list={},s.loader&&window.$LoaderAjax&&$LoaderAjax.hide()},l.onerror=function(){r(new Error("Network Error")),s.loader&&window.$LoaderAjax&&$LoaderAjax.hide()};try{app.request.list={method:e,xhr:l,params:JSON.stringify(t)}}catch(e){}})},app.errHandler=function(e){401==e?window.$Notify?$Notify.show({color:"info",text:"Авторизируйтесь снова"}):alert("Авторизируйтесь снова"):window.$Notify?$Notify.show({color:"danger",text:"Ошибка проведения операции повторите ее чуть позже"}):alert("Ошибка проведения операции повторите ее чуть позже")};var e=function(e,t,i){app.request(app.config.logger.method,{data:{msg:e,line:i,url:t},device:app.device.get(),type:"error"},{loader:!1,notify:!1})},t=_.debounce(e,1e3,!0);window.onerror=function(e,i,n){app&&app.config&&app.config.logger&&app.config.logger.report&&t(e,i,n)}}(),function(e){e.history=[],e.resources=function(t,i,n){i=i||$.noop,n=n||$.noop;for(var r=[],o=0;o<t.length;o++)e.history.indexOf(t[o])<0&&r.push(t[o]);return r.length?void Modernizr.load({load:r,callback:function(t){e.history.push(t),n()},complete:i}):i()},e.images=function(e,t,i){var n=0;t=t||$.noop,i=i||$.noop,e.imagesLoaded({background:".bg-cover"}).always(t).progress(function(e){n++,i(n,e.images.length)})}}(app.loader),function(e,t){var i=function(){e.width=t.window.width(),e.height=parseInt(window.innerHeight,10)};t.window.on("resize.app",i),i()}(app.sizes,app.$dom),function(e,t,i){e.support=Modernizr,e.isMobile=e.support.touch,"true"==t.root.attr("demo")&&(app.demo=!0,t.window.width()<1025&&(e.isMobile=!0,t.html.removeClass("m-no-touch").addClass("m-touch"))),t.html.addClass(e.isMobile?"d-mobile":"d-no-mobile"),e.isRetina=window.devicePixelRatio&&window.devicePixelRatio>1,t.html.addClass(e.isRetina?"d-retina":"d-no-retina");var n=function(){var i=t.window.width();e.isPhone=i<768,e.isTablet=i<1025&&i>767,e.orientation=e.isTablet&&i<1025&&i>991||e.isPhone&&i>480?"landscape":"portrait",t.html.addClass(e.isPhone?"d-phone":"d-no-phone").removeClass(e.isPhone?"d-no-phone":"d-phone").addClass(e.isTablet?"d-tablet":"d-no-tablet").removeClass(e.isTablet?"d-no-tablet":"d-tablet").addClass("landscape"===e.orientation?"r-landscape":"r-portrait").removeClass("landscape"!==e.orientation?"r-landscape":"r-portrait"),e.is=e.isPhone?"phone":e.isTablet?"tablet":"desktop"};if(t.window.on("resize.sizeCheck",n),n(),e.ua=navigator.userAgent,navigator.userAgent.match(/(iPhone)/i)&&(e.isPhone=!0),navigator.userAgent.match(/iPad/i)&&(t.html.addClass("d-ipad"),e.isIPad=!0),navigator.userAgent.match(/(iPhone|iPod touch)/i)&&(t.html.addClass("d-iphone"),e.isIPhone=!0),navigator.userAgent.match(/(iPad|iPhone|iPod touch)/i)){t.html.addClass("d-ios"),e.isIOS=!0;var r=navigator.userAgent.match(/.*CPU.*OS (\d)_(\d)/i);e.verOS=!(!r||!r[1])&&r[1]+(r[2]?"."+r[2]:"")}else t.html.addClass("d-no-ios");if(navigator.userAgent.match(/.*CPU.*OS 7_\d/i)&&(t.html.addClass("d-ios7"),e.isIOS7=!0),navigator.userAgent.match(/Android/i)){t.html.addClass("d-android"),e.isAndroid=!0;var r=navigator.userAgent.match(/Android (\d)\.(\d)/i);e.verOS=!(!r||!r[1])&&r[1]+(r[2]?"."+r[2]:"")}if(app.device.isMobile&&(e.os=e.isAndroid?"android":e.isIOS?"ios":"unknown"),t.html.hasClass("d-ipad d-ios7")&&t.window.on("resize orientationchange focusout",function(){window.scrollTo(0,0)}),e.isWin=navigator.platform.indexOf("Win")>-1,e.isMac=navigator.platform.indexOf("Mac")>-1,e.isLinux=navigator.platform.indexOf("Linux")>-1,t.html.addClass(e.isMac?"d-macOS":"d-no-macOS"),e.platform=e.isWin?"win":e.isMac?"mac":e.isLinux?"linux":"unknown",e.isSafari=navigator.userAgent.toLowerCase().indexOf("safari")>-1,t.html.addClass(e.isSafari?"d-safari":"d-no-safari"),e.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,t.html.addClass(e.isFirefox?"d-firefox":"d-no-firefox"),e.isMobile&&window.FastClick&&"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1),!e.isMobile){var o,a=t.body[0];t.window[0].addEventListener("scroll",function(){clearTimeout(o),a.getAttribute("class")&&a.getAttribute("class").match(/disable__hover/)||a.classList.add("disable__hover"),o=setTimeout(function(){a.classList.remove("disable__hover")},300)},!1)}app.device.get=function(){return i.extend(i.omit(app.device,["get","support"]),{screen:app.sizes})}}(app.device,app.$dom,app.utils),function(e,t){t.init=function(i){if(i){var n,r=i.split("."),o=e;for(n=0;n<r.length;n++)o=o[r[n]];o&&"function"==typeof o.init?(o.init(),t.log("Initialize: <"+i+"> ready")):t.log("ERROR: <"+i+"> initialize")}},t.is=function(i,n){if(i){var r,o=i.split("."),a=e;for(r=0;r<o.length;r++)a=a[o[r]];a?n&&"function"==typeof n&&n():t.log("NOT found: <"+i+">")}},t.log=function(e){e&&("object"==typeof e?console.dir(e):console.log(e))},t.logger=function(e,i){e&&i&&("init"===e?t.log("Initialize: <"+i+"> ready"):"open"===e?t.log("OPEN: <"+i+">"):"close"===e?t.log("CLOSE: <"+i+">"):t.log(e+": <"+i+">"))},t.random=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.template=function(i,n,r){if(!e.templates[i])return void t.log("NOT found: <"+i+"> template");var o=Mustache.render(e.templates[i](),n?n:{}),a=$(o).appendTo(r?r:e.$dom.root);return a},t.copyArray=function(e){var i=null===e?null:t.isObject(e)?{}:[];for(var n in e)"object"==typeof e[n]&&"prototype"!==n?i[n]=t.copyArray(e[n]):i[n]=e[n];return i},t.sortArray=function(e,t,i){var n=_.sortBy(e,function(e){return e[t]});return"desc"===i?n.reverse():n},t.sortByDate=function(e,t,i){if(!window.moment)return e;var n=_.sortBy(e,function(e){return moment(e[t]).format("X")});return"desc"===i?n.reverse():n},t.isArray=function(e){if(e&&"[object Array]"===Object.prototype.toString.call(e))return!0},t.isFunction=function(e){if(e&&"function"==typeof e)return!0},t.fixTouchScroll=function(t,i){var n=null,r=null;t.on("touchmove MSPointerMove",function(t){if(0===r){var i=t.changedTouches[0].clientY;i<n?(n=0,t.preventDefault()):e.device&&e.device.isIOS?setTimeout(function(){n=i},1e3):n=i}}),i.on("scroll",function(){r=this.scrollTop})},t.raf=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return t?t(e):window.setTimeout(e,1e3/60)},t.caf=function(e){var t=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;t(e),e=null},t.support={transitions:Modernizr.csstransitions},t.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},t.transEndEventName=t.transEndEventNames[Modernizr.prefixed("transition")],t.animEndEventNames={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},t.animEndEventName=t.animEndEventNames[Modernizr.prefixed("animation")],t.onEndTransition=function(e,i){var n=function(e){if(t.support.transitions){if(e.target!=this)return;this.removeEventListener(t.transEndEventName,n)}i&&"function"==typeof i&&i.call(this)};t.support.transitions?e.addEventListener(t.transEndEventName,n):n()},t.onEndAnimation=function(e,i){var n=function(e){if(t.support.transitions){if(e.target!=this)return;this.removeEventListener(t.animEndEventName,n)}i&&"function"==typeof i&&i.call(this)};t.support.transitions?e.addEventListener(t.animEndEventName,n):n()},t.onLoadImage=function(e,t){function i(){o||(o=!0,t(!0))}function n(){t(!1)}var r=new Image,o=!1;r.src=e,r.onerror=n,r.onload=i,r.complete&&i()},t.getSizeImage=function(e,t){function i(){o||(o=!0,t(r.naturalWidth,r.naturalHeight))}function n(){t(!1)}var r=new Image,o=!1;r.src=e,r.onerror=n,r.onload=i,r.complete&&i()},t.getScroll=function(e){var t=e.x*-1,i=e.y*-1,n=e.maxScrollX*-1,r=e.maxScrollY*-1;return{x:t,y:i,maxX:n,maxY:r}},t.throttle=function(e,t){var i=!0;return function(n){i&&(i=!1,setTimeout(function(){i=!0},t),e(n))}},t.debounce=function(e,t,i,n){3==arguments.length&&"boolean"!=typeof i&&(n=i,i=!1);var r;return function(){var o=arguments;n=n||this,i&&!r&&e.apply(n,o),clearTimeout(r),r=setTimeout(function(){!i&&e.apply(n,o),r=null},t)}},t.indexOf=function(e,t,i){for(var n=i||0,r=(e||[]).length;n<r;n++)if(e[n]==t)return n;return-1},t.inArray=function(e,i){return t.indexOf(e,i)!=-1},t.trim=function(e){return(e&&String(e)||"").replace(/^\s+|\s+$/g,"")},t.underscored=function(e){return t.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},t.deepExtend=function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]&&"object"==typeof i[n]?t.deepExtend(e[n],i[n]):e[n]=i[n]);return e},t.numberFormat=function(e,t,i,n){if(isNaN(e)||null==e)return"";e=parseInt(e).toFixed(~~t),n="string"==typeof n?n:",";var r=e.split("."),o=r[0],a=r[1]?(i||".")+r[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+n)+a},t.clean=function(e,i){return e=_.escape(t.trim(e)),e?e:void 0!==i?i:null},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isEmail=function(e){return e.match(/.+@.+\..+/i)},t.newId=function(){return String(Math.round((new Date).getTime()/1e3))},t.getDateNow=function(){var e=new Date,t=e.getHours(),i=e.getMinutes(),n=e.getSeconds(),r=e.getMonth()+1,o=e.getDate(),a=e.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),n<10&&(n="0"+n),r<10&&(r="0"+r),o<10&&(o="0"+o),a+"-"+r+"-"+o+" "+t+":"+i+":"+n},t.supportClipboard=function(){return!!(window.clipboardData&&window.clipboardData.setData||document.queryCommandSupported&&document.queryCommandSupported("copy"))},t.copyToClip=function(e){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}},t.bbUpdate=function(e,t){e.on("update",function(e){var i=e.data&&e.data.transaction&&e.data.transaction.length&&e.data.transaction[0].path?e.data.transaction[0].path[0]:null,n=e.data&&e.data.transaction&&e.data.transaction.length?e.data.transaction[0].value:null;t(i,n,e)})},window._?_.extend(_,t):window._=t,e.utils=window._}(app,app.utils),window.$afterlag={run:function(e,t){var i={delay:0,iterations:1};t&&_.extend(i,t);var n=new Afterlag(i);n.run(e)},xs:function(e,t){var i={iterations:2,timeout:200};t&&_.extend(i,t),$afterlag.run(e,i)},s:function(e,t){var i={iterations:3,timeout:300};t&&_.extend(i,t),$afterlag.run(e,i)},m:function(e,t){var i={iterations:5,timeout:500};t&&_.extend(i,t),$afterlag.run(e,i)},l:function(e,t){var i={iterations:7,timeout:700};t&&_.extend(i,t),$afterlag.run(e,i)},xl:function(e,t){var i={iterations:10,timeout:1e3};t&&_.extend(i,t),$afterlag.run(e,i)}},app.config={domain:null,api:"/private/api",request:function(){return{loader:!0,notify:!0}},logger:{method:"addLog",report:!0},metrika:{active:!0,report:{method:"addMetrika",interval:30,yametrika:{counter:"27428363"}}},payment:{yamoney:"410012719414223"},profile:{photo:{minWidth:440,maxHeight:620}},resume:{free:{autoSave:{interval:15}}},share:{title:"Создать крутое резюме и получить престижную работу"},changeStyles:!1},app.fetch.API=function(e){return app.fetch.API[e]()},app.fetch.API.getDataInit=function(){return new Promise(function(e,t){app.request("getDataInit").then(function(t){$account=$store.account,$store.account.set(t.account?t.account:{}),$store.data.set(t.data?t.data:[]),$store.inbox.set(t.inbox?t.inbox:[]);var i=[];if(_.each(t.data,function(e){e.likes&&i.push({_id:e.id,plan:e.plan,post:e.post,color:e.config.color,likes:e.likes})}),$store.likes.set(i?i:[]),app.config.metrika&&app.config.metrika.active){var n=!1;app.config.metrika.report&&(n={method:app.config.metrika.report.method,interval:app.config.metrika.report.interval}),app.metrika=new app.plugins.metrika({key:"private",data:app.metrics.private,previousData:t.metrika,visits:$account.get("visits"),report:n})}e(t)})})},function(e){app.define("tutorial.welcome"),app.tutorial.welcome=[function(){return{figure:"square",target:".profile .tutorial__changeData",position:"right",padding:18,offset:{top:2},title:"Заполнить свой профиль",text:"Ввести свои основные данные, чтобы не вводить их повторно для каждого резюме. Чтобы перейти на следующий шаг нажмите «Далее»."}},function(){return{figure:"circle",target:".profile .user__photo__image",position:"right",zoom:.8,title:"Фотография",text:"Загрузить свою фотографию. Сейчас ваши действия не активны, но после прохождения обзора весь интерфейс в вашем распоряжении."}},function(){return{figure:"square",target:".profile .profile__column__right",position:"left",offset:{top:20,left:-40},title:"Тариф",text:"Ваш текущий тариф. Сменить пароль и тариф на «Premium»."}},function(){return{figure:"square",target:".profile .tutorial__reflink",position:"right",width:380,padding:18,offset:{top:8},title:"Реферальная программа",text:"Получить на свой счет 369 руб., приведя друга по реферальной ссылке."}},function(){return{figure:"square",target:".profile .tutorial__balance",position:"left",width:300,padding:30,offset:{top:5,left:74},title:"Пополнить баланс",text:"Сейчас доступны скидочные программы при оплате от 3 месяцев."}},function(){return{actions:{callback:function(e,t,i){$Sections.profile.section.hide(),$afterlag.s(function(){$Sections.resume.list.start(function(){e.nextStep()}),$Sections.resume.list.show()})}}}},function(){return{figure:"square",target:".slider__wrapper .slider__item:first",position:"right",padding:10,offset:{top:-18},title:"Карточка резюме",text:"Демонстрационная карточка резюме. Перейдем к обзору его элементов, нажмите «Далее».",actions:{callback:function(e,t){t.find(".resume__item").attr("data-blank",!1)}}}},function(){return{figure:"square",target:".slider__wrapper .slider__item:first .resume__item__header__text",position:"right",padding:25,offset:{left:-5},title:"Карточка резюме",text:"Фотография, должность, дата последнего обновления, желаемая зарплата."}},function(){return{figure:"square",target:".slider__wrapper .slider__item:first .resume__item__stat__button",position:"right",zoom:1.4,offset:{top:2},title:"Показать статистику",text:"Статистика посещений вашего резюме с детализацией по дням."}},function(){return{figure:"circle",target:".slider__wrapper .slider__item:first .resume__item__control__remove",position:"right",width:80,height:80,offset:{top:-30,left:-6},title:"Удалить резюме",text:"Кнопка удаления резюме."}},function(){return{figure:"circle",target:".slider__wrapper .slider__item:first .resume__item__control__menu",position:"right",width:80,height:80,offset:{top:-20,left:-8},title:"Функциональное меню",text:"Перейти к редактированию резюме, сохранить резюме в PDF, распечатать, создать копию, удалить резюме."}},function(){return{figure:"circle",target:".slider__wrapper .slider__item:first .resume__item__control__inbox",position:"right",width:80,height:80,offset:{top:-18,left:-8},title:"Входящие обращения",text:"Приглашения или просто входящие обращения от ваших потенциальных работодателей. Доступно на «Premium» аккаунте."}},function(){return{figure:"circle",target:".slider__wrapper .slider__item:first .resume__item__likes",position:"right",width:80,height:80,offset:{top:-20,left:-20},title:"Лайки",text:"Собирайте лайки ваших резюме. Всякий кто просмотрит ваше резюме может поставить свой лайк - это могут быть, как работодатели так и коллеги. Доступно на «Premium» аккаунте."}},function(){return{figure:"square",target:".slider__wrapper .slider__item:first .resume__item__stat__percentage",position:"right",padding:12,offset:{left:-5},title:"Процент привлекательности",text:"Чем выше процент тем более привлекательно ваше резюме для работодателя.",actions:{toggle:function(t,i){i&&!$store.data.get().length&&e(".slider__wrapper .slider__item:first .resume__item").attr("data-blank",!0)}}}},function(){return{figure:"square",target:".resume__navbar",position:"down",padding:15,title:"Навигационное меню",text:"Пройти тест профориентации, входящие обращения, перейти на «Premium» аккаунт, пополнить баланс, покинуть офис."}},function(){return{figure:"circle",target:".main__button",position:"right",padding:10,title:"Открыть меню",text:"Изменить свой профиль по умолчанию, регистрационные данные, сменить пароль входа, загрузить свою фотографию и т.д."}},function(){return{activeZone:!0,figure:"square",target:".slider__wrapper resume-list-item-new",position:"right",zoom:1.1,title:"Создать новое резюме",text:"Нажмите, чтобы перейти к созданию нового резюме.",actions:{click:{elem:"self",callback:function(e,t){e.hide()}}},nav:{buttons:{success:!1}}}}]}(window.jQuery||window.Zepto),function(){app.define("tutorial.resumeFree"),app.tutorial.resumeFree=[function(){return{figure:"square",target:"resume-control-buttons",position:"left",offset:{top:-22},zoom:.96,title:"Элементы управления",text:"Предпросмотр резюме, загрузить свою фотографию, выбрать шаблон резюме, распечатать, сохранить в PDF, настройки резюме (опубликовать резюме, включить сбор статистики, выбор языка и т.д.)"}},function(){return{figure:"square",target:"resume-control-step",position:"left",width:80,offset:{left:-20},zoom:1.1,activeZone:!0,title:"Переключение секций",text:"Переход между основными секциями: общие данные, образование, владение языками, карьера, текст о себе."}},function(){return{figure:"circle",target:"share-button",position:"left",title:"Поделиться резюме",text:"Поделиться свои резюме в социальных сетях: Facebook, ВКонтакте, Twitter, Одноклаcсниках."}},function(){return{figure:"square",target:"resume-control-percentage .percentage__container",position:"right",width:120,offset:{top:-20,left:-30},title:"Процент заполнения",text:"Индикатор процента заполнения вашего резюме, чем он выше, тем более привлекательно вашего резюме для потенциального работодателя."}},function(){return{figure:"circle",target:".oScreen__section__buttons .button__close",position:"left",width:40,height:40,title:"Закрыть резюме",text:"Завершить редактирование резюме. Ваше резюме периодически будет проходить процедуру автосохранения, также автосохранение сработает в момент его закрытия."}}]}(),$store.account=_.extend(new Baobab([]),{onPhotoUpload:function(){$Sections.photoUpload.show(function(e){app.request("setUploadPhoto",{profile:!0,image:e}).then(function(t){t&&t.image&&$store.account.select("photo").set(e)})})},onSaveData:function(e,t){e.select("name").set($store.account.get("name").length?$store.account.get("name"):e.get("name")),e.select("surname").set($store.account.get("surname").length?$store.account.get("surname"):e.get("surname")),$store.account.set(e.get()),_.isFunction(t)&&t(),app.request("setDataProfile",_.pick($store.account.get(),["name","surname","gender","birthday","contacts"]))},take:{lastVisit:function(){var e=$store.account.get("visite"),t=moment(e).diff(moment(),"days");return 0===t?"сегодня в "+moment(e).format("HH:mm"):t===-1?"вчера в "+moment(e).format("HH:mm"):moment(e).format("D MMMM")+" в "+moment(e).format("HH:mm")},age:function(e){var t="ru",i=e,n=moment().diff(moment(i.year+"-"+i.month+"-"+i.day),"years");return n+="1"==n?"ru"==t?" год":" year":n>1&&n<5?"ru"==t?" года":"year":"ru"==t?" лет":" year"}}}),function(){$store.data=_.extend(new Baobab([]),{onPhotoUpload:function(e,t){$Sections.photoUpload.show(function(i){app.request("setResumePhoto",{id:e,image:i},{loader:!1}).then(function(e){e&&e.image&&_.isFunction(t)&&t(e.image)})})},onRemove:function(t){$Alert.show({title:"Удалить резюме?",subtitle:"Вы уверены?",success:{callback:function(){app.request("delResume",{id:t}).then(function(){e.select({_id:t}).unset(),!app.device.isPhone&&$Sections.resume.list.slider.index>0&&$Sections.resume.list.slider.prevSlides(),$Sections.resume.list.update()})}}})},onEdit:function(e){var t=$store.data.get({_id:e});"premium"==t.plan?"premium"!=$account.get("plan")?$Sections.plan.show("premium"):$Loader.show({color:t.config.color}).then(function(){location.replace("/private/resume/"+e)}):$Sections.resume.edit.show({id:e})},onPreview:function(e){var t=null;return $Sections.resume.preview.show({plan:e.plan,data:e,template:e.template}).then(function(){t()}),new Promise(function(e,i){t=e})},onStat:function(e,t){$Sections.resume.stat.show(e,t)},onSendMail:function(e){$Sections.resume.sendmail.show(e)},onGetPdf:function(e){$Sections.progress.show(function(){var t=e.post,i=e.template,n=$$('<div class="resume__preview resume__preview--shadow">').appendTo(app.$dom.body);$i18n.lang(e.lang),moment.locale(e.lang),window.$resume=window.$resume||$store.resume,$store.resume.set(e);var r=riot.mount(n[0],"resume-basic-template"+i)[0];r.one("updated",function(){app.request("addConvertPdf",{id:e._id,template:e.template,stamp:e.config.pdf.logotype,content:n.html()},{loader:!1}).then(function(e){if(e&&e.pdf){r.unmount();var i=new XMLHttpRequest;i.open("GET",e.pdf,!0),i.responseType="arraybuffer",i.onload=function(){var e=this.response;$Sections.progress.hide(function(){var i=new Blob([e],{type:"application/pdf"});saveAs(i,t?t:"MyResume.pdf")})},i.send()}})}),app.metrika.set("resume.create.control.pdf",!0)})},onPublic:function(t,i,n){app.request("setResumePublic",{id:t,public:i}).then(function(){e.select({_id:t},"public").set(i),_.isFunction(n)&&n()})},dropMenu:[{title:"Редактировать",callback:function(t){e.onEdit(t)}},{hidden:!app.device.isPhone,title:"Статистика",callback:function(t,i){e.onStat(t,i)}},{title:"Отправить на почту",callback:function(t){e.onSendMail(t)}},{title:"Сохранить в PDF",callback:function(t,i){e.onGetPdf(i)}},{title:"Создать копию",callback:function(t){function i(t,i){t.plan=i,app.request("addResume",{data:t}).then(function(i){i&&i.id&&(t._id=i.id,e.push(t),$Sections.resume.list.update())})}var n=e.select({_id:t}).deepClone();"premium"==$account.get("plan")?$Alert.show({title:"В каком формате создать копию?",subtitle:"Выберите формат резюме",success:{title:"Premium",callback:function(){i(n,"premium")}},cancel:{title:"Free",callback:function(){i(n,"free")}}}):i(n,n.plan)}},{hidden:app.device.isMobile,title:"Распечатать",callback:function(){alert("Распечатать")}},{title:"Удалить",callback:function(t){e.onRemove(t)}}]});var e=$store.data}(),function(){$store.inbox=_.extend(new Baobab([]),{counterAll:function(){return _.where(e.get(),{new:!0}).length},getCounterNewByResumeId:function(t){return _.where(e.get(),{resumeId:t,new:!0}).length},getCounterByResumeId:function(t){return _.where(e.get(),{resumeId:t}).length},getItemByResumeId:function(e){return $store.inbox.select({resumeId:e,new:!0}).get("_id")},getItemsByResumeId:function(t){return _.where(e.get(),{resumeId:t})},onViewed:function(t,i){var n=e.select({_id:i});n.get("new")&&(n.select("new").set(!1),t.push(i))}});var e=$store.inbox}(),$store.likes=_.extend(new Baobab([]),{counterAll:function(){return _.flatten(_.pluck($store.likes.get(),"likes")).length}}),$store.month=_.extend(new Baobab([{_id:"1",title:{en:"January",ru:"Январь"}},{_id:"2",title:{en:"February",ru:"Февраль"}},{_id:"3",title:{en:"March",ru:"Март"}},{_id:"4",title:{en:"April",ru:"Апрель"}},{_id:"5",title:{en:"May",ru:"Май"}},{_id:"6",title:{en:"June",ru:"Июнь"}},{_id:"7",title:{en:"July",ru:"Июль"}},{_id:"8",title:{en:"August",ru:"Август"}},{_id:"9",title:{en:"September",ru:"Сентябрь"}},{_id:"10",title:{en:"October",ru:"Октябрь"}},{_id:"11",title:{en:"November",ru:"Ноябрь"}},{_id:"12",title:{en:"December",ru:"Декабрь"}}]),{getItems:function(e){return _.map($store.month.get(),function(t){return{_id:t._id,title:t.title[e||"ru"]}})},getTitleById:function(e,t){return $store.month.get({_id:e},"title",t||$store.resume.get("lang"))}}),$store.paymentMethod=_.extend(new Baobab([{method:"yamoney",title:"Яндекс.Деньги",text:"Оплатить электронными деньгами платежной системы яндекс денег.",value:"PC",pos:2},{method:"bankcard",title:"Банковcкой картой",text:"Оплата всеми пластиковыми картами Visa и MasterCard.",value:"AC",pos:1},{method:"mobile",title:"Со счета мобильного",text:"Оплатить со счета мобильного телефона сотовых операторов: Мегафон, МТС, Билайн, Tele2.",value:"MC",pos:3}]),{getValueByMethod:function(e){return _.findWhere($store.paymentMethod.get(),{method:e}).value}}),$store.paymentPeriod=_.extend(new Baobab([{period:"month1",title:"1 месяц",price:"369"},{period:"month3",title:"3 месяца",price:"869",sale:"-20%"},{period:"month6",title:"6 месяцев",price:"1369",sale:"-40%"},{period:"year1",title:"на 1 год",price:"1769",sale:"-60%"},{period:"year2",title:"на 2 года",price:"3569",sale:"-60%"}]),{getTitleByPeriod:function(e){return _.findWhere($store.paymentPeriod.get(),{period:e}).title},getPriceByPeriod:function(e){return _.findWhere($store.paymentPeriod.get(),{period:e}).price},getSaleByPeriod:function(e){return _.findWhere($store.paymentPeriod.get(),{period:e}).sale}}),$store.colors=_.extend(new Baobab([{_id:"#0084ff",title:"blueLight"},{_id:"#265cdc",title:"blue"},{_id:"#74b027",title:"green"},{_id:"#0bb5b7",title:"emerald"},{_id:"#ff7272",title:"pink"},{_id:"#d93663",title:"red"},{_id:"#c1a16b",title:"brown"},{_id:"#ea7f07",title:"orange"},{_id:"#ab81cd",title:"violetLight"},{_id:"#5856d6",title:"violet"}]),{getTitleById:function(e){return _.findWhere($store.colors.get(),{_id:e}).title}}),$store.coverletter=_.extend(new Baobab([{_id:"1",color:"black",title:"Белым по черному"},{_id:"2",color:"white",title:"Черным по белому"}]),{getTitleById:function(e){return _.findWhere($store.coverletter.get(),{_id:e}).title},getColorById:function(e){return _.findWhere($store.coverletter.get(),{_id:e}).color}}),$store.fonts=new Baobab(["futura","avant","gotham","proxima","myriad"]),$store.hobby=_.extend(new Baobab([{_id:"airplane",title:"Путешествия",value:27353},{_id:"basketball",title:"Баскетбол",value:40611},{_id:"books",title:"Чтение",value:4062},{_id:"camera",title:"Фото/видео",value:1999599},{_id:"car",title:"Автомобили",value:347560},{_id:"palette",title:"Рисование",value:23534},{_id:"comedy",title:"Театр",value:27906},{_id:"cooking",title:"Кулинария",value:22545},{_id:"cyclist",title:"Велосипед",value:2286},{_id:"dancer",title:"Танцы",value:150088},{_id:"happy",title:"Шоппинг",value:5173},{_id:"mirrors",title:"Клубы",value:23979},{_id:"movie",title:"Кино",value:909743},{_id:"musical",title:"Музыка",value:1605498},{_id:"poker",title:"Азартные игры",value:6535},{_id:"running",title:"Бег",value:5867},{_id:"snowboard",title:"Сноуборд",value:16734},{_id:"soccer",title:"Футбол",value:793657},{_id:"sport",title:"Лыжи",value:12032},{_id:"swimmer",title:"Плавание",value:10735},{_id:"typewriter",title:"Писательство",value:5882},{_id:"volleyball",title:"Волейбол",value:61144},{_id:"programming",title:"Программирование",value:10038},{_id:"weightlifting",title:"Тренажерный зал",value:7819},{_id:"tennis",title:"Теннис / Сквош",value:20252},{_id:"bowling",title:"Боулинг",value:12713},{_id:"yoga",title:"Йога",value:38675},{_id:"hunting",title:"Охота",value:35739},{_id:"boxing",title:"Бокс",value:113534},{_id:"fencing",title:"Фехтование",value:5399},{_id:"needlework",title:"Рукоделие",value:13249},{_id:"skydiving",title:"Прыжки с парашютом",value:4365},{_id:"pets",title:"Домашние животные",value:24673},{_id:"boardgames",title:"Настольные игры",value:36111},{_id:"bath",title:"Баня",value:28067},{_id:"computergames",title:"Компьютерные игры",value:9987},{_id:"singing",title:"Пение",value:1851},{_id:"decoration",title:"Декор",value:7587},{_id:"surfing",title:"Серфинг",value:4231},{_id:"chess",title:"Шахматы",value:139555},{_id:"horsebackriding",title:"Верховая езда",value:1609},{_id:"icehockey",title:"Хоккей",value:132542},{_id:"collecting",title:"Собирательство",value:1086},{_id:"floristics",title:"Флористика",value:2962},{_id:"billiards",title:"Бильярд",value:22939},{_id:"skateboarding",title:"Скейтбординг",value:1078},{_id:"rollers",title:"Ролики",value:15993},{_id:"mindgames",title:"Интеллектуальные игры",value:6647},{_id:"poetry",title:"Поэзия",value:3672},{_id:"hikes",title:"Походы / каякинг",value:2991},{_id:"rockclimbing",title:"Альпинизм",value:1434}]),{getTitleById:function(e){return _.findWhere($store.hobby.get(),{_id:e}).title}}),$store.demo={_id:"588becda9f1df3915186566b",public:!0,plan:"basic",template:"1",lang:"ru",post:"Web-Designer, Art-director, Illustrator",photo:"/preview/images/photo/photo_phone.jpg",percent:"97",commons:{name:"Виктория",surname:"",gender:"female",birthday:{day:"25",month:"8",year:"1986",hidden:!0},contacts:{city:"Москва",email:"mymail@gmail.com",phone:"(XXX) 500-5550",primary:"any",relocate:!0,site:"http://web-projects.me",skype:"myskype"}},salary:{amount:"125000",currency:"1",worktime:"1",graph:{active:!0,items:[8e4,1e5,125e3,15e4,175e3,195e3]},active:!0},tags:["Adobe Photoshop","InDesign","Illustrator","Sketch App","MS PowerPoint","HTML5","JavaScript","jQuery","UI/UX"],appeal:"Я графический дизайнер. В дизайне предпочитаю лаконичный стиль. В тексте — информационный. Убираю всё, что мешает увидеть суть.",about:"Высокий уровень ответсвенности, исполнительности, умение работать с людьми, высокий уровень социальной коммуникации. Открытость, порядочность, честность, любовь к порядку, педантичность, аккуратность, любовь к мелочам и деталям.\n\n Широкий круг интересов: иностранные языки, программирование, психология. Свободное время провожу с семьей или за чтением книг.",
likes:_.range(21),social:{title:"Я в социальных медиа",items:[{title:"fb",value:"http://facebook.com"},{title:"vk",value:"http://vk.com"},{title:"in",value:"http://instagram.com"},{title:"lk",value:"http://linkedin.com"}]},works:{title:"Мои проекты",text:"Наличие деловых контактов с представителями различных сфер таких как бизнесмены, журналисты, работники творческих профессий (продюсеры, художники, скульпторы, музыканты, и пр.)",items:[{_id:"1",year:"2015",title:"YellStore",text:"Idea, design UI/UX, Single Page App on JS, jQuery, Ajax, catching on client side, templates with mustache, css transform/transition, SVG, responsive, smacss, bem, gulp. Later in the task of writing Rest Full API on backend.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{_id:"2",year:"2014",title:"ResumeKraft",text:"Idea, design UI/UX, ModPerl, frontend only native JS, HTML5, canvas, Ajax, catching on client side, css transform/transition, responsive, smacss, gulp.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{_id:"3",year:"2014",title:"JQ test",text:"Idea, design UI/UX, JS, jQuery, Ajax, css transform/transition, responsive, less, gulp.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{_id:"4",year:"2013",title:"SalesHR",text:"ModPerl, catching on server side, JS (jQuery), bootstrap, fontawesome.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{_id:"5",year:"2012",title:"UpleSEO",text:"Perl, JS (jQuery), bootstrap, fontawesome, connection APIs: YandexMetrica, YandexWebmaster, Sape, eTXT.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{_id:"6",year:"2010",title:"UpleCMS",text:"Idea, design UI/UX, Perl, JS (jQuery), connection API YandexDirect. 18 modules.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}}]},skills:{title:"Основные компетенции",header:"Работаю в Illustrator, Adobe Photoshop и InDesign. Мой профиль — айдентика, web и promo. Разработка UI/UX.",text:"С любовью справляюсь с командой. Разработка дизайна интерфейсов для мобильных приложений на базе iOS, android. Создание иконок для приложений, дизайн сайтов. Дизайн деловой документации, дизайн полиграфической продукции, дизайн рекламных макетов. Разработка рекламных кампаний, фирменных стилей.",items:[{title:"Креативность",value:"90"},{title:"Управление проектами",value:"95"},{title:"Графический дизайн",value:"79"},{title:"Векторная графика",value:"86"}]},education:{title:"Образование",text:"Люблю учиться и повышать свои профессиональные навыки.",items:[{_id:"1",level:"1",title:"Российская академия народного хозяйства и государственной службы при Президенте РФ, Москва",faculty:"Инновационно-технологического бизнеса",speciality:"Инновационный менеджмент",year:"2013"},{_id:"2",level:"1",title:"Международная академия бизнеса и управления (МУБиУ), Москва",faculty:"Институт дизайна и рекламы",speciality:"Дизайн архитектурной среды",year:"2011"}]},courses:{title:"Курсы",text:"Тяга к исследовательской деятельности, постоянному образованию, поиску и внедрению нестандартных решений.",items:[{_id:"1",name:"Тренинговое Агентство «Мастер-Класс», Москва",title:"Семинар «Эффективная рекламная деятельность фирмы»",year:"2008"},{_id:"2",name:"Тренинговое Агентство «Мастер-Класс», Москва",title:"Тренинг «Эффективное руководство сотрудниками»",year:"2008"},{_id:"3",name:"DIGITAL PAINTING / Painter, Москва",title:"Школа Real Time",year:"2006"}]},languages:{title:"Владение языками",text:"Широкий круг интересов: иностранные языки, программирование, психология. Профессиональную деятельность считаю высшей степенью самореализации.",items:[{title:"native",value:"4"},{title:"en",value:"4"},{title:"de",value:"1"},{title:"fr",value:"2"}]},jobs:{title:"Работа в компаниях",text:"Стабильность и ответственность, способность закрывать участки работ гарантируя полную надежность и прозрачность процесса, принимать ответственные решения, грамотно мотивировать людей, снижать риски и достигать поставленных целей.",items:[{_id:"1",company:"Технопарк Сколково, ООО",city:"Москва",post:"Специалист по коммуникациям",from:{month:"4",year:"2014"},to:{month:"1",year:"2000"},text:"— Разработка дизайна промо-презентаций и презентаций для внутрикорпоративного использования\n— Разработка дизайна печатной и сувенирной продукции компании\n— Разработка дизайна электронных рассылок\n— Участие в разработке дизайна печатной продукции для Startup Village и Startup Tour\n— Авторский надзор за визуальной концепцией печатной продукции и рекламными кампаниями мероприятий (IASP 2016 Moscow, Открытые инновации)\n— Создание дизайна и контента страниц сайта компании",last:!0},{_id:"2",company:"ООО НПП «Тензосенсор»",city:"Москва",post:"Финансовый директор",from:{month:"2",year:"2011"},to:{month:"12",year:"2013"},text:"Взаимодействовала со Сколково в рамках развития проекта\nКоординировала работу финансового подразделения компании (2 человека)\nГотовила финансовую отчетность по проектам\nПредставляла компанию и её разработки на российских и зарубежных выставках (Финляндия, Франция, США)\nРазработала контент и дизайн-макеты рекламной продукции компании (презентации, буклеты)\nСоздала контент сайта компании и его дизайн\nРазработала дизайн логотипа компании\nПисала новости компании для публикации на сайте компании",last:!1},{_id:"3",company:"ООО НТЦ «Интрофизика»",city:"Москва",post:"Заместитель директора по маркетингу",from:{month:"7",year:"2010"},to:{month:"1",year:"2011"},text:"Участие в подготовке конкурсной документации НИОКР, в разработке стратегии компании относительно участия в тендерах.\nПодготовка аналитических отчетов о деятельности компании, подготовка отчетов об исследовании рынка и потенциале внедрения продуктов компании на рынок с учетом текущих тенденций развития.\nМатематические расчеты, построение прогнозных данных.",last:!1}]},hobby:{title:"Мои хобби",text:"Много читаю разнообразной литературы, путешествую, вдохновляюсь культурой в зарубежных странах. Люблю обучаться новому.",items:["airplane","comedy","swimmer","musical"]},coverletter:{text:"Привет ;)\n Я графический дизайнер. В дизайне предпочитаю лаконичный стиль. В тексте — информационный. Убираю всё, что мешает увидеть суть.",color:"1"},sections:[{name:"salary",title:"Желаемая зарплата",short:"Зарплата",control:!0,active:!0},{name:"tags",title:"Ключевые навыки",short:"Навыки",control:!0,active:!0},{name:"appeal",title:"Заголовок-обращение",short:"Обращение",control:!0,active:!0},{name:"about",title:"О себе текст",short:"О себе",control:!0,active:!0},{name:"social",title:"Аккаунты в соц. сетях",short:"Соц. ссылки",control:!0,active:!0},{name:"works",title:"Мои проекты",short:"Проекты",screen:!0,control:!0,active:!0},{name:"skills",title:"Основные компетенции",short:"Навыки",screen:!0,control:!0,active:!0},{name:"education",title:"Образование",short:"Учеба",screen:!0,control:!0,active:!0},{name:"courses",title:"Курсы",short:"Курсы",screen:!0,control:!0,active:!0},{name:"languages",title:"Владение языками",short:"Языки",screen:!0,control:!0,active:!0},{name:"jobs",title:"Работа в компаниях",short:"Карьера",screen:!0,control:!0,active:!0},{name:"hobby",title:"Мои хобби",short:"Хобби",screen:!0,control:!0,active:!0},{name:"contacts",title:"Контакты",short:"Контакты",screen:!0,control:!0,active:!0},{name:"feedback",title:"Обратная связь",short:"Обратная связь",screen:!0,control:!0,active:!0},{name:"coverletter",title:"Сопроводительное письмо",short:"Письмо",screen:!0,control:!1,active:!1}],config:{color:"#0084ff",font:"futura",photo:{minWidth:440,maxHeight:620,noise:!1},pdf:{logotype:!0},likes:{active:!0,count:!0},stat:!1}},$store.contactsPrimary=_.extend(new Baobab([{_id:"any",title:"Любой"},{_id:"email",title:"Электронная почта"},{_id:"phone",title:"Мобильный телефон"},{_id:"skype",title:"Skype"}]),{getTitleById:function(e){return _.findWhere($store.contactsPrimary.get(),{_id:e}).title}}),$store.education=_.extend(new Baobab([{_id:"1",parent:"0",title:{en:"Higher",ru:"Высшее"}},{_id:"2",parent:"1",title:{en:"Bachelor",ru:"Бакалавр"}},{_id:"3",parent:"1",title:{en:"Master",ru:"Магистр"}},{_id:"4",parent:"1",title:{en:"Candidate of Sciences",ru:"Кандидат наук"}},{_id:"5",parent:"1",title:{en:"Doctor of Sciences",ru:"Доктор наук"}},{_id:"6",parent:"0",title:{en:"Incomplete higher",ru:"Неоконченное высшее"}},{_id:"7",parent:"0",title:{en:"Vocational secondary",ru:"Среднее специальное"}},{_id:"8",parent:"0",title:{en:"Secondary",ru:"Среднее"}}]),{getItems:function(e){return _.map($store.education.get(),function(t){return{_id:t._id,parent:t.parent,title:t.title[e||$store.resume.get("lang")]}})},getTitleById:function(e,t){return $store.education.get({_id:e},"title",t||$store.resume.get("lang"))}}),$store.langs=_.extend(new Baobab([{_id:"ru",title:"Русский"},{_id:"en",title:"Английский"}]),{getTitleById:function(e){return _.findWhere($store.contactsPrimary.get(),{_id:e}).title}}),$store.languages=_.extend(new Baobab([{_id:"native",title:{en:"Native language",ru:"Родной язык"}},{_id:"en",title:{en:"English",ru:"Английский"}},{_id:"de",title:{en:"German",ru:"Немецкий"}},{_id:"fr",title:{en:"French",ru:"Французский"}}]),{getItems:function(e){return _.map($store.languages.get(),function(t){return{_id:t._id,title:t.title[e||$store.resume.get("lang")]}})},getTitleById:function(e,t){return $store.languages.get({_id:e},"title",t||$store.resume.get("lang"))}}),$store.languages.select=_.extend(new Baobab([{_id:"1",title:{en:"No knowledge",ru:"Не владею"}},{_id:"2",title:{en:"Basic knowledge",ru:"Базовые знания"}},{_id:"3",title:{en:"I read literature",ru:"Читаю литературу"}},{_id:"4",title:{en:"Can attend an interview",ru:"Могу проходить интервью"}},{_id:"5",title:{en:"I am a fluent speaker",ru:"Свободно владею"}}]),{getItems:function(){return _.map($store.languages.select.get(),function(e){return{_id:e._id,title:e.title[$store.resume.get("lang")]}})},getTitleById:function(e){return $store.languages.select.get({_id:e},"title",$store.resume.get("lang"))}}),$store.languages.native=_.extend(new Baobab([{_id:"1",title:"Абазинский"},{_id:"2",title:"Абхазский"},{_id:"3",title:"Аварский"},{_id:"4",title:"Русский"}]),{getTitleById:function(e){return _.findWhere($store.languages.native.get(),{_id:e}).title}}),$store.resume=_.extend(new Baobab({},{autoCommit:!0}),{prepare:{demo:function(){return $store.demo&&$store.resume.set($store.demo),$store.resume.get()},premium:function(e){return"editing"==e&&$store.resume.set(_.deepExtend({tags:null,appeal:null,works:null,skills:null,education:null,courses:null,hobby:null,coverletter:{text:null,color:"1"},likes:[],sections:[{name:"salary",title:"Желаемая зарплата",short:"Зарплата",control:!0,active:!0},{name:"tags",title:"Ключевые навыки",short:"Навыки",control:!0,active:!0},{name:"appeal",title:"Заголовок-обращение",short:"Обращение",control:!0,active:!0},{name:"about",title:"О себе текст",short:"О себе",control:!0,active:!0},{name:"social",title:"Аккаунты в соц. сетях",short:"Соц. ссылки",control:!0,active:!0},{name:"works",title:"Мои проекты",short:"Проекты",screen:!0,control:!0,active:!0},{name:"skills",title:"Основные компетенции",short:"Навыки",screen:!0,control:!0,active:!0},{name:"education",title:"Образование",short:"Учеба",screen:!0,control:!0,active:!0},{name:"courses",title:"Курсы",short:"Курсы",screen:!0,control:!0,active:!0},{name:"languages",title:"Владение языками",short:"Языки",screen:!0,control:!0,active:!0},{name:"jobs",title:"Работа в компаниях",short:"Карьера",screen:!0,control:!0,active:!0},{name:"hobby",title:"Мои хобби",short:"Хобби",screen:!0,control:!0,active:!0},{name:"contacts",title:"Контакты",short:"Контакты",screen:!0,control:!0,active:!0},{name:"feedback",title:"Обратная связь",short:"Обратная связь",screen:!0,control:!0,active:!0},{name:"coverletter",title:"Сопроводительное письмо",short:"Письмо",screen:!0,control:!1,active:!1}],config:{color:"#0084ff",font:"futura",photo:{minWidth:440,maxHeight:620,noise:!1},likes:{active:!0,count:!0}}},$store.resume.get())),$store.resume.get()}},default:{resume:function(e){return{accountId:e.ACCOUNT_ID,public:!0,plan:e.plan,template:e.template?e.template:"1",lang:"ru",post:null,photo:e.photo,create:moment().format(),update:moment().format(),commons:{name:e.name,surname:e.surname,gender:e.gender,birthday:e.birthday,contacts:e.contacts},salary:"free"==e.plan?$store.resume.default.salary():null,about:null,social:null,education:null,languages:null,jobs:null,percent:0,config:{photo:{minWidth:440,maxHeight:620},pdf:{logotype:"free"==e.plan},stat:!1}}},salary:function(){return{amount:"50000",currency:"1",worktime:"1",graph:{active:!1,items:["50000","50000","50000","50000","50000","50000"]},active:!0}}},take:{relocate:function(){var e=$store.resume.get("lang"),t=$store.resume.get("commons","gender");if($store.resume.get("commons","contacts","relocate")){if("ru"!=e)return"willing to relocate";if("male"==t)return"готов к переезду";if("female"==t)return"готова к переезду"}else{if("ru"!=e)return"not willing to relocate";if("male"==t)return"не готов к переезду";if("female"==t)return"не готова к переезду"}},birthday:{date:function(){var e=$store.resume.get("commons","birthday"),t=e.month<10?"0"+e.month:e.month,i=e.day<10?"0"+e.day:e.day;return moment(e.year+"-"+t+"-"+i).format("D MMMM YYYY")},age:function(){var e=$store.resume.get("lang"),t=$store.resume.get("commons","birthday"),i=t.month<10?"0"+t.month:t.month,n=t.day<10?"0"+t.day:t.day,r=moment().diff(moment(t.year+"-"+i+"-"+n),"years");return r+="1"==r?"ru"==e?" год":" year":r>1&&r<5?"ru"==e?" года":"year":"ru"==e?" лет":" year"}},salary:{amount:function(e){return _.numberFormat(e||$store.resume.get("salary","amount"),0,".",".")},currency:function(e){return $store.currency.getTitleById(e||$store.resume.get("salary","currency"))},worktime:function(e,t){return $store.worktime.getTitleById(e||$store.resume.get("salary","worktime"),t)}},education:{items:function(){return _.sortArray($store.resume.get("education","items"),"year","desc")}},courses:{items:function(){return _.sortArray($store.resume.get("courses","items"),"year","desc")}},jobs:{items:function(){return $store.resume.take.jobs.sort($store.resume.get("jobs","items"))},period:function(e,t){var i=$store.resume.get("lang"),n=(new Date).getDate(),r=0,o=0,a=$store.month.getTitleById(e.from.month)+" "+e.from.year;if(e.last)var s="ru"==i?"по настоящее время":"Until Now",r=moment().diff(e.from.year+"-"+(e.from.month<10?"0"+e.from.month:e.from.month)+"-"+(n<10?"0"+n:n),"month");else{var s=$store.month.getTitleById(e.to.month)+" "+e.to.year;r=moment(e.to.year+"-"+(e.to.month<10?"0"+e.to.month:e.to.month)+"-"+(n<10?"0"+n:n)).diff(e.from.year+"-"+(e.from.month<10?"0"+e.from.month:e.from.month)+"-"+(n<10?"0"+n:n),"month")}return r>0&&(o=Math.floor(r/12),"1"==o?o+="ru"==i?" год":" year":o>1&&o<5?o+="ru"==i?" года":" year":o<1?o="":o+="ru"==i?" лет":" year"),r&&(r-=12*Math.floor(r/12),r+="1"==r?"ru"==i?" месяц":" month":r>1&&r<5?"ru"==i?" месяца":" months":"ru"==i?" месяцев":" months"),o?t?o+(parseInt(r)>0?", "+r:""):a+" — "+s+" ("+o+(parseInt(r)>0?", "+r:"")+")":r?t?r:a+" — "+s+" ("+r+")":t?void 0:a+" — "+s},year:function(e){return e.last?(new Date).getFullYear():e.to.year},sort:function(e){return _.sortBy(e,function(e){return $store.resume.take.jobs.year(e)}).reverse()}},coverletter:{color:function(){return $store.coverletter.getColorById($store.resume.get("coverletter","color"))}}},placeholder:{name:"Александр Иванов",post:"Web-Designer, Art-director, Illustrator",salary:{amount:"125000",currency:"1",worktime:"1"},tags:["Adobe Photoshop","Ajax","Bootstrap","CSS3","Gulp","HTML5","JavaScript","jQuery","JSON","Less","MySQL"],appeal:"Award winning interdisciplinary Designer & Art director. Currently pursuing a perfect blend of style and function for a wide range of interactive product design.",about:"Your brand is how your customers see your business. It’s shaped by the way you represent yourself – professionally, socially and visually. It’s what makes you unique. It’s what makes you desirable. It’s shorthand for everything that brings your business together.",social:{title:function(){return $i18n("resume.premium.template.I am in social media")}},works:{title:function(){return $i18n("resume.premium.template.My projects")},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},skills:{title:function(){return $i18n("resume.premium.template.Main skills")},header:"We’re full service which means we’ve got you covered on design and content right through to digital.",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa.",items:[{title:"Development",value:"90"},{title:"Design",value:"95"},{title:"Marketing",value:"79"},{title:"WordPress",value:"86"}]},education:{title:function(){return $i18n("resume.premium.template.Education")},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa. Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},courses:{title:function(){return $i18n("resume.premium.template.Courses")},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa. Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},languages:{title:function(){return $i18n("resume.premium.template.Languages")},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae.",items:[{title:"native",value:"4"},{title:"en",value:"2"},{title:"de",value:"1"},{title:"fr",value:"1"}],help:{text:"Здесь вы можете более подробно написать уровень владения языком и/или указать сертификаты и баллы за них."}},jobs:{title:function(){return $i18n("resume.premium.template.Experience")},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},hobby:{title:function(){return $i18n("resume.premium.template.My hobby")},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."}}}),$store.currency=_.extend(new Baobab([{_id:"1",title:"₽"},{_id:"2",title:"$"},{_id:"3",title:"€"}]),{getTitleById:function(e){return _.findWhere($store.currency.get(),{_id:e}).title}}),$store.worktime=_.extend(new Baobab([{_id:"1",title:{en:"full-time",ru:"full-time"}},{_id:"2",title:{en:"part-time",ru:"Частичная"}},{_id:"3",title:{en:"project work",ru:"Проектная"}}]),{getItems:function(e){return _.map($store.worktime.get(),function(t){return{_id:t._id,title:t.title[e||$store.resume.get("lang")]}})},getTitleById:function(e,t){return $store.worktime.get({_id:e},"title",t||$store.resume.get("lang"))}});