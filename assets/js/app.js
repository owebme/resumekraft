var app=app||{};app.define=function(e){var t,i=e.split("."),n=app;for("app"==i[0]&&(i=i.slice(1)),t=0;t<i.length;t++)"undefined"==typeof n[i[t]]&&(n[i[t]]={}),n=n[i[t]];return n},app.tag=function(e){if(window.riot)return _.filter(riot.vdom,function(t){if(t.root.nodeName.toLowerCase()==e)return t})[0]},window.Store=window.store||{},window.$store={},function(e){app.define("config"),app.define("effects"),app.define("sizes"),app.define("utils"),app.define("plugins"),app.define("device"),app.define("events"),app.define("loader"),app.define("$dom"),app.$dom={html:e("html"),body:e("body"),document:e(document),window:e(window),root:e("#app")},app.events={click:document&&"ontouchstart"in document.documentElement?"tap":"click"},app.keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32},window.KEY=app.keys,app.prefixed={transform:Modernizr.prefixed("transform"),"transform-origin":Modernizr.prefixed("transformOrigin"),"transition-duration":Modernizr.prefixed("transitionDuration")},$$=window.jQuery,window.moment&&moment.locale("ru"),e.fn.api=function(e){return this.data(e)?this.data(e):this.data(e,{}).data(e)}}($),function(){app.url=function(){return(app.config.domain?app.config.domain:"")+app.config.api},app.fetch=function(e){var t=[],n=[],a=e.split(", ");return new Promise(function(e,s){for(i=0;i<a.length;i++)_.isFunction(app.fetch.API[a[i]])&&t.push(a[i]);a.length!==t.length&&(n=_.difference(a,t)),Promise.all(t.map(app.fetch.API).concat(n.map(app.request))).then(function(t){e(t)})})},app.request=function(e,t,i){return new Promise(function(n,a){var s=_.underscored(e).replace(/^(get|set|add|del)/g,"").replace(/_/g,"/"),r=null,o=app.config.request();if(i&&_.extend(o,i),e.match(/^get/)?r="GET":e.match(/^set/)?r="PUT":e.match(/^add/)?r="POST":e.match(/^del/)&&(r="DELETE"),!r)return void a("Error type request: "+e);"GET"===r&&t&&(s+="/"+t,t=null),o.loader&&window.$LoaderAjax&&$LoaderAjax.show();var l=new XMLHttpRequest;l.open(r,app.url()+s,!0),l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-Type","application/json");try{app.request.list&&app.request.list.method===e&&app.request.list.params==JSON.stringify(t)&&app.request.list.xhr.abort(),l.send(t?JSON.stringify(t):{})}catch(e){}l.onload=function(e){try{if(200==this.status){var t=JSON.parse(this.response);n("OK"===t.status&&t.result?t.result:t)}else{o.notify&&app.errHandler(this.status);var i=new Error(this.statusText);i.code=this.status,a(i)}}catch(e){}app.request.list={},o.loader&&window.$LoaderAjax&&$LoaderAjax.hide()},l.onerror=function(){a(new Error("Network Error")),o.loader&&window.$LoaderAjax&&$LoaderAjax.hide()};try{app.request.list={method:e,xhr:l,params:JSON.stringify(t)}}catch(e){}})},app.errHandler=function(e){401==e?window.$Notify?$Notify.show({color:"info",text:"Авторизируйтесь снова"}):alert("Авторизируйтесь снова"):window.$Notify?$Notify.show({color:"danger",text:"Ошибка проведения операции повторите ее чуть позже"}):alert("Ошибка проведения операции повторите ее чуть позже")};var e=function(e,t,i){app.request(app.config.logger.method,{data:{msg:e,line:i,url:t},device:app.device.get(),type:"error"},{loader:!1,notify:!1})},t=_.debounce(e,1e3,!0);window.onerror=function(e,i,n){app&&app.config&&app.config.logger&&app.config.logger.report&&t(e,i,n)}}(),function(e){e.history=[],e.resources=function(t,i,n){i=i||$.noop,n=n||$.noop;for(var a=[],s=0;s<t.length;s++)e.history.indexOf(t[s])<0&&a.push(t[s]);return a.length?void Modernizr.load({load:a,callback:function(t){e.history.push(t),n()},complete:i}):i()},e.images=function(e,t,i){var n=0;t=t||$.noop,i=i||$.noop,e.imagesLoaded({background:".bg-cover"}).always(t).progress(function(e){n++,i(n,e.images.length)})}}(app.loader),function(e,t){var i=function(){e.width=t.window.width(),e.height=parseInt(window.innerHeight,10)};t.window.on("resize.app",i),i()}(app.sizes,app.$dom),function(e,t,i){e.support=Modernizr,e.isMobile=e.support.touch,"true"==t.root.attr("demo")&&(app.demo=!0,t.window.width()<1025&&(e.isMobile=!0,t.html.removeClass("m-no-touch").addClass("m-touch"))),t.html.addClass(e.isMobile?"d-mobile":"d-no-mobile"),e.isRetina=window.devicePixelRatio&&window.devicePixelRatio>1,t.html.addClass(e.isRetina?"d-retina":"d-no-retina");var n=function(){var i=t.window.width();e.isPhone=i<768,e.isTablet=i<1025&&i>767,e.orientation=e.isTablet&&i<1025&&i>991||e.isPhone&&i>480?"landscape":"portrait",t.html.addClass(e.isPhone?"d-phone":"d-no-phone").removeClass(e.isPhone?"d-no-phone":"d-phone").addClass(e.isTablet?"d-tablet":"d-no-tablet").removeClass(e.isTablet?"d-no-tablet":"d-tablet").addClass("landscape"===e.orientation?"r-landscape":"r-portrait").removeClass("landscape"!==e.orientation?"r-landscape":"r-portrait"),e.is=e.isPhone?"phone":e.isTablet?"tablet":"desktop"};if(t.window.on("resize.sizeCheck",n),n(),e.ua=navigator.userAgent,navigator.userAgent.match(/(iPhone)/i)&&(e.isPhone=!0),navigator.userAgent.match(/iPad/i)&&(t.html.addClass("d-ipad"),e.isIPad=!0),navigator.userAgent.match(/(iPhone|iPod touch)/i)&&(t.html.addClass("d-iphone"),e.isIPhone=!0),navigator.userAgent.match(/(iPad|iPhone|iPod touch)/i)){t.html.addClass("d-ios"),e.isIOS=!0;var a=navigator.userAgent.match(/.*CPU.*OS (\d)_(\d)/i);e.verOS=!(!a||!a[1])&&a[1]+(a[2]?"."+a[2]:"")}else t.html.addClass("d-no-ios");if(navigator.userAgent.match(/.*CPU.*OS 7_\d/i)&&(t.html.addClass("d-ios7"),e.isIOS7=!0),navigator.userAgent.match(/Android/i)){t.html.addClass("d-android"),e.isAndroid=!0;var a=navigator.userAgent.match(/Android (\d)\.(\d)/i);e.verOS=!(!a||!a[1])&&a[1]+(a[2]?"."+a[2]:"")}if(app.device.isMobile&&(e.os=e.isAndroid?"android":e.isIOS?"ios":"unknown"),t.html.hasClass("d-ipad d-ios7")&&t.window.on("resize orientationchange focusout",function(){window.scrollTo(0,0)}),e.isWin=navigator.platform.indexOf("Win")>-1,e.isMac=navigator.platform.indexOf("Mac")>-1,e.isLinux=navigator.platform.indexOf("Linux")>-1,t.html.addClass(e.isMac?"d-macOS":"d-no-macOS"),e.platform=e.isWin?"win":e.isMac?"mac":e.isLinux?"linux":"unknown",e.isSafari=/constructor/i.test(window.HTMLElement),t.html.addClass(e.isSafari?"d-safari":"d-no-safari"),e.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,t.html.addClass(e.isFirefox?"d-firefox":"d-no-firefox"),e.isMobile&&window.FastClick&&"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1),!e.isMobile){var s,r=t.body[0];t.window[0].addEventListener("scroll",function(){clearTimeout(s),r.getAttribute("class")&&r.getAttribute("class").match(/disable__hover/)||r.classList.add("disable__hover"),s=setTimeout(function(){r.classList.remove("disable__hover")},300)},!1)}app.device.get=function(){return i.extend(i.omit(app.device,["get","support"]),{screen:app.sizes})}}(app.device,app.$dom,app.utils),function(e,t){t.init=function(i){if(i){var n,a=i.split("."),s=e;for(n=0;n<a.length;n++)s=s[a[n]];s&&"function"==typeof s.init?(s.init(),t.log("Initialize: <"+i+"> ready")):t.log("ERROR: <"+i+"> initialize")}},t.is=function(i,n){if(i){var a,s=i.split("."),r=e;for(a=0;a<s.length;a++)r=r[s[a]];r?n&&"function"==typeof n&&n():t.log("NOT found: <"+i+">")}},t.log=function(e){e&&("object"==typeof e?console.dir(e):console.log(e))},t.logger=function(e,i){e&&i&&("init"===e?t.log("Initialize: <"+i+"> ready"):"open"===e?t.log("OPEN: <"+i+">"):"close"===e?t.log("CLOSE: <"+i+">"):t.log(e+": <"+i+">"))},t.random=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.template=function(i,n,a){if(!e.templates[i])return void t.log("NOT found: <"+i+"> template");var s=Mustache.render(e.templates[i](),n?n:{}),r=$(s).appendTo(a?a:e.$dom.root);return r},t.copyArray=function(e){var i=null===e?null:t.isObject(e)?{}:[];for(var n in e)"object"==typeof e[n]&&"prototype"!==n?i[n]=t.copyArray(e[n]):i[n]=e[n];return i},t.sortArray=function(e,t,i){var n=_.sortBy(e,function(e){return e[t]});return"desc"===i?n.reverse():n},t.sortByDate=function(e,t,i){if(!window.moment)return e;var n=_.sortBy(e,function(e){return moment(e[t]).format("X")});return"desc"===i?n.reverse():n},t.isArray=function(e){if(e&&"[object Array]"===Object.prototype.toString.call(e))return!0},t.isFunction=function(e){if(e&&"function"==typeof e)return!0},t.fixTouchScroll=function(t,i){var n=null,a=null;t.on("touchmove MSPointerMove",function(t){if(0===a){var i=t.changedTouches[0].clientY;i<n?(n=0,t.preventDefault()):e.device&&e.device.isIOS?setTimeout(function(){n=i},1e3):n=i}}),i.on("scroll",function(){a=this.scrollTop})},t.raf=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return t?t(e):window.setTimeout(e,1e3/60)},t.caf=function(e){var t=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;t(e),e=null},t.support={transitions:Modernizr.csstransitions},t.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},t.transEndEventName=t.transEndEventNames[Modernizr.prefixed("transition")],t.animEndEventNames={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},t.animEndEventName=t.animEndEventNames[Modernizr.prefixed("animation")],t.onEndTransition=function(e,i){var n=function(e){if(t.support.transitions){if(e.target!=this)return;this.removeEventListener(t.transEndEventName,n)}i&&"function"==typeof i&&i.call(this)};t.support.transitions?e.addEventListener(t.transEndEventName,n):n()},t.onEndAnimation=function(e,i){var n=function(e){if(t.support.transitions){if(e.target!=this)return;this.removeEventListener(t.animEndEventName,n)}i&&"function"==typeof i&&i.call(this)};t.support.transitions?e.addEventListener(t.animEndEventName,n):n()},t.onLoadImage=function(e,t){function i(){s||(s=!0,t(!0))}function n(){t(!1)}var a=new Image,s=!1;a.src=e,a.onerror=n,a.onload=i,a.complete&&i()},t.getSizeImage=function(e,t){function i(){s||(s=!0,t(a.naturalWidth,a.naturalHeight))}function n(){t(!1)}var a=new Image,s=!1;a.src=e,a.onerror=n,a.onload=i,a.complete&&i()},t.getScroll=function(e){var t=e.x*-1,i=e.y*-1,n=e.maxScrollX*-1,a=e.maxScrollY*-1;return{x:t,y:i,maxX:n,maxY:a}},t.throttle=function(e,t){var i=!0;return function(n){i&&(i=!1,setTimeout(function(){i=!0},t),e(n))}},t.debounce=function(e,t,i,n){3==arguments.length&&"boolean"!=typeof i&&(n=i,i=!1);var a;return function(){var s=arguments;n=n||this,i&&!a&&e.apply(n,s),clearTimeout(a),a=setTimeout(function(){!i&&e.apply(n,s),a=null},t)}},t.indexOf=function(e,t,i){for(var n=i||0,a=(e||[]).length;n<a;n++)if(e[n]==t)return n;return-1},t.inArray=function(e,i){return t.indexOf(e,i)!=-1},t.trim=function(e){return(e&&String(e)||"").replace(/^\s+|\s+$/g,"")},t.underscored=function(e){return t.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},t.deepExtend=function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]&&"object"==typeof i[n]?t.deepExtend(e[n],i[n]):e[n]=i[n]);return e},t.numberFormat=function(e,t,i,n){if(isNaN(e)||null==e)return"";e=parseInt(e).toFixed(~~t),n="string"==typeof n?n:",";var a=e.split("."),s=a[0],r=a[1]?(i||".")+a[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+n)+r},t.clean=function(e,i){return e=_.escape(t.trim(e)),e?e:void 0!==i?i:null},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isEmail=function(e){return e.match(/.+@.+\..+/i)},t.newId=function(){return String(Math.round((new Date).getTime()/1e3))},t.getDateNow=function(){var e=new Date,t=e.getHours(),i=e.getMinutes(),n=e.getSeconds(),a=e.getMonth()+1,s=e.getDate(),r=e.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),n<10&&(n="0"+n),a<10&&(a="0"+a),s<10&&(s="0"+s),r+"-"+a+"-"+s+" "+t+":"+i+":"+n},t.supportClipboard=function(){return!!(window.clipboardData&&window.clipboardData.setData||document.queryCommandSupported&&document.queryCommandSupported("copy"))},t.copyToClip=function(e){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}},t.bbUpdate=function(e,t){e.on("update",function(e){var i=e.data&&e.data.transaction&&e.data.transaction.length&&e.data.transaction[0].path?e.data.transaction[0].path[0]:null,n=e.data&&e.data.transaction&&e.data.transaction.length?e.data.transaction[0].value:null;t(i,n,e)})},window._?_.extend(_,t):window._=t,e.utils=window._}(app,app.utils),window.$afterlag={run:function(e,t){var i={delay:0,iterations:1};t&&_.extend(i,t);var n=new Afterlag(i);n.run(e)},xs:function(e,t){var i={iterations:2,timeout:200};t&&_.extend(i,t),$afterlag.run(e,i)},s:function(e,t){var i={iterations:3,timeout:300};t&&_.extend(i,t),$afterlag.run(e,i)},m:function(e,t){var i={iterations:5,timeout:500};t&&_.extend(i,t),$afterlag.run(e,i)},l:function(e,t){var i={iterations:7,timeout:700};t&&_.extend(i,t),$afterlag.run(e,i)},xl:function(e,t){var i={iterations:10,timeout:1e3};t&&_.extend(i,t),$afterlag.run(e,i)}},app.config={domain:null,api:"/private/api",request:function(){return{loader:!0,notify:!0}},logger:{method:"addLog",report:!0},metrika:{active:!0,report:{method:"addMetrika",interval:30,yametrika:{counter:"27428363"}}},payment:{yamoney:"410012719414223"},profile:{photo:{minWidth:440,maxHeight:620}},resume:{free:{autoSave:{interval:15}}},share:{title:"Создать крутое резюме и получить престижную работу"},changeStyles:!0},app.fetch.API=function(e){return app.fetch.API[e]()},app.fetch.API.getDataInit=function(){return new Promise(function(e,t){app.request("getDataInit").then(function(t){if($account=$store.account,$store.account.set(t.account?t.account:{}),$store.data.set(t.data?t.data:[]),$store.inbox.set(t.inbox?t.inbox:[]),app.config.metrika&&app.config.metrika.active){var i=!1;app.config.metrika.report&&(i={method:app.config.metrika.report.method,interval:app.config.metrika.report.interval}),app.metrika=new app.plugins.metrika({key:"private",data:app.metrics.private,previousData:t.metrika,visits:$account.get("visits"),report:i})}e(t)})})},function(e,t,i,n,a){e.define("plugins.chartRadial"),e.plugins.chartRadial=function(e,i){e&&(this.active=!1,this.scope=t(e),this.options=i,this.items=[],this.rendered=!1,this.init())},e.plugins.chartRadial.prototype={init:function(){if(!this.active){var i={animate:!e.device.isPhone,lineWidth:e.device.isPhone?16.5:24,colors:["#0084ff","#ff2d55","#ffc43a"],container:"chart__radial__graph",graphItem:"chart__radial__graph",labels:"chart__radial__labels",labelItem:"chart__radial__label",labelTitle:"chart__radial__label__title",labelColor:"chart__radial__label__color",labelDash:e.device.isPhone?"&nbsp; &ndash; &nbsp;":"&nbsp; &mdash; &nbsp;"};this.options&&a.extend(i,this.options),this.options=i,this.$graph=t('<div class="'+i.container+'">').appendTo(this.scope),this.$graphItem=t("<div>"),this.$graph.append(this.$graphItem,this.$graphItem.clone(),this.$graphItem.clone()),this.$graph.find("div").each(function(e,n){t(this).addClass(i.graphItem+(e+1))}),this.$labels=t('<div class="'+i.labels+'">').appendTo(this.scope),this.$labelItem=t('<div class="'+i.labelItem+'"><div class="'+i.labelColor+'"></div>'+i.labelDash+'<span class="'+i.labelTitle+'"></span></div>'),this.$labels.append(this.$labelItem,this.$labelItem.clone(),this.$labelItem.clone()),this.active=!0}},render:function(e){var i=this;!e||e&&e.length<3||(this.rendered?a.each(this.items,function(t,i){t.reset(),t.start(a.isNumber(e[i].value)?e[i].value:a.isNumber(e[i])?e[i]:0)}):(this.$graph.children("div").each(function(t,n){i.items.push(i.build(this,e[t].value,{color:i.options.colors[t],autostart:!0}))}),this.$labels.children("div").each(function(n){var a=t(this);a.find("."+i.options.labelColor).css("backgroundColor",i.options.colors[n]),a.find("."+i.options.labelTitle).text(e[n].title)}),this.rendered=!0))},build:function(e,t,i){function n(e){b||(g.percent=m?t:f,g.percent==e?r(g.percent):(b=!0,y.percent=e,TweenLite.to(g,_,y)))}function a(){r(g.percent)}function s(){b=!1}function r(e){var t=c/2;e=Math.max(e,.005),u.clearRect(0,0,c,c),u.beginPath(),u.globalAlpha=.2,u.arc(t,t,t-p/2,0,2*Math.PI),u.stroke(),u.beginPath(),u.arc(t,t,t-p/2,0-Math.PI/2,2*Math.PI*e/100-Math.PI/2),u.globalAlpha=1,u.stroke()}function o(){r(f)}var l=document.createElement("canvas"),u=l.getContext("2d"),c=e.offsetWidth,d=i||{},p=this.options.lineWidth,h=d.color||"#fff",m=!this.options.animate||!1,f=d.from||0,v=t,g={percent:f},b=!1,_=this.options.animate?2:0,y={ease:"easeInOutCubic",onUpdate:a,onComplete:s};return l.width=l.height=c,e.appendChild(l),u.lineWidth=p,u.lineCap="round",u.strokeStyle=h,m&&(d.autostart=!0),d.autostart?n(v):o(),{start:n,reset:o}},destroy:function(){this.scope.empty(),this.items=[],this.rendered=!1,this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,a){e.define("plugins.animate"),e.plugins.animate=function(e,i){var n=this;this.groups=[],this.active=!1,this.options=i,this.scope=t(e),this.scope.find("*").each(function(){var e=this.getAttribute("class");if(e&&e.match(/anim-group/)){var t=e.match(/anim-group(\d+)/)[1],i=e.match(/anim-delay-(\w+)/),s=a.findWhere(n.groups,{num:t}),r={elem:this,delay:i&&i.length&&i[1]?n.delay.getNumByTitle(i[1]):"0"};s?s.items.push(r):n.groups.push({num:t,items:[r]})}})},e.plugins.animate.prototype={show:function(e){var t=this;this.groups.length&&(a.each(a.sortArray(this.groups,"num"),function(i,n){!function(){if(t.groups[n+1]){var s=null,r=null;t.options&&t.options.showAfter?(s=a.sortArray(i.items,"delay","asc"),r=s[t.options.showAfter-1].elem):(s=a.sortArray(i.items,"delay","desc"),r=s[0].elem),r&&a.onEndTransition(r,function(){t.scope.addClass("showAnim-group"+(1*i.num+1)),t.groups.length==1*i.num+1&&a.isFunction(e)&&e()})}}(i,n),0==n&&t.scope.addClass("showAnim-group"+i.num)}),this.active=!0)},hide:function(e){var t=this;if(this.groups.length){if(this.options&&this.options.hide&&"noanimate"==this.options.hide&&(this.scope.addClass("transitionAll-none"),setTimeout(function(){t.scope.removeClass("transitionAll-none")},50)),this.scope.removeClass(a.map(a.pluck(this.groups,"num"),function(e){return"showAnim-group"+e}).join(" ")),a.isFunction(e)){var i=a.sortArray(this.groups[0].items,"delay","desc")[0].elem;a.onEndTransition(i,function(){e()})}this.active=!1}},delay:{items:[{title:"xs",num:"1"},{title:"s",num:"2"},{title:"m",num:"3"},{title:"l",num:"4"},{title:"xl",num:"5"}],getNumByTitle:function(e){return a.findWhere(this.items,{title:e}).num}}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,a){e.define("plugins.slider"),e.plugins.slider=function(e){this.active=!1,this.index=0,this.scope=t(e),this.slider=this.scope.find(".slider__wrapper"),this.nav={prev:this.scope.find(".slider__nav__prev"),next:this.scope.find(".slider__nav__next")},this.init(),this.render()},e.plugins.slider.prototype={init:function(){var e=this;this.nav.next.on("click",function(){e.nextSlides()}),this.nav.prev.on("click",function(){e.prevSlides()}),this.slider.on("swipeLeft",function(){e.nav.next.hasClass("slider__nav--hidden")||e.nextSlides()}),this.slider.on("swipeRight",function(){e.nav.prev.hasClass("slider__nav--hidden")||e.prevSlides()})},render:function(){this.firstSlide=this.slider.find(".slider__item:first"),this.widthSlide=this.firstSlide.width(),this.cnt=Math.floor((e.sizes.width<1190?e.sizes.width:1190)/this.widthSlide),this.cnt&&!e.device.isPhone||(this.cnt=1),1!=this.cnt||this.scope.hasClass("largeSlides")||this.scope.addClass("largeSlides"),this.navUpdate(),this.firstSlide.addClass("current")},show:function(e){this.active||(this.scope.addClass("showSlides"),a.isFunction(e)&&a.onEndTransition(this.firstSlide[0],function(){e()}),this.active=!0)},hide:function(e){var t=this;return this.active?(this.reset(),this.scope.addClass("hideSlides"),void a.onEndTransition(this.slider.find(".slider__item:first")[0],function(){t.scope.removeClass("showSlides hideSlides"),t.active=!1,a.isFunction(e)&&e()})):void(a.isFunction(e)&&e())},reset:function(){this.setTranslateValue(0),this.slider.removeClass("next prev").find(".current, .previous").removeClass("current previous"),this.slider.find(".slider__item:first").addClass("current"),this.navUpdate()},navUpdate:function(){var e=this.slider.find(".slider__item").length;this.cnt>1&&e<4||1==this.cnt&&"1"==e?this.nav.next.addClass("slider__nav--hidden"):this.nav.next.removeClass("slider__nav--hidden"),this.nav.prev.addClass("slider__nav--hidden")},nextSlides:function(){var t=this,i=this.slider.children(".current"),n=i.index(),s=i.nextAll(".slider__item").length;n=1==this.cnt?s?n+this.cnt:n:s>this.cnt+1?n+this.cnt:n+s-(this.cnt-1);var r=n*(this.widthSlide+15)+"px";this.cnt>1&&this.slider.addClass("next"),this.setTranslateValue(r),e.device.isPhone?t.updateSlider("next",i,s):a.onEndTransition(this.slider[0],function(){t.updateSlider("next",i,s)}),this.index=n},prevSlides:function(){var t=this,i=this.slider.children(".previous"),n=i.index(),s=n*(this.widthSlide+15)+"px";this.cnt>1&&this.slider.addClass("prev"),this.setTranslateValue(s),e.device.isPhone?t.updateSlider("prev",i):a.onEndTransition(this.slider[0],function(){t.updateSlider("prev",i)}),this.index=n},updateSlider:function(e,t,i){"next"===e?(this.slider.removeClass("next").find(".previous").removeClass("previous"),t.removeClass("current"),1==this.cnt?t.addClass("previous").next(".slider__item").addClass("current"):i>this.cnt+1?t.addClass("previous").next(".slider__item").next(".slider__item").next(".slider__item").addClass("current"):i==this.cnt+1?t.next(".slider__item").next(".slider__item").addClass("current").prev(".slider__item").prev(".slider__item").addClass("previous"):t.next(".slider__item").addClass("current").end().addClass("previous")):(this.slider.removeClass("prev").find(".current").removeClass("current"),t.removeClass("previous").addClass("current"),1==this.cnt?t.prev(".slider__item").addClass("previous"):t.prevAll(".slider__item").length>this.cnt-1?t.prev(".slider__item").prev(".slider__item").prev(".slider__item").addClass("previous"):!this.slider.children(".slider__item").eq(0).hasClass("current")&&this.slider.children(".slider__item").eq(0).addClass("previous")),this.updateNavigation()},updateNavigation:function(){var e=this.slider.find(".slider__item.current");e.is(":first-child")?this.nav.prev.addClass("slider__nav--hidden"):this.nav.prev.removeClass("slider__nav--hidden"),e.nextAll(".slider__item").length<this.cnt?this.nav.next.addClass("slider__nav--hidden"):this.nav.next.removeClass("slider__nav--hidden")},setTranslateValue:function(e){this.slider.css({"-moz-transform":"translate3d(-"+e+", 0, 0)","-webkit-transform":"translate3d(-"+e+", 0, 0)","-ms-transform":"translate3d(-"+e+", 0, 0)","-o-transform":"translate3d(-"+e+", 0, 0)",transform:"translate3d(-"+e+", 0, 0)"})}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,a){e.define("plugins.styles"),e.plugins.styles={ready:!1,init:function(i){if(!s.ready){this.el=t(i.elem),this.screen=i.default,this.screens=i.screens,this.callback=i.callback,s.resizer(e.$dom.window[0].innerWidth);var n=a.debounce(s.resizer,100);e.$dom.window.on("resize.styles",function(){var e=n(this.innerWidth);e&&e.length&&s.callback&&s.callback(s.screen)}),s.ready=!0}},resizer:function(e){return a.filter(s.screens,function(t){if((t.minWidth&&t.maxWidth&&e>t.minWidth-1&&e<t.maxWidth+1||t.minWidth&&!t.maxWidth&&e>t.minWidth||t.maxWidth&&!t.minWidth&&e<t.maxWidth)&&s.screen!==t.title)return t.reload&&s.ready&&s.screen!=t.title?window.location.reload():t.path&&s.el.attr("href",t.path),s.screen=t.title,console.log("resize: "+t.title),s.screen})}};var s=e.plugins.styles}(app,$,app.$dom,app.events,app.utils),app.plugins.marquee=function(e,t){var i=e.find(t.screens),n=$('<div class="'+t.spaceClass+'" />').prependTo(e),a=[],s=app.plugins.marquee.effects()[t.effect],r=(e.data("name"),{index:0,prevIndex:0,progress:0,size:0,scrolling:!1,enabled:!0,section:null,_events:{},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var i=this._events[e].indexOf(t);i>-1&&this._events[e].splice(i,1)}},_execEvent:function(e){if(this._events[e]){var t=0,i=this._events[e].length;if(i)for(;t<i;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}}});i.each(function(e){var i=$(this),s=i.api("screen");s.state={isVisible:!1,isEndShow:!1,isStartShow:!1,isFullShow:!1,isFullHide:!0};var r={index:e,title:i[0].getAttribute("data-"+(t.dataAttr?t.dataAttr:"marquee")),block:i,fake:$('<div class="'+t.spaceClass+'__screen" />'),api:s,ratio:1,enable:!0};a.push(r),n.append(r.fake)});var o=function(){var e=0;r.size=t.vertical?app.sizes.height:app.sizes.width,$.each(a,function(i,n){if(t.vertical){var a=Math.max(n.block.outerHeight(),n.block.find(t.contentClass?"."+t.contentClass:".screen__frame").outerHeight());a>r.size?(n.block.addClass(t.longClass?t.longClass:"screen__long"),n.size=a):(n.block.removeClass(t.longClass?t.longClass:"screen__long"),n.size=app.sizes.height),n.fake.width(app.sizes.width),n.fake.height(n.size),i>0&&t.hideSections&&n.block.css("display","none")}else n.size=app.sizes.width,n.fake.width(n.size),n.fake.height(app.sizes.height);n.offset=e,n.ratio=n.size/r.size,e+=n.size})};o();var l=new IScroll(e[0],{marquee:!0,disableMouse:!1,mouseWheel:t.mousewheel,scrollX:!t.vertical,scrollY:t.vertical,bounce:!0,snap:"."+t.spaceClass+"__screen",eventPassthrough:!t.vertical||"horizontal",probeType:3,snapSpeed:t.duration,preventDefault:!0,scrollbars:!!t.vertical&&"custom",interactiveScrollbars:t.vertical&&!app.device.support.touch,fake:!0});r.setLimits=function(e){e=Math.min(Math.max(0,e),a.length-1);var i=e>=a.length-1,n=0==e;l[t.vertical?"minScrollY":"minScrollX"]=-a[e].offset+(n?0:a[e-1].size),l[t.vertical?"maxScrollY":"maxScrollX"]=-a[e].offset-(i?a[e].size-r.size:a[e].size),l.currentPage={x:0,y:0,pageX:0,pageY:0},l.currentPage[t.vertical?"y":"x"]=-a[e].offset,l.currentPage[t.vertical?"pageY":"pageX"]=e},r.update=function(){for(var e=-Math.round(l[t.vertical?"y":"x"]),i=0,n=0;n<a.length;n++)e>=a[n].offset&&(i=n);r.position=(e-a[i].offset)/a[i].size,r.progress=i+r.position,r.index!=i&&(r.prevIndex=r.index,r.index=i)},r.hideInvisibles=function(){for(var e=0;e<a.length;e++)e!=r.index&&e!=r.index+1&&(e>r.index+1&&s.show(a[e].block,0,r.size,a[e].ratio),e<r.index&&s.hide(a[e].block,1,r.size,a[e].ratio),t.hideSections&&(a[e].block[0].style.display="none"))},r.callScreensAPI=function(){var e=r.index>=a.length-1,i=1/a[r.index].ratio,n={top:0,bottom:0};if(n.top=r.position/i,n.bottom=r.position*a[r.index].ratio-(a[r.index].ratio-1),n.bottom>.6?(a[r.index].api.state.isVisible&&(a[r.index].api.state.isVisible=!1,a[r.index].block.triggerHandler("hide")),e||a[r.index+1].api.state.isVisible||(a[r.index+1].api.state.isVisible=!0,a[r.index+1].block.triggerHandler("show"))):n.top>.4&&(a[r.index]&&!a[r.index].api.state.isVisible&&(a[r.index].api.state.isVisible=!0,a[r.index].block.triggerHandler("show")),!e&&a[r.index+1].api.state.isVisible&&(a[r.index+1].api.state.isVisible=!1,a[r.index+1].block.triggerHandler("hide"))),e||(n.bottom>.1&&!a[r.index+1].api.state.isStartShow?(a[r.index+1].api.state.isStartShow=!0,a[r.index+1].block.triggerHandler("startShow")):n.bottom<.1&&a[r.index+1].api.state.isStartShow&&(a[r.index+1].api.state.isStartShow=!1),n.bottom>.9&&!a[r.index+1].api.state.isEndShow?(a[r.index+1].api.state.isEndShow=!0,a[r.index+1].block.triggerHandler("endShow")):n.bottom<.9&&a[r.index+1].api.state.isEndShow&&(a[r.index+1].api.state.isEndShow=!1)),a[r.index]&&n.bottom<.9&&!a[r.index].api.state.isEndShow?(a[r.index].api.state.isEndShow=!0,a[r.index].block.triggerHandler("endShow")):a[r.index]&&n.bottom>.9&&a[r.index].api.state.isEndShow&&(a[r.index].api.state.isEndShow=!1),a[r.index]&&n.bottom<.1&&!a[r.index].api.state.isStartShow?(a[r.index].api.state.isStartShow=!0,a[r.index].block.triggerHandler("startShow")):a[r.index]&&n.bottom>.1&&a[r.index].api.state.isStartShow&&(a[r.index].api.state.isStartShow=!1),a[r.index]&&n.top>=0&&n.bottom<=0){a[r.index].api.state.isFullShow||(a[r.index].api.state.isFullShow=!0,a[r.index].block.triggerHandler("fullShow"));for(var s=0;s<a.length;s++)s!=r.index&&(a[s].api.state.isFullShow=!1)}else for(var s=0;s<a.length;s++)a[s].api.state.isFullShow=!1;for(var o=[Math.floor(r.progress),Math.ceil(r.progress)],s=0;s<a.length;s++)s==o[0]||s==o[1]?(a[s].api.state.isFullHide=!1,t.hideSections&&(a[s].block[0].style.display="block"),r.section=a[s].block[0].getAttribute("data-"+(t.dataAttr?t.dataAttr:"marquee")),t.activeClass&&a[s].block.addClass(t.activeClass)):a[s].api.state.isFullHide||(t.hideSections&&(a[s].block[0].style.display="none"),a[s].block.triggerHandler("fullHide"),a[s].api.state.isFullHide=!0,t.activeClass&&a[s].block.removeClass(t.activeClass))},r.markNav=function(){t.navPrev&&t.navPrev[r.progress<=.5?"addClass":"removeClass"]("i-disabled"),t.navNext&&t.navNext[r.progress>=a.length-1.5?"addClass":"removeClass"]("i-disabled")},r.draw=function(){if(!s.move||a[r.index].ratio*r.position>=a[r.index].ratio-1){var e=1-Math.abs(a[r.index].ratio*r.position-a[r.index].ratio);r.index>=0&&s.hide(a[r.index].block,e,r.size,a[r.index].ratio),r.index<a.length-1&&s.show(a[r.index+1].block,e,r.size,a[r.index+1].ratio),0!==e&&1!==e||r._execEvent("change")}else r.index>=0&&s.move(a[r.index].block,a[r.index].ratio*r.position,r.size,a[r.index].ratio),r.index<a.length-1&&s.show(a[r.index+1].block,0,r.size,a[r.index+1].ratio);r.hideInvisibles(),r.markNav()},r.onScrollStart=function(){r.scrolling=!0},r.onScroll=function(){if(index=0,r.update(),r.draw(),r.callScreensAPI(),l.moved){for(var e=l[t.vertical?"y":"x"]-l[t.vertical?"pointY":"pointX"],i=0;i<a.length;i++)e<=-a[i].offset&&e>=-a[i].offset-a[i].size&&(index=i);r.setLimits(index)}else if(l.indicators&&l.indicators[0].moved){for(var i=0;i<a.length;i++)l[t.vertical?"y":"x"]-r.size/2<=-a[i].offset&&l[t.vertical?"y":"x"]+r.size/2>=-a[i].offset-a[i].size&&(index=i);r.setLimits(index)}},r.grabTimer=!1;var u=function(){clearTimeout(r.grabTimer),r.scrolling||(r.scrolling=!0)},c=function(){r&&clearTimeout(r.grabTimer),r&&r.scrolling&&(r.scrolling=!1)};if(l.on("beforeWheelSnap",function(){index=0;for(var e=0;e<a.length;e++)l[t.vertical?"y":"x"]-r.size/2<=-a[e].offset&&l[t.vertical?"y":"x"]+r.size/2>=-a[e].offset-a[e].size&&(index=e);l.absStartX=t.vertical?0:-a[index].offset,l.absStartY=-t.vertical?-a[index].offset:0,r.setLimits(index)}),r.onScrollEnd=function(){r.refresh()},r.refresh=function(){r.update(),r.draw(),r.callScreensAPI(),r.setLimits(r.index)},r.resize=function(){if(!r)return!1;o();var e=l.y;l.refresh(),e!==l.y&&l.scrollBy(0,e-l.y,0),r.refresh()},r.enable=function(){r.enabled=!0,l.enable(),r.enableKeyboard()},r.disable=function(){r.enabled=!1,l.disable(),r.disableKeyboard()},l.on("scrollStart",function(){return!!r&&void r.onScrollStart()}),l.on("scroll",function(){return!!r&&(r.onScroll(),void(l.moved&&u()))}),l.on("scrollEnd",function(){return!!r&&(r.onScrollEnd(),void c())}),l.on("grab",function(){if(!r)return!1;u(),r.grabTimer=setTimeout(function(){l&&l.reset(),c()},500);for(var e=0,i=l[t.vertical?"y":"x"]-l[t.vertical?"pointY":"pointX"],n=0;n<a.length;n++)i<=-a[n].offset&&i>=-a[n].offset-a[n].size&&(e=n);r.setLimits(e)}),app.device.isMobile||app.$dom.window.on("resize",r.resize),r.setLimits(0),r.scrollTo=function(e,i){i=void 0===i&&0!==i?550:i,t.hideSections&&(a[e].block[0].style.display="block"),setTimeout(function(){l.goToPage(t.vertical?0:e,t.vertical?e:0,i,IScroll.utils.ease.cubicOut),
0==i&&r.refresh()},5)},r.prev=function(e){if(r.scrolling)return!1;e=void 0===e?t.duration:e;var i=-l.y-a[r.index].offset;t.vertical&&i?l.scrollBy(0,Math.min(i,r.size),e,IScroll.utils.ease.cubicOut):t.vertical&&l.y<=-r.size?l.scrollBy(0,r.size,e,IScroll.utils.ease.cubicOut):r.index>0&&l.prev(e,IScroll.utils.ease.cubicOut)},r.next=function(e){if(r.scrolling)return!1;e=void 0===e?t.duration:e;var i=a[r.index].offset+a[r.index].size-(-l.y+r.size);i>.1*r.size&&t.vertical?l.scrollBy(0,-Math.min(i,r.size),e,IScroll.utils.ease.cubicOut):r.index<a.length-1&&l.next(e,IScroll.utils.ease.cubicOut)},r.get=function(e){return r[e]},r.hideScreen=function(e){t.controlInvisible&&h[e].enable&&(h[e].enable=!1,h[e].block.css("display","none"),h[e].fake.remove(),r.callScreensVisible(),r.resize())},r.showScreen=function(e){t.controlInvisible&&!h[e].enable&&(h[e].enable=!0,h[e].fake=$('<div class="'+t.spaceClass+'__screen" />'),n.find("."+t.spaceClass+"__screen:eq("+(e-1)+")").after(h[e].fake),r.callScreensVisible(),r.resize())},r.callScreensVisible=function(){for(var e=[],t=0,i=0;i<h.length;i++)h[i].enable&&(e.push(h[i]),e[t].index=t,t++);e.length!==a.length&&(a=e)},r.destroy=function(){e.find("."+t.spaceClass).remove(),e.removeData("marquee"),l.destroy(),l=null,r=null},t.vertical){var d=e.find(".iScrollVerticalScrollbar");d.addClass("ui-scroll").prepend('<div class="ui-scroll__bar" />'),d.find(".iScrollIndicator").addClass("ui-scroll__handle").prepend('<div class="ui-scroll__handle__inner" />')}t.navPrev&&t.navPrev.on("click",function(){r.prev(app.device.isPhone?500:700)}),t.navNext&&t.navNext.on("click",function(){r.next(app.device.isPhone?500:700)});var p="keydown.marquee-"+String(Math.round((new Date).getTime()/1e3))+(t.vertical?"v":"h");if(r.enableKeyboard=function(){app.device.support.touch||app.$dom.document.on(p,function(e){$(e.target).is("input,textarea,select")||(e.which==(t.vertical?38:37)&&r.prev(app.device.isPhone?500:700),e.which==(t.vertical?40:39)&&r.next(app.device.isPhone?500:700))})},r.disableKeyboard=function(){app.device.support.touch||app.$dom.document.off(p)},r.scroll=l,t.controlInvisible)for(var h=[],m=0;m<a.length;m++)h.push(a[m]);return e.data("marquee",{screens:a,onScrollStart:$.noop,onScrollEnd:$.noop,scrollTo:r.scrollTo,get:r.get,scroll:l,update:r.onScroll,resize:r.resize,enable:r.enable,disable:r.disable,destroy:r.destroy,enableKeyboard:r.enableKeyboard,disableKeyboard:r.disableKeyboard}),r},function(e,t,i,n,a){e.define("plugins.screens"),e.define("plugins.marquee.effects"),e.plugins.screens=function(e,i){this.active=!1,this.scope=t(e),this.options=i||{},this.state=null},e.plugins.screens.prototype={init:function(t){var i=this;if(!this.active){this.scope.on("touchmove MSPointerMove",function(e){e.preventDefault()}),this.scope.on("dragstart selectstart",function(){return!1});var n={vertical:!0,screens:".screen",effect:this.options.vertical===!1?"space":"light",mousewheel:this.options.vertical!==!1,spaceClass:this.options.vertical===!1?"horizontal__space":"vertical__space",longClass:this.options.vertical!==!1&&"screen--long",contentClass:this.options.vertical!==!1&&"screen__content",hideSections:!0,navPrev:this.options.navPrev,navNext:this.options.navNext,duration:this.options.vertical===!1?e.device.isPhone?375:450:500};this.options&&a.extend(n,this.options),this.options=n,this.items=[];var s=100;this.scope.find(n.screens).each(function(e){i.items.push({index:e,title:this.getAttribute("data-"+(n.dataAttr?n.dataAttr:"marquee"))}),n.vertical||(this.style.zIndex=s),s--}),this.marquee=n.static?e.plugins.marqueeStatic(this.scope,n):e.plugins.marquee(this.scope,n),this.marquee.enable(),this.marquee.scroll.on("scrollEnd",function(){i.state=i.marquee.section}),void 0!==t&&this.nav(t,0),e.device.isMobile&&this.embeds(),this.active=!0}},nav:function(e,t){if(a.isNumber(e))e>this.items.length-1&&(e=this.items.length-1),this.marquee.scrollTo(e,void 0!==t?t:void 0);else{if(!e)return;var i=a.findWhere(this.items,{title:e});i&&i.index&&(this.state=i.title,this.marquee.scrollTo(i.index,void 0!==t?t:void 0))}},get:function(e){return this.marquee[e]},refresh:function(){this.marquee.resize()},refreshAll:function(){var e=this.marquee.index;this.destroy(),this.init(e)},embeds:function(){var n=this,a=null,s=null;i.window.on("resize.screens",function(){n.scope.scrollTop(0),n.options.static&&"focus"==a&&s&&setTimeout(function(){r(e.sizes.height/1.3,0)},150),n.refresh()}),n.options.static&&this.scope.on("focus blur","input[type='text'], textarea",function(i){"focusin"==i.type||"focus"==i.type?(s=t(i.target),a="focus",r(e.sizes.height/3.5,200)):a="blur",n.scope.scrollTop(0)});var r=function(e,t){var i=s.offset().top;i<0?n.marquee.scroll.scrollBy(0,-i+e,t,n.options.static?IScrollStatic.utils.ease.cubicOut:IScroll.utils.ease.cubicOut):i>e&&n.marquee.scroll.scrollBy(0,-(i-e),t,n.options.static?IScrollStatic.utils.ease.cubicOut:IScroll.utils.ease.cubicOut)}},destroy:function(){this.scope.off(),this.marquee.scroll.off(),this.marquee.destroy(),i.window.off("resize.screens"),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,a){e.define("plugins.scroll.fix"),e.plugins.scroll.fix=function(e){!e||e&&!e.scroll||(this.active=!1,this.scroll=t(e.scroll),this.container=t(e.container))},e.plugins.scroll.fix.prototype={init:function(){var t=this;if(!this.active&&!e.device.isMobile){var n;i.body[0];this.scroll.on("scroll.fix",function(){clearTimeout(n),t.container[0].getAttribute("class").match(/disable__hover/)||t.container.addClass("disable__hover"),n=setTimeout(function(){t.container.removeClass("disable__hover")},300)}),this.active=!0}},destroy:function(){this.active&&(this.scroll.off("scroll.fix"),this.active=!1)}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,a){e.define("plugins.scroll.progress"),e.plugins.scroll.progress=function(e){!e||e&&!e.scroll||(this.active=!1,this.scroll=t(e.scroll),this.scope=e.container?t(e.container):this.scroll)},e.plugins.scroll.progress.prototype={start:function(){var e=this;this.active||(this.progress=t('<div class="oScreen__scroll__progress"></div>').appendTo(this.scope),this.line=t('<div class="oScreen__scroll__progress__line"></div>').appendTo(this.progress)[0],this.height=parseInt(Math.max(this.scroll.outerHeight(),this.scroll[0].scrollHeight)),setTimeout(function(){e.progress.attr("data-active","true")},20),this.scroll.on("scroll.progress",function(){e.update(this.scrollTop)}),this.active=!0)},update:function(t){this.line.style[e.prefixed.transform]="translate3d(-"+(100-t/this.height*100)+"%, 0, 0)"},destroy:function(){this.active&&(this.scroll.off("scroll.progress"),this.progress.remove(),this.active=!1)}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,n,a){e.define("plugins.scroll.animate"),e.plugins.scroll.animate=function(e){!e||e&&!e.scroll||(this.ready=!1,this.delay=e.delay,this.elems=e.elems?e.elems:".anim",this.scroll=t(e.scroll),this.scope=e.container?t(e.container):this.scroll,this.delta=e.delta?this.deltaValues.getValueByTitle(e.delta):null,this.scenario=e.scenario,this.items=[])},e.plugins.scroll.animate.prototype={start:function(e){var t=this;this.ready&&!e||this.render();var i=a.throttle(this.onScroll,100);this.items.length&&this.scroll.on("scroll.animate",function(){i(t)})},render:function(){var e=this;this.items=[],this.scope.find(this.elems).each(function(){e.each(this)}),this.scenario&&a.each(this.scenario,function(t){e.scope.find(t.elem).each(function(){e.each(this,t.callback)})}),this.ready=!0},each:function(e,i){var n=this,a=t(e),s=e.getAttribute("data-delta");s=s?n.deltaValues.getValueByTitle(s):n.delta?n.delta:.55,n.items.push({elem:a,anim:!1,offset:a.offset(),delta:s,callback:i?i:null})},onScroll:function(t){var i=t.scroll[0].scrollTop||t.scroll[0].scrollY;t.items.forEach(function(t,n){!t.anim&&i+e.sizes.height*t.delta>t.offset.top&&(t.anim=!0,t.callback?t.callback(t.elem):t.elem.addClass("animated"))})},destroy:function(){this.scroll.off("scroll.animate"),this.items.forEach(function(e,t){e.anim&&(e.anim=!1,e.elem.removeClass("animated"))}),this.ready=!1},deltaValues:{items:[{title:"xs",value:1},{title:"s",value:.7},{title:"m",value:.55},{title:"l",value:.38},{title:"xl",value:.25}],getValueByTitle:function(e){return a.findWhere(this.items,{title:e}).value}}}}(app,$,app.$dom,app.events,app.utils),function(e){e.define("plugins.tutorial.selectResumePremium"),e.plugins.tutorial.selectResumePremium=[function(){return{figure:"square",target:".tutorial-step1",actions:{toggle:function(e){e.parent().toggleClass("tutorial-current")}},position:"right",title:"Lorem ipsum dolor sit amet",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, dolore dolor, reiciendis cupiditate nemo ullam beatae nulla recusandae adipisci fugiat tempora error distinctio et aspernatur a, quam ducimus asperiores sequi."}},function(){return{figure:"circle",target:".tutorial-step2",position:"left",title:"Lorem ipsum dolor sit amet",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, dolore dolor, reiciendis cupiditate nemo ullam beatae nulla recusandae adipisci fugiat tempora error distinctio et aspernatur a, quam ducimus asperiores sequi."}},function(){return{figure:"square",target:".tutorial-step3",position:"up",title:"Lorem ipsum dolor sit amet",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rerum, dolore dolor, reiciendis cupiditate nemo ullam beatae nulla recusandae adipisci fugiat tempora error distinctio et aspernatur a, quam ducimus asperiores sequi."}}]}(app),$store.resume=_.extend(new Baobab({},{autoCommit:!0}),{prepare:{demo:function(){return $store.demo&&$store.resume.set($store.demo),$store.resume.get()},premium:function(){return $store.resume.set(_.deepExtend($store.resume.get(),{salary:$store.resume.default.salary(),tags:null,appeal:null,works:null,skills:null,education:null,courses:null,hobby:null,coverletter:{text:null,color:"1"},sections:[{name:"salary",title:"Желаемая зарплата",short:"Зарплата",control:!0,active:!0},{name:"tags",title:"Ключевые навыки",short:"Навыки",control:!0,active:!0},{name:"appeal",title:"Заголовок-обращение",short:"Обращение",control:!0,active:!0},{name:"about",title:"О себе текст",short:"О себе",control:!0,active:!0},{name:"social",title:"Аккаунты в соц. сетях",short:"Соц. ссылки",control:!0,active:!0},{name:"works",title:"Мои проекты",short:"Проекты",screen:!0,control:!0,active:!0},{name:"skills",title:"Основные компетенции",short:"Навыки",screen:!0,control:!0,active:!0},{name:"education",title:"Образование",short:"Учеба",screen:!0,control:!0,active:!0},{name:"courses",title:"Курсы",short:"Курсы",screen:!0,control:!0,active:!0},{name:"languages",title:"Владение языками",short:"Языки",screen:!0,control:!0,active:!0},{name:"jobs",title:"Работа в компаниях",short:"Карьера",screen:!0,control:!0,active:!0},{name:"hobby",title:"Мои хобби",short:"Хобби",screen:!0,control:!0,active:!0},{name:"contacts",title:"Контакты",short:"Контакты",screen:!0,control:!0,active:!0},{name:"feedback",title:"Обратная связь",short:"Обратная связь",screen:!0,control:!0,active:!0},{name:"coverletter",title:"Сопроводительное письмо",short:"Письмо",screen:!0,control:!1,active:!1}],config:{color:"#0084ff",font:"futura",photo:{minWidth:440,maxHeight:620,noise:!1},likes:{active:!0,count:!0}}})),$store.resume.get()}},default:{resume:function(e){return{accountId:e.ACCOUNT_ID,public:!0,plan:e.plan,template:e.template?e.template:"1",lang:"ru",post:null,photo:e.photo,create:moment().format(),update:moment().format(),commons:{name:e.name,surname:e.surname,gender:e.gender,birthday:e.birthday,contacts:e.contacts},salary:$store.resume.default.salary(),about:null,social:null,education:null,languages:null,jobs:null,percent:33,config:{photo:{minWidth:440,maxHeight:620},pdf:{logotype:"free"==e.plan},stat:!1}}},salary:function(){return{amount:"50000",currency:"1",worktime:"1",graph:{active:!1,items:["50000","50000","50000","50000","50000","50000"]},active:!0}}},take:{birthday:{date:function(){var e=$store.resume.get("commons","birthday");return moment(e.year+"-"+e.month+"-"+e.day).format("D MMMM YYYY")},age:function(){var e=$store.resume.get("lang"),t=$store.resume.get("commons","birthday"),i=moment().diff(moment(t.year+"-"+t.month+"-"+t.day),"years");return i+="1"==i?"ru"==e?" год":" year":i>1&&i<5?"ru"==e?" года":"year":"ru"==e?" лет":" year"}},salary:{amount:function(e){return _.numberFormat(e||$store.resume.get("salary","amount"),0,".",".")},currency:function(e){return $store.currency.getTitleById(e||$store.resume.get("salary","currency"))},worktime:function(e,t){return $store.worktime.getTitleById(e||$store.resume.get("salary","worktime"),t)}},education:{items:function(){return _.sortArray($store.resume.get("education","items"),"year","desc")}},courses:{items:function(){return _.sortArray($store.resume.get("courses","items"),"year","desc")}},jobs:{items:function(){return $store.resume.take.jobs.sort($store.resume.get("jobs","items"))},period:function(e,t){var i=$store.resume.get("lang"),n=(new Date).getDate(),a=0,s=0,r=$store.month.getTitleById(e.from.month)+" "+e.from.year;if(e.last)var o="ru"==i?"по настоящее время":"Until Now",a=moment().diff(e.from.year+"-"+(e.from.month<10?"0"+e.from.month:e.from.month)+"-"+(n<10?"0"+n:n),"month");else{var o=$store.month.getTitleById(e.to.month)+" "+e.to.year;a=moment(e.to.year+"-"+(e.to.month<10?"0"+e.to.month:e.to.month)+"-"+(n<10?"0"+n:n)).diff(e.from.year+"-"+(e.from.month<10?"0"+e.from.month:e.from.month)+"-"+(n<10?"0"+n:n),"month")}return a>0&&(s=Math.floor(a/12),"1"==s?s+="ru"==i?" год":" year":s>1&&s<5?s+="ru"==i?" года":" year":s<1?s="":s+="ru"==i?" лет":" year"),a&&(a-=12*Math.floor(a/12),a+="1"==a?"ru"==i?" месяц":" month":a>1&&a<5?"ru"==i?" месяца":" months":"ru"==i?" месяцев":" months"),s?t?s+(parseInt(a)>0?", "+a:""):r+" — "+o+" ("+s+(parseInt(a)>0?", "+a:"")+")":a?t?a:r+" — "+o+" ("+a+")":t?void 0:r+" — "+o},year:function(e){return e.last?(new Date).getFullYear():e.to.year},sort:function(e){return _.sortBy(e,function(e){return $store.resume.take.jobs.year(e)}).reverse()}},coverletter:{color:function(){return $store.coverletter.getColorById($store.resume.get("coverletter","color"))}}},placeholder:{name:"Виктория Юртаева",post:"Web-Designer, Art-director, Illustrator",salary:{amount:"125000",currency:"1",worktime:"1"},tags:["Adobe Photoshop","Ajax","Bootstrap","CSS3","Gulp","HTML5","JavaScript","jQuery","JSON","Less","MySQL"],appeal:"Award winning interdisciplinary Designer & Art director. Currently pursuing a perfect blend of style and function for a wide range of interactive product design.",about:"Your brand is how your customers see your business. It’s shaped by the way you represent yourself – professionally, socially and visually. It’s what makes you unique. It’s what makes you desirable. It’s shorthand for everything that brings your business together.",social:{title:"Я в социальных медиа"},works:{title:"Мои проекты",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},skills:{title:"Основные компетенции",header:"We’re full service which means we’ve got you covered on design and content right through to digital.",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa.",items:[{title:"Development",value:"90"},{title:"Design",value:"95"},{title:"Marketing",value:"79"},{title:"WordPress",value:"86"}]},education:{title:"Образование",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa. Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},courses:{title:"Курсы",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa. Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},languages:{title:"Владение языками",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae.",items:[{title:"native",value:"4"},{title:"en",value:"2"},{title:"de",value:"1"},{title:"fr",value:"1"}],help:{text:"Здесь вы можете более подробно написать уровень владения языком и/или указать сертификаты и баллы за них."}},jobs:{title:"Работа в компаниях",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},hobby:{title:"Работа в компаниях",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."}}}),$store.fonts=new Baobab(["futura","avant","gotham","proxima","myriad"]),$store.colors=_.extend(new Baobab([{_id:"#0084ff",title:"blueLight"},{_id:"#265cdc",title:"blue"},{_id:"#74b027",title:"green"},{_id:"#0bb5b7",title:"emerald"},{_id:"#ff7272",title:"pink"},{_id:"#d93663",title:"red"},{_id:"#c1a16b",title:"brown"},{_id:"#ea7f07",title:"orange"},{_id:"#ab81cd",title:"violetLight"},{_id:"#5c0bb7",title:"violet"}]),{getTitleById:function(e){return _.findWhere($store.colors.get(),{_id:e}).title}}),$store.currency=_.extend(new Baobab([{_id:"1",title:"₽"},{_id:"2",title:"$"},{_id:"3",title:"€"}]),{getTitleById:function(e){return _.findWhere($store.currency.get(),{_id:e}).title}}),$store.worktime=_.extend(new Baobab([{_id:"1",title:{en:"full-time",ru:"full-time"}},{_id:"2",title:{en:"part-time",ru:"Частичная"}},{_id:"3",title:{en:"project work",ru:"Проектная"}}]),{getItems:function(e){return _.map($store.worktime.get(),function(t){return{_id:t._id,title:t.title[e||$store.resume.get("lang")]}})},getTitleById:function(e,t){return $store.worktime.get({_id:e},"title",t||$store.resume.get("lang"))}}),$store.education=_.extend(new Baobab([{_id:"1",parent:"0",title:{en:"Higher",ru:"Высшее"}},{_id:"2",parent:"1",title:{en:"Bachelor",ru:"Бакалавр"}},{_id:"3",parent:"1",title:{en:"Master",ru:"Магистр"}},{_id:"4",parent:"1",title:{en:"Candidate of Sciences",ru:"Кандидат наук"}},{_id:"5",parent:"1",title:{en:"Doctor of Sciences",ru:"Доктор наук"}},{_id:"6",parent:"0",title:{en:"Incomplete higher",ru:"Неоконченное высшее"}},{_id:"7",parent:"0",title:{en:"Vocational secondary",ru:"Среднее специальное"}},{_id:"8",parent:"0",title:{en:"Secondary",ru:"Среднее"}}]),{getItems:function(e){return _.map($store.education.get(),function(t){return{_id:t._id,parent:t.parent,title:t.title[e||$store.resume.get("lang")]}})},getTitleById:function(e,t){return $store.education.get({_id:e},"title",t||$store.resume.get("lang"))}}),$store.languages=_.extend(new Baobab([{_id:"native",title:{en:"Native language",ru:"Родной язык"}},{_id:"en",title:{en:"English",ru:"Английский"}},{_id:"de",title:{en:"German",ru:"Немецкий"}},{_id:"fr",title:{en:"French",ru:"Французский"}}]),{getItems:function(e){return _.map($store.languages.get(),function(t){return{_id:t._id,title:t.title[e||$store.resume.get("lang")]}})},getTitleById:function(e,t){return $store.languages.get({_id:e},"title",t||$store.resume.get("lang"))}}),$store.languages.select=_.extend(new Baobab([{_id:"1",title:{en:"No knowledge",ru:"Не владею"}},{_id:"2",title:{en:"Basic knowledge",ru:"Базовые знания"}},{_id:"3",title:{en:"I read literature",ru:"Читаю литературу"}},{_id:"4",title:{en:"Can attend an interview",ru:"Могу проходить интервью"}},{_id:"5",title:{en:"I am a fluent speaker",ru:"Свободно владею"}}]),{getItems:function(){return _.map($store.languages.select.get(),function(e){return{_id:e._id,title:e.title[$store.resume.get("lang")]}})},getTitleById:function(e){return $store.languages.select.get({_id:e},"title",$store.resume.get("lang"))}}),$store.languages.native=_.extend(new Baobab([{_id:"1",title:"Абазинский"},{_id:"2",title:"Абхазский"},{_id:"3",title:"Аварский"},{_id:"4",title:"Русский"}]),{getTitleById:function(e){return _.findWhere($store.languages.native.get(),{_id:e}).title}}),$store.month=_.extend(new Baobab([{_id:"1",title:{en:"January",ru:"Январь"}},{_id:"2",title:{en:"February",ru:"Февраль"}},{_id:"3",title:{en:"March",ru:"Март"}},{_id:"4",title:{en:"April",ru:"Апрель"}},{_id:"5",title:{en:"May",ru:"Май"}},{_id:"6",title:{en:"June",ru:"Июнь"}},{_id:"7",title:{en:"July",ru:"Июль"}},{_id:"8",title:{en:"August",ru:"Август"}},{_id:"9",title:{en:"September",ru:"Сентябрь"}},{_id:"10",title:{en:"October",ru:"Октябрь"}},{_id:"11",title:{en:"November",ru:"Ноябрь"}},{_id:"12",title:{en:"December",ru:"Декабрь"}}]),{getItems:function(e){return _.map($store.month.get(),function(t){return{_id:t._id,title:t.title[e||"ru"]}})},getTitleById:function(e,t){return $store.month.get({_id:e},"title",t||$store.resume.get("lang"))}}),$store.hobby=_.extend(new Baobab([{_id:"airplane",title:"Путешествия",value:27353},{_id:"basketball",title:"Баскетбол",value:40611},{_id:"books",title:"Чтение",value:4062},{_id:"camera",title:"Фото/видео",value:1999599},{_id:"car",title:"Автомобили",value:347560},{_id:"palette",title:"Рисование",value:23534},{_id:"comedy",title:"Театр",value:27906},{_id:"cooking",title:"Кулинария",value:22545},{_id:"cyclist",title:"Велосипед",value:2286},{_id:"dancer",title:"Танцы",value:150088},{_id:"happy",title:"Шоппинг",value:5173},{_id:"mirrors",title:"Клубы",value:23979},{_id:"movie",title:"Кино",value:909743},{_id:"musical",title:"Музыка",value:1605498},{_id:"poker",title:"Азартные игры",value:6535},{_id:"running",title:"Бег",value:5867},{_id:"snowboard",title:"Сноуборд",value:16734},{_id:"soccer",title:"Футбол",value:793657},{_id:"sport",title:"Лыжи",value:12032},{_id:"swimmer",title:"Плавание",value:10735},{_id:"typewriter",title:"Писательство",value:5882},{_id:"volleyball",title:"Волейбол",value:61144},{_id:"programming",title:"Программирование",value:10038},{_id:"weightlifting",title:"Тренажерный зал",value:7819},{_id:"tennis",title:"Теннис / Сквош",value:20252},{_id:"bowling",title:"Боулинг",value:12713},{_id:"yoga",title:"Йога",value:38675},{_id:"hunting",title:"Охота",value:35739},{_id:"boxing",title:"Бокс",value:113534},{_id:"fencing",title:"Фехтование",value:5399},{_id:"needlework",title:"Рукоделие",value:13249},{_id:"skydiving",title:"Прыжки с парашютом",value:4365},{_id:"pets",title:"Домашние животные",value:24673},{_id:"boardgames",title:"Настольные игры",value:36111},{_id:"bath",title:"Баня",value:28067},{_id:"computergames",title:"Компьютерные игры",value:9987},{_id:"singing",title:"Пение",value:1851},{_id:"decoration",title:"Декор",value:7587},{_id:"surfing",title:"Серфинг",value:4231},{_id:"chess",title:"Шахматы",value:139555},{_id:"horsebackriding",title:"Верховая езда",value:1609},{_id:"icehockey",title:"Хоккей",value:132542},{_id:"collecting",title:"Собирательство",value:1086},{_id:"floristics",title:"Флористика",value:2962},{_id:"billiards",title:"Бильярд",value:22939},{_id:"skateboarding",title:"Скейтбординг",value:1078},{_id:"rollers",title:"Ролики",value:15993},{_id:"mindgames",title:"Интеллектуальные игры",value:6647},{_id:"poetry",title:"Поэзия",value:3672},{_id:"hikes",title:"Походы / каякинг",value:2991},{_id:"rockclimbing",title:"Альпинизм",value:1434}]),{getTitleById:function(e){return _.findWhere($store.hobby.get(),{_id:e}).title}});