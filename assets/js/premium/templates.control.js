riot.tag2("control-colors",'<div onclick="{changeColor}" onupdate="none" class="control__colors__item bg-{$store.colors.getTitleById($State.get(\'color\'))} control__colors__item--active"></div> <div class="control__colors__items"> <div onclick="{onSelect}" onupdate="none" each="{item in $store.colors.get()}" no-reorder class="control__colors__item bg-{item.title}"></div> </div>',"",'class="control__colors"',function(t){this.onSelect=function(){this.onChange(this.item._id)},this.onChange=function(t){$State.select("color").set(t)},this.changeColor=function(){if(app.device.isMobile){var t=$store.colors.select({_id:$State.get("color")}).right();t=t?t.get():$store.colors.get(0),this.onChange(t._id)}}}),riot.tag2("control-fonts",'<div onclick="{changeFont}" onupdate="none" class="control__fonts__item control__fonts__item--active fontFamily-{$State.get(\'font\')}">Aa</div> <div class="control__fonts__items"> <div onclick="{onSelect}" onupdate="none" each="{item in $store.fonts.get()}" no-reorder class="control__fonts__item fontFamily-{item}">Aa</div> </div>',"",'class="control__fonts"',function(t){this.onSelect=function(){this.onChange(this.item)},this.onChange=function(t){$State.select("font").set(t)},this.changeFont=function(){if(app.device.isMobile){var t=$store.fonts.get(),o=t.length-1,c=_.indexOf(t,$State.get("font")),e=c+1;e>o&&(e=0),this.onChange(t[e])}}}),riot.tag2("control-sections",'<div if="{counts && counts > 0}" class="control__sections__badge">{counts}</div> <svg class="control__sections__svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="fill-primary" d="M72.255,55.039c-0.935-0.376-1.896-0.658-2.87-0.89V21.746c0-0.003-0.002-0.006-0.002-0.009s0.002-0.006,0.002-0.009 c0-0.299-0.137-0.559-0.345-0.742L54.345,6.184c-0.188-0.189-0.443-0.295-0.71-0.295H18.041c-1.654,0-3,1.346-3,3v67.93 c0,1.654,1.346,3,3,3h27.289c2.555,8.269,10.269,14.293,19.364,14.293c11.175,0,20.266-9.09,20.266-20.264 C84.959,65.525,79.972,58.143,72.255,55.039z M54.564,9.244l11.401,11.484H54.564V9.244z M44.825,77.818H18.041 c-0.551,0-1-0.448-1-1V8.888c0-0.551,0.449-1,1-1h34.524v13.84c0,0.552,0.447,1,1,1h13.82V53.78 c-0.888-0.117-1.783-0.198-2.691-0.198c-10.211,0-18.856,7.63-20.109,17.748c-0.103,0.827-0.155,1.675-0.155,2.518 C44.429,75.207,44.569,76.533,44.825,77.818z M64.693,92.111c-10.071,0-18.264-8.193-18.264-18.264c0-0.761,0.047-1.525,0.14-2.271 c1.129-9.118,8.921-15.994,18.125-15.994c2.359,0,4.652,0.441,6.814,1.313c6.956,2.797,11.451,9.451,11.451,16.953 C82.959,83.918,74.765,92.111,64.693,92.111z M74.236,72.848H55.152c-0.553,0-1,0.447-1,1s0.447,1,1,1h19.084c0.553,0,1-0.447,1-1 S74.789,72.848,74.236,72.848z M44.928,57.104c0-0.553-0.448-1-1-1H25.546c-0.552,0-1,0.447-1,1s0.448,1,1,1h18.382 C44.48,58.104,44.928,57.656,44.928,57.104z M25.546,37.603h33.333c0.553,0,1-0.448,1-1s-0.447-1-1-1H25.546c-0.552,0-1,0.448-1,1 S24.994,37.603,25.546,37.603z M25.546,30.769h33.333c0.553,0,1-0.448,1-1s-0.447-1-1-1H25.546c-0.552,0-1,0.448-1,1 S24.994,30.769,25.546,30.769z M39.178,62.938H25.546c-0.552,0-1,0.447-1,1s0.448,1,1,1h13.632c0.552,0,1-0.447,1-1 S39.73,62.938,39.178,62.938z M25.546,51.27h33.333c0.553,0,1-0.448,1-1s-0.447-1-1-1H25.546c-0.552,0-1,0.448-1,1 S24.994,51.27,25.546,51.27z M25.546,44.437h33.333c0.553,0,1-0.448,1-1s-0.447-1-1-1H25.546c-0.552,0-1,0.448-1,1 S24.994,44.437,25.546,44.437z"></path></svg>',"",'onclick="{open}" class="control__sections" data-active="{counts && counts > 0 ? true : false}"',function(t){var o=this;o.refresh=function(){o.update({counts:o.getCount()})},o.open=function(){$Editable.show("visible",{title:"Активные секции",sections:$resume.sections,callback:function(t){t&&$store.resume.select("sections").set(t)}})},o.getCount=function(){return _.filter($resume.sections,function(t){return t.active!==!0&&t.control===!0}).length},o.counts=o.getCount()});