riot.tag2("root-main-view",'<section-nav if="{!app.device.isMobile}"></section-nav> <section-info></section-info> <section-sendmail></section-sendmail> <salary-graph-opener></salary-graph-opener> <salary-graph></salary-graph> <sections-control if="{$State.get(\'mode\') === ⁗editing⁗}"> <control-colors></control-colors> </sections-control> <resume-template1></resume-template1> <div class="section__overlay zIndex-7"></div>',"",'class="appResume section" data-lang="{$resume.lang}" data-color="{$State.get(\'color\')}" data-font="{$State.get(\'font\')}" data-mode="{$State.get(\'mode\')}" data-coverletter="{$State.get(\'mode\') !== ⁗editing⁗ && $store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗coverletter⁗}).active}" data-animation="{!app.device.isPhone && $State.get(\'mode\') === \'view\' && $State.get(\'animate\')}" data-app="premium"',function(e){$root=this,$$=window.jQuery||window.Zepto,$resume=app.demo?$store.resume.prepare.demo():$store.resume.get(),this.init=function(){$i18n.lang($resume.lang),moment.locale($resume.lang);var e="true"==this.opts.editing?"editing":"view",t=$store.resume.select("config").deepClone();t.mode=e,t.public=$store.resume.get("public"),t.lang=$store.resume.get("lang"),$State=new Baobab(t,{autoCommit:!0})},this.init(),this.on("before-mount",function(){$Menu=$root.tags["section-menu"],$Nav=$root.tags["section-nav"],$Info=$root.tags["section-info"],$Sendmail=$root.tags["section-sendmail"],$Control={colors:$root.tags["control-colors"]},$Salary={opener:$root.tags["salary-graph-opener"],graph:$root.tags["salary-graph"]},$Resume=$root.tags["resume-template1"]}),this.one("ready",function(){if(!app.device.isMobile&&$State.get("animate")===!0){var e=new app.plugins.scroll.ParallaxController({items:[{selector:"ux-photo",from:100,to:-150,off:0}]});e.start()}if(app.device.isPhone&&$afterlag.xs(function(){$Resume.screens.refresh()}),app.$dom.body.removeClass("appLoading").attr("id","ready"),app.device.isPhone||$State.get("animate")!==!0||$afterlag.run(function(){if(!app.device.isMobile){var e=new app.plugins.scroll.AnimationController({container:$root.root});e.start()}var t=new app.plugins.scroll.animate({container:$root.root,onlyItems:!0,items:[{elem:".skills-progress",callback:function(e,t){e.addClass("animated")}},{elem:".choose__contact",callback:function(e,t){e.addClass("animated")}}]});t.start()}),app.demo&&window.parent){if(window.parent.postMessage("ready","*"),app.device.isPhone){var t=$Resume.el.find(".screen"),s=null;t.on("show",function(){s=this.getAttribute("data-section"),window.parent.postMessage({screen:s},"*")})}app.$dom.window.on("message",function(e){var t=e.originalEvent.data;if(t)if(t.color&&$State.get("color")!=t.color)$State.select("color").set(t.color);else if(t.font&&$State.get("font")!=t.font)$State.select("font").set(t.font);else if(t.photo)$store.resume.select("commons","photo").set(t.photo),$Resume.sections.photo.update();else if(t.resume)$Resume.unmount(!0),$resume=$store.resume.prepare.premium(t.resume,"demo"),$root.init(),$Resume=riot.mount("resume-template1")[0],$Resume.one("updated",function(){$Salary.opener.update(),$Salary.graph.update(),window.parent.postMessage({resume:$store.resume.get()},"*")});else if(t.scrollTo){var o=void 0;if(void 0!==t.scrollDuration)o=t.scrollDuration;else{var n=_.findWhere($Resume.screenItems,{section:s});n&&(o=250*n.step),o<600?o=600:o>3e3&&(o=3e3)}$Resume.screens.nav(t.scrollTo,o)}})}$root.ready=!0}),this.on("mode",function(e,t){"hidden"==e?app.device.isPhone?$Resume.root.setAttribute("data-hidden",t):$root.root.setAttribute("data-overlay",t):"menu"==e?$root.root.setAttribute("data-menu",t):"coverletter"==e&&$root.root.setAttribute("data-coverletter",t)}),app.config.changeStyles&&(app.device.isPhone?app.plugins.styles.init({elem:"#styles",screens:[{title:"small",maxWidth:360,path:"/assets/css/premium.smallScreen.css",refresh:!0},{title:"normal",minWidth:360,maxWidth:767,path:"/assets/css/premium.css"},{title:"tablet",minWidth:768,reload:!0}]}):app.plugins.styles.init({elem:"#styles",screens:[{title:"small",maxWidth:767,reload:!0}]}))}),riot.tag2("root-main",'<section-nav if="{!app.device.isMobile}"></section-nav> <section-info if="{$State.get(\'mode\') !== ⁗editing⁗}"></section-info> <section-sendmail if="{$State.get(\'mode\') !== ⁗editing⁗}"></section-sendmail> <salary-graph-opener if="{$State.get(\'mode\') !== ⁗editing⁗ && $resume.salary.graph.active}"></salary-graph-opener> <salary-graph></salary-graph> <sections-control if="{$State.get(\'mode\') === ⁗editing⁗}"> <section-menu></section-menu> <menu-opener></menu-opener> <control-fonts></control-fonts> <control-colors></control-colors> <control-sections></control-sections> <control-public></control-public> <section-editable></section-editable> <section-percentage if="{!app.device.isMobile}"></section-percentage> <text-edit></text-edit> <resume-button-save section="{$Sections.finish}"></resume-button-save> </sections-control> <resume-template1></resume-template1> <div class="section__overlay zIndex-7"></div> <resume-edit-finish percentage="{$Sections.percentage}"></resume-edit-finish> <section-loader></section-loader> <section-notify if="{$State.get(\'mode\') === ⁗editing⁗}"></section-notify> <section-tutorial if="{$State.get(\'mode\') === ⁗editing⁗}"></section-tutorial>',"",'class="appResume section" data-color="{$State.get(\'color\')}" data-font="{$State.get(\'font\')}" data-mode="{$State.get(\'mode\')}" data-coverletter="{$State.get(\'mode\') !== ⁗editing⁗ && $store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗coverletter⁗}).active}" data-app="premium"',function(e){$root=this,$$=window.jQuery||window.Zepto;var t=Store.get("resume"),s=!1;!app.demo&&t&&t._id==$store.resume.get("_id")&&t.plan==$store.resume.get("plan")&&moment(t.update).diff(moment($store.resume.get("update")))>0&&($store.resume.set(t),s=!0),$resume=app.demo?$store.resume.prepare.demo():$store.resume.prepare.premium($store.resume.get(),!0),$i18n.lang($resume.lang),moment.locale($resume.lang);var o="true"==this.opts.editing?"editing":"view",n=$store.resume.select("config").deepClone();n.mode=o,$State=new Baobab(n,{autoCommit:!0}),$Sections={percentage:$root.tags["section-percentage"],textEdit:$root.tags["text-edit"],finish:$root.tags["resume-edit-finish"]},this.on("before-mount",function(){$Menu=$root.tags["section-menu"],$Nav=$root.tags["section-nav"],$Info=$root.tags["section-info"],$Sendmail=$root.tags["section-sendmail"],$Editable=$root.tags["section-editable"],$Helper=$Editable.tags["ui-help"],$Loader=$root.tags["section-loader"],$Notify=$root.tags["section-notify"],$Tutorial=$root.tags["section-tutorial"],$Control={fonts:$root.tags["control-fonts"],colors:$root.tags["control-colors"],sections:$root.tags["control-sections"],public:$root.tags["control-public"]},$Salary={opener:$root.tags["salary-graph-opener"],graph:$root.tags["salary-graph"]},$Resume=$root.tags["resume-template1"]}),this.one("ready",function(){app.$dom.body.removeClass("appLoading").attr("id","ready"),app.demo?(window.parent&&window.parent&&window.parent.postMessage("ready","*"),app.$dom.window.on("message",function(e){var t=e.originalEvent.data;t&&t.color&&$State.select("color").set(t.color)}),app.config.request.handler=function(e){if(e.match(/Suggest/))return!0}):(s&&$Notify.show({color:"dark",text:"Резюме восстановлено из резервной копии"}),$root.autoSave()),app.device.isPhone&&new app.plugins.scroll.refreshFix($root.root),$root.ready=!0}),this.on("mode",function(e,t){"hidden"==e?app.device.isPhone?$Resume.root.setAttribute("data-hidden",t):$root.root.setAttribute("data-overlay",t):"menu"==e?$root.root.setAttribute("data-menu",t):"coverletter"==e&&$root.root.setAttribute("data-coverletter",t)}),this.autoSave=function(){$root.autoSaveInterval=setInterval(function(){$store.resume.select("update").set(moment().format()),Store.set("resume",$store.resume.get())},1e3*app.config.resume.premium.autoSave.interval)},app.config.changeStyles&&(app.device.isPhone?app.plugins.styles.init({elem:"#styles",screens:[{title:"small",maxWidth:360,path:"/assets/css/premium.smallScreen.css",refresh:!0},{title:"normal",minWidth:360,maxWidth:767,path:"/assets/css/premium.css"},{title:"tablet",minWidth:768,reload:!0}]}):app.plugins.styles.init({elem:"#styles",screens:[{title:"small",maxWidth:767,reload:!0}]}))}),riot.tag2("resume-template1",'<div if="{!app.device.isPhone}" class="hidden-xs hidden-sm overlay col-sm-6"></div> <div if="{!app.device.isPhone}" class="hidden-xs hidden-sm main-line col-sm-6"></div> <div if="{!app.device.isPhone}" class="hidden-xs hidden-sm main-line-bg col-sm-6"></div> <section class="screen screen--active" data-section="coverletter" data-color="{$store.resume.take.coverletter.color()}" if="{$State.get(\'mode\') !== ⁗editing⁗ && $store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗coverletter⁗}).active}"> <div class="screen__content"> <ux-coverletter></ux-coverletter> </div> </section> <section if="{app.device.isPhone}" class="screen screen--first {$State.get(\'mode\') !== \'editing\' && $store.resume.select(\'sections\').get({\'name\': \'coverletter\'}).active ? null : \'screen--active\'}" data-section="cover"> <div class="screen__content"> <ux-photo phone="true"></ux-photo> <div if="{$store.resume.get(\'post\')}" class="screen__post"> <div class="screen__post__text"> {$store.resume.get(\'post\')} </div> </div> <div if="{$store.resume.get(\'commons\', \'contacts\', \'city\')}" class="screen__location"> <span class="display-inlineBlock text-truncate w90p">{$store.resume.get(\'commons\', \'contacts\', \'city\', \'name\')}, <span class="text-lowercase">{$store.resume.take.relocation()}</span></span> <div class="screen__progress" riot-style="width:{$store.resume.get(\'percent\')}%"> <div class="screen__progress__line"></div> </div> </div> </div> </section> <section class="screen {\'screen--first\' : !app.device.isPhone}" data-section="commons"> <div class="screen__content"> <div class="row"> <div if="{!app.device.isPhone}" class="col-xs-24 col-md-11 screen1-col-left"> <ux-photo title="Ваша фотография"></ux-photo> </div> <div class="col-xs-24 col-md-13 screen1-col-right"> <ux-name classname="h1 name" size="l" title="Ваше имя и фамилия"></ux-name> <ux-text autosuggest="getSuggestPositions" classname="h3 post" update="post" cursor="{$store.resume.select()}" title="Должность" type="input"></ux-text> <ux-salary if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗salary⁗}).active}" classname="salary" title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗salary⁗}).title}"></ux-salary> <ux-tags if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗tags⁗}).active}" classname="tag-list" title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗tags⁗}).title}"></ux-tags> <ux-text if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗appeal⁗}).active}" classname="larger mb-l" center="true" size="l" update="appeal" cursor="{$store.resume.select()}" activity="true" title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗appeal⁗}).title}" type="textarea"></ux-text> <ux-text name="ux-about" if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗about⁗}).active && !$store.resume.isLargeAboutMe()}" classname="p mb-l" center="true" update="about" cursor="{$store.resume.select()}" activity="true" title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗about⁗}).title}" type="textarea"></ux-text> <ux-social if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗social⁗}).active}" classname="social" size="l" title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗social⁗}).title}"></ux-social> </div> <ux-text-large name="ux-about-large" class="display-block col-xs-24 col-md-18 col-md-offset-6"></ux-text-large> </div> </div> </section> <section class="screen" data-section="works" if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗works⁗}).active}"> <div class="screen__content"> <ux-works title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗works⁗}).title}" center="true" size="xl"></ux-works> </div> </section> <section class="screen" data-section="skills" if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗skills⁗}).active}"> <div class="bg-section hidden-xs {bg-show : $store.resume.select(\'sections\').get({\'name\': \'works\'}).active}"></div> <div class="screen__content"> <div class="row"> <div class="col-xs-24 col-md-18 col-md-offset-6"> <div class="screen__inner"> <ux-skills title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗skills⁗}).title}" center="true" size="xl"></ux-skills> </div> </div> </div> </div> </section> <section class="screen" data-section="education" if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗education⁗}).active}"> <div class="screen__content"> <div class="row"> <div class="col-xs-24 col-md-18 col-md-offset-6"> <div class="screen__inner"> <ux-education title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗education⁗}).title}" center="true" size="xl"></ux-education> </div> </div> </div> </div> </section> <section class="screen" data-section="courses" if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗courses⁗}).active}"> <div class="screen__content"> <div class="row"> <div class="col-xs-24 col-md-18 col-md-offset-6"> <div class="screen__inner"> <ux-courses title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗courses⁗}).title}" center="true" size="xl"></ux-courses> </div> </div> </div> </div> </section> <section class="screen" data-section="languages" if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗languages⁗}).active}"> <div class="bg-section bg-snow hidden-xs"></div> <div class="screen__content"> <div class="row"> <div class="col-xs-24 col-md-18 col-md-offset-6"> <div class="screen__inner"> <ux-languages title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗languages⁗}).title}" center="true" size="xl"></ux-languages> </div> </div> </div> </div> </section> <section class="screen" data-section="jobs" if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗jobs⁗}).active}"> <div class="screen__content"> <ux-jobs title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗jobs⁗}).title}" center="true" size="xl"></ux-jobs> </div> </section> <section class="screen" data-section="hobby" if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗hobby⁗}).active}"> <div class="screen__content"> <div class="row"> <div class="col-xs-24 col-md-18 col-md-offset-6"> <div class="screen__inner"> <ux-hobby title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗hobby⁗}).title}" center="true" size="xl"></ux-hobby> </div> </div> </div> </div> </section> <section class="screen" data-section="contacts" if="{app.device.isPhone}"> <div class="screen__content"> <h3 class="title">{$i18n(⁗resume.premium.template.Contacts info⁗)}</h3> <ux-contacts-content></ux-contacts-content> </div> </section> <section class="screen" data-section="businessTrip" if="{app.device.isPhone}"> <div class="screen__content"> <h3 class="title">{$i18n(⁗resume.premium.template.Business trip, relocation⁗)}</h3> <ux-contacts-more></ux-contacts-more> </div> </section> <section class="screen" data-section="feedback" if="{app.device.isPhone}"> <div class="screen__content"> <h3 class="title">{$i18n(⁗resume.premium.template.Feedback⁗)}</h3> <ux-feedback></ux-feedback> </div> </section> <section class="screen" data-section="contacts" if="{!app.device.isPhone}"> <div class="screen__content"> <ux-contacts></ux-contacts> </div> </section> <section class="screen" data-section="likes" if="{app.device.isPhone && $State.get(\'mode\') !== ⁗editing⁗ && $store.resume.get(⁗config⁗, ⁗likes⁗, ⁗active⁗) && !app.isLiked}"> <div class="screen__content"> <ux-likes></ux-likes> </div> </section> <popup-likes if="{!app.device.isPhone && $State.get(\'mode\') !== ⁗editing⁗ && $store.resume.get(⁗config⁗, ⁗likes⁗, ⁗active⁗) && !app.isLiked}"></popup-likes>',"",'class="screens screens-phone container resume template1"',function(e){var t=this;t.el=$$(this.root),$screens=null,t.screenItems=null,t.screenColor=null,t.controlColor="primary",t.on("before-mount",function(){t.sections={photo:_.filter(t.tags["ux-photo"],function(e){return app.device.isPhone?e.opts&&e.opts.phone:e.opts&&!e.opts.phone})[0],salary:t.tags["ux-salary"],social:t.tags["ux-social"],contacts:t.tags["ux-contacts"],contactsContent:app.device.isPhone?t.tags["ux-contacts-content"]:t.tags["ux-contacts"].tags["ux-contacts-content"],feedback:app.device.isPhone?t.tags["ux-feedback"]:t.tags["ux-contacts"].tags["ux-feedback"]},t.sections.social.on("updated",function(){t.sections.contactsContent&&t.sections.contactsContent.update()})}),t.on("mount",function(){var e=$store.resume.get("commons","photo");e&&_.onLoadImage(e),"editing"!==$State.get("mode")&&(t.notTouch=["name","text","contacts","feedback","contacts-content","contacts-more","likes"],_.each(this.tags,function(e){if(e.root&&e.root.tagName&&e.root.tagName.toLowerCase().match(/^ux-/)){var s=e.root.tagName.toLowerCase().match(/^ux-(.+)/)[1];t.notTouch.indexOf(s)===-1&&($store.resume.get(s)?$$(e.root).children().unwrap():$$(e.root).remove())}}),_.each($store.resume.get("sections"),function(e){e.screen&&e.control&&t.notTouch.indexOf(e.name)===-1&&!$store.resume.get(e.name)&&$Resume.el.find(".screen[data-section="+e.name+"]").remove()}));var s=_.throttle(t.onScroll,50),o=_.debounce(t.render,300);if(app.device.isPhone?$afterlag.run(function(){if(t.screens=new app.plugins.screens($Resume.el,{dataAttr:"section",resizeRefresh:app.demo&&"editing"!==$State.get("mode")}),t.screens.init(),t.render(),t.initScroll(),function e(){t.raf=app.utils.raf(e),s(app.utils.getScroll(t.scroll))}(),$root.trigger("ready"),"editing"!==$State.get("mode")&&$store.resume.select("sections").get({name:"coverletter"}).active){var e=!0;$screens=$Resume.el.find(".screen"),$screens.on("show",function(){var t=this.getAttribute("data-section");"coverletter"!=t||e?"coverletter"!=t&&e&&(e=!1,$root.trigger("mode","coverletter",e)):(e=!0,$root.trigger("mode","coverletter",e))})}}):(t.render(),app.$dom.window.on("scroll",function(){_.raf(s)}),$afterlag.run(function(){$root.trigger("ready")})),app.$dom.window.on("resize",function(){o()}),"editing"===$State.get("mode")){var n=["social","works","skills","education","courses","languages","jobs","hobby"],i=["percent","config","update"];_.bbUpdate($store.resume,function(e,t,s){if($root.ready&&i.indexOf(e)===-1){if("public"==e)return void $Control.public.update();if("lang"==e)$i18n.lang($store.resume.get("lang")),moment.locale($store.resume.get("lang")),_.each($store.resume.placeholder,function(e,t){n.indexOf(t)!==-1&&$store.resume.get(t,"title")&&$store.resume.select(t,"title").set(e.title())}),$Resume.update(),app.device.isPhone&&$Resume.screens&&$afterlag.run(function(){$Resume.screens.refresh()});else if("sections"==e&&$Resume.screenItems){var o=!1;_.each(s.data.currentData.sections,function(e){if(e.screen&&(!e.screen||e.control)){var t=_.findWhere($Resume.screenItems,{section:e.name});t||(t={active:!1}),e.active!==t.active&&(o=!0)}}),o?($Resume.update(),app.device.isPhone&&($Resume.screens.refreshAll(),$Resume.initScroll())):app.device.isPhone&&$Resume.screens&&$afterlag.run(function(){$Resume.screens.refresh()}),$Control.sections.refresh()}else app.device.isPhone&&$Resume.screens&&$afterlag.run(function(){$Resume.screens.refresh()});$Resume.render()}}),_.bbUpdate($State,function(e,t,s){$root.ready&&("color"==e?($Control.colors.update(),$root.root.setAttribute("data-color",t),$Resume.sections.salary.graph.refresh(),$store.resume.select("config","color").set(t)):"font"==e?($Control.fonts.update(),$root.root.setAttribute("data-font",t),$store.resume.select("config","font").set(t),$Resume.render()):"photo"==e?($Resume.sections.photo.update(),$store.resume.select("config","photo",s.data.paths[0][1]).set(t)):"animate"==e&&$store.resume.select("config","animate",t))})}else app.demo&&_.bbUpdate($State,function(e,t,s){$root.ready&&("color"==e?($root.root.setAttribute("data-color",t),$Resume.sections.salary.graph.refresh()):"font"==e&&($root.root.setAttribute("data-font",t),$afterlag.run(function(){app.device.isPhone&&$Resume.screens.refresh(),$Resume.render()})))})}),t.initScroll=function(){t.scroll=$Resume.screens.get("scroll")},t.render=function(){var e=[],s=$store.resume.get("lang");t.screenColor=[],setTimeout(function(){if(!app.device.isPhone||$Resume.screens){if(app.device.isPhone)var o=$Resume.screens.scope.data("marquee").screens;$Resume.el.find(".screen").each(function(n,i){var a=$$(this),r=this.getAttribute("data-section");if("coverletter"!=r){if("works"==r||"jobs"==r||"contacts"==r)if(app.device.isPhone){if("contacts"==r)return;t.screenColor.push({height:o[n].size-120,offset:o[n].offset+120})}else{if("contacts"==r)var c=a;else var c=a.find(".bg-section");t.screenColor.push({height:c.height(),offset:c.offset().top-80})}var l=null;"commons"==r?l="ru"==s?"Общее":"Main":$store.resume.placeholder[r]&&(l=$store.resume.placeholder[r].shortname[s]);var i=_.findWhere($store.resume.get("sections"),{name:r});e.push({title:l,section:r,step:n+1,offset:a.offset().top,active:!i||i.active})}}),t.screenItems=e,!app.device.isMobile&&$Nav&&$Nav.refresh()}},5)};var s=0,o=!1,n=!1,i=!app.demo&&!app.device.isPhone&&"true"!=$root.opts.editing&&$store.resume.get("config","likes","active")&&!app.isLiked;t.onScroll=function(e){var e=e&&e.y||app.$dom.document.scrollTop(),a=!1;if(_.each(t.screenColor,function(s){a||e>s.offset&&e<s.offset+s.height&&(a=!0,"white"!=t.controlColor&&$root.root.setAttribute("data-control-color","white"))}),a||"primary"==t.color||$root.root.setAttribute("data-control-color","primary"),app.demo&&!o&&"true"==$root.opts.editing||i&&!n){var r=$Resume.el&&$Resume.el[0]&&$Resume.el[0].scrollHeight;r&&r>0&&e+app.sizes.height+20>r&&s<e&&(app.demo&&!o&&"true"==$root.opts.editing?(o=!0,$Sections.finish.show()):i&&!n&&(n=!0,$Resume.tags["popup-likes"].show())),s=e}},t.on("before-unmount",function(){$screens&&$screens.off("show"),t.screens.destroy(),$store.resume.off(),$State.off(),_.caf(t.raf)})});
riot.tag2("ui-button-edit",'<svg class="btn-svg btn-svg-edit" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"> <path class="btn-svg-color" d="M 18 0 L 2.8125 15.1875 L 0 24 L 8.8125 21.1875 L 24 6 C 24 6 23.9 3.9 22 2 C 20.1 0.1 18 0 18 0 z M 3.90625 16.1875 C 3.90625 16.1875 5.1125 16.4875 6.3125 17.6875 C 7.6125 18.8875 7.8125 20 7.8125 20 L 7.84375 20.0625 L 4.28125 21.1875 L 2.78125 19.6875 L 3.90625 16.1875 z"></path> </svg> <span>{opts.content}</span>',"",'class="btn btn-{opts.size} btn-upper w100p text-center borderRadius-m"',function(t){}),riot.tag2("btn-editable",'<div class="editable pos-{parent.opts.center ? \'centered\' : \'tl-50\'} {hide : opts.data}"> <button onclick="{parent.openEditable}" class="btn btn-{parent.opts.size ? parent.opts.size : \'m\'} btn-editable btn-upper" type="button"><svg class="btn-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="btn-svg-color" d="M87.754,45.284H54.716V12.246c0-2.605-2.111-4.716-4.716-4.716c-1.302,0-2.481,0.528-3.334,1.382 c-0.853,0.853-1.381,2.032-1.382,3.334v33.038l-33.038,0c-1.302,0-2.481,0.528-3.334,1.382C8.058,47.519,7.53,48.698,7.53,50 c0,2.605,2.111,4.716,4.716,4.716l33.038,0l0,33.038c0,2.605,2.111,4.716,4.716,4.716c2.604,0,4.716-2.112,4.716-4.716l0-33.038 h33.038c2.604,0,4.716-2.112,4.716-4.716C92.47,47.395,90.359,45.284,87.754,45.284z"></path></svg>{parent.opts.title}</button> </div> <div onclick="{parent.openEditable}" if="{$State.get(\'mode\') === ⁗editing⁗ && opts.data && !app.device.isMobile}" class="edit-pointer"> <div class="edit-pointer-item"></div> </div>',"",'class="editable-container"',function(t){}),riot.tag2("ui-button-plus",'<svg class="btn-svg btn-svg-plus" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 64 80" x="0px" y="0px"> <path class="btn-svg-color" d="M32 64C14.4 64 0 49.6 0 32S14.4 0 32 0s32 14.4 32 32-14.4 32-32 32zm0-60C16.6 4 4 16.6 4 32s12.6 28 28 28 28-12.6 28-28S47.4 4 32 4zm2 43V17c0-1.1-.9-2-2-2s-2 .9-2 2v30c0 1.1.9 2 2 2s2-.9 2-2zm15-15c0-1.1-.9-2-2-2H17c-1.1 0-2 .9-2 2s.9 2 2 2h30c1.1 0 2-.9 2-2z"></path> </svg> <span>{opts.content}</span>',"",'class="btn btn-{opts.size} btn-upper w100p text-center borderRadius-m"',function(t){}),riot.tag2("input-addon-edit",'<svg class="input-group-addon-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"> <path class="input-group-addon-svg-color" d="M 18 0 L 2.8125 15.1875 L 0 24 L 8.8125 21.1875 L 24 6 C 24 6 23.9 3.9 22 2 C 20.1 0.1 18 0 18 0 z M 3.90625 16.1875 C 3.90625 16.1875 5.1125 16.4875 6.3125 17.6875 C 7.6125 18.8875 7.8125 20 7.8125 20 L 7.84375 20.0625 L 4.28125 21.1875 L 2.78125 19.6875 L 3.90625 16.1875 z"></path> </svg>',"",'class="display-block"',function(t){}),riot.tag2("input-addon-remove",'<svg class="input-group-addon-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="input-group-addon-svg-color" d="M 7 2 C 4.2504839 2 2 4.2504839 2 7 L 2 43 C 2 45.749516 4.2504839 48 7 48 L 43 48 C 45.749516 48 48 45.749516 48 43 L 48 7 C 48 4.2504839 45.749516 2 43 2 L 7 2 z M 7 4 L 43 4 C 44.668484 4 46 5.3315161 46 7 L 46 43 C 46 44.668484 44.668484 46 43 46 L 7 46 C 5.3315161 46 4 44.668484 4 43 L 4 7 C 4 5.3315161 5.3315161 4 7 4 z M 15.71875 14.28125 L 14.28125 15.71875 L 23.5625 25 L 14.28125 34.28125 L 15.71875 35.71875 L 25 26.4375 L 34.28125 35.71875 L 35.71875 34.28125 L 26.4375 25 L 35.71875 15.71875 L 34.28125 14.28125 L 25 23.5625 L 15.71875 14.28125 z"></path> </svg>',"",'class="display-block"',function(t){}),riot.tag2("textarea-expand",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><g><path class="textarea-expand-color" d="M91,5H9C6.8,5,5,6.8,5,9v25c0,1.1,0.9,2,2,2s2-0.9,2-2V9h82v82H66c-1.1,0-2,0.9-2,2s0.9,2,2,2h25c2.2,0,4-1.8,4-4V9 C95,6.8,93.2,5,91,5z"></path><path class="textarea-expand-color" d="M77,25.8V41c0,1.1,0.9,2,2,2s2-0.9,2-2V21c0-0.1,0-0.3,0-0.4c0-0.1,0-0.1-0.1-0.2c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.1-0.2c0-0.1-0.1-0.1-0.1-0.2c-0.1-0.2-0.3-0.4-0.6-0.6c0,0-0.1-0.1-0.1-0.1c-0.1,0-0.1-0.1-0.2-0.1 c-0.1,0-0.1,0-0.2-0.1c-0.1,0-0.1,0-0.2-0.1c-0.2,0-0.4,0-0.6,0c-0.1,0-0.2,0-0.2,0h-20c-1.1,0-2,0.9-2,2s0.9,2,2,2h15.7L54,43.1 c-0.3-0.1-0.7-0.1-1-0.1H9c-2.2,0-4,1.8-4,4v44c0,2.2,1.8,4,4,4h44c2.2,0,4-1.8,4-4V47c0-0.4-0.1-0.7-0.1-1L77,25.8z M9,91V47h44 l0,44H9z"></path></g></svg>',"",'if="{!app.device.isPhone}" class="textarea-expand"',function(t){}),riot.tag2("ui-help",'<svg class="help__icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M61,57v15.5c0,2.9-2.5,5.2-4.6,5.2H29.9c-0.4,0-0.7,0.1-1,0.4l-5.6,5.1l0.8-3.7c0.1-0.4,0-0.9-0.3-1.2 c-0.3-0.3-0.7-0.5-1.2-0.5h-2.5c-3.4,0-5.9-2.2-5.9-5.2V55.7c0-2.9,2.3-5.2,5.2-5.2h7c-0.2-0.5-0.5-1-0.6-1.5 c-0.2-0.5-0.3-1-0.4-1.5h-5.9c-4.5,0-8.2,3.7-8.2,8.2v16.9c0,4.7,3.8,8.2,8.9,8.2h0.7l-1.3,6.5c-0.1,0.6,0.2,1.3,0.7,1.6 c0.2,0.1,0.5,0.2,0.7,0.2c0.4,0,0.7-0.1,1-0.4l8.5-7.9h26c4,0,7.6-3.8,7.6-8.2V57h-1.5H61z"></path><path d="M31.4,63.7c0.5-0.7,0.9-1.3,0.9-2.3c0-2.2-1.7-3.5-3.8-3.5c-1.1,0-2,0.4-2.7,1c-0.7,0.7-1,1.5-1,2.1c0,0.4,0.1,0.6,0.3,0.8 s0.5,0.3,0.8,0.3c0.3,0,0.6-0.1,0.8-0.3c0.1-0.1,0.3-0.4,0.3-0.6c0.1-0.4,0.2-0.6,0.5-0.9c0.3-0.3,0.6-0.4,1.1-0.4 c0.9,0,1.4,0.6,1.4,1.4c0,0.5-0.2,0.9-0.5,1.3l-1.3,1.7c-0.5,0.6-0.6,1.1-0.6,1.6c0,0.3,0.1,0.6,0.3,0.8c0.2,0.2,0.5,0.4,0.9,0.4 s0.7-0.1,0.9-0.3c0.2-0.2,0.3-0.4,0.4-0.7c0.1-0.4,0.2-0.6,0.5-1L31.4,63.7z"></path><circle cx="28.6" cy="69.5" r="1.4"></circle><path d="M40.8,63.7c0.5-0.7,0.9-1.3,0.9-2.3c0-2.2-1.7-3.5-3.8-3.5c-1.1,0-2,0.4-2.7,1c-0.7,0.7-1,1.5-1,2.1c0,0.4,0.1,0.6,0.3,0.8 s0.5,0.3,0.8,0.3c0.3,0,0.6-0.1,0.8-0.3c0.1-0.1,0.3-0.4,0.3-0.6c0.1-0.4,0.2-0.6,0.5-0.9c0.3-0.3,0.6-0.4,1.1-0.4 c0.9,0,1.4,0.6,1.4,1.4c0,0.5-0.2,0.9-0.5,1.3l-1.3,1.7C37,65,36.8,65.5,36.8,66c0,0.3,0.1,0.6,0.3,0.8c0.2,0.2,0.5,0.4,0.9,0.4 s0.7-0.1,0.9-0.3c0.2-0.2,0.3-0.4,0.4-0.7c0.1-0.4,0.2-0.6,0.5-1L40.8,63.7z"></path><circle cx="38" cy="69.5" r="1.4"></circle><circle cx="47.4" cy="69.5" r="1.4"></circle><path d="M50.2,63.7c0.5-0.7,0.9-1.3,0.9-2.3c0-2.2-1.7-3.5-3.8-3.5c-1.1,0-2,0.4-2.7,1c-0.7,0.7-1,1.5-1,2.1c0,0.4,0.1,0.6,0.3,0.8 s0.5,0.3,0.8,0.3c0.3,0,0.6-0.1,0.8-0.3c0.1-0.1,0.3-0.4,0.3-0.6c0.1-0.4,0.2-0.6,0.5-0.9c0.3-0.3,0.6-0.4,1.1-0.4 c0.9,0,1.4,0.6,1.4,1.4c0,0.5-0.2,0.9-0.5,1.3l-1.3,1.7c-0.5,0.6-0.6,1.1-0.6,1.6c0,0.3,0.1,0.6,0.3,0.8c0.2,0.2,0.5,0.4,0.9,0.4 s0.7-0.1,0.9-0.3c0.2-0.2,0.3-0.4,0.4-0.7c0.1-0.4,0.2-0.6,0.5-1L50.2,63.7z"></path><path d="M79.5,14.9H37.4c-5.1,0-9.3,4.2-9.3,9.3v20.5c0,0.9,0.1,1.8,0.4,2.7c0.2,0.5,0.4,1,0.6,1.5c0.3,0.5,0.6,1,0.9,1.5 c1.6,2.2,4,3.6,6.6,3.6h24.2h1.6h1.5h2.9l10,9.2c0.3,0.3,0.6,0.4,1,0.4c0.3,0,0.5-0.1,0.7-0.2c0.6-0.3,0.9-1,0.7-1.6L77.6,54h1.1 c5.7,0,10.1-4,10.1-9.3V24.2C88.8,19.1,84.6,14.9,79.5,14.9z M85.8,44.7c0,3.6-3,6.3-7.1,6.3h-2.9c-0.5,0-0.9,0.2-1.2,0.5 c-0.3,0.3-0.4,0.8-0.3,1.2l1,5.1l-7-6.5c-0.3-0.3-0.6-0.4-1-0.4h-4.7h-1.9h-2.5H36.6c-0.7,0-1.5-0.2-2.2-0.6 c-0.7-0.4-1.3-0.9-1.8-1.5c-0.4-0.4-0.7-1-0.9-1.5c-0.4-0.8-0.6-1.7-0.6-2.7V24.2c0-3.5,2.8-6.3,6.3-6.3h42.1c3.5,0,6.3,2.8,6.3,6.3 V44.7z"></path><path d="M77.6,25.5H39.2c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h38.3c0.3,0,0.5-0.2,0.5-0.5S77.9,25.5,77.6,25.5z"></path><path d="M77.6,29.5H39.2c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h38.3c0.3,0,0.5-0.2,0.5-0.5S77.9,29.5,77.6,29.5z"></path><path d="M77.6,33.5H39.2c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h38.3c0.3,0,0.5-0.2,0.5-0.5S77.9,33.5,77.6,33.5z"></path><path d="M60.9,37.5H39.2c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h21.7c0.3,0,0.5-0.2,0.5-0.5S61.2,37.5,60.9,37.5z"></path></svg> <div name="content" class="help__message"> <div name="text" class="help__message__content"></div> <div onclick="{toggle.open}" onupdate="none" class="button__close help__message__close" data-color="gray"></div> </div> <div name="screen" class="help__message__screen"> <div name="screenText" class="help__message__screen__content"></div> <icon-bubble></icon-bubble> </div> <div class="help__opener"> <button onclick="{toggle.open}" onupdate="none" class="help__opener__btn btn btn-l btn-white">Помощь</button> </div>',"",'class="help" data-active="{active}"',function(t){var e=this;e.active=!1,e.open=!1,e.on("mount",function(){e.scroll=new app.plugins.scroll.content(e.content),e.scroll.init(),$Editable.on("editable",function(t,o,s){if("text"==o&&(o=s),"showAnimated"==t&&o&&app.help&&app.help[o]){var a=app.help[o].text?app.help[o].text:"",i=app.help[o].screen?app.help[o].screen:"";a&&(e.text.innerHTML=a,e.screenText.innerHTML=i,e.scroll.refresh(),e.toggle.show())}else"hide"==t&&(e.active&&e.toggle.show(),e.open&&e.toggle.open())})}),e.toggle={show:function(){e.update({active:!e.active})},open:function(){e.open?($Editable.root.setAttribute("data-helper",!1),document.addEventListener("click",e.handleClickOutside)):($Editable.root.setAttribute("data-helper",!0),document.addEventListener("click",e.handleClickOutside)),e.open=!e.open}},e.handleClickOutside=function(t){e.root.contains(t.target)&&!e.screen.contains(t.target)||!e.open||e.toggle.open()}}),riot.tag2("ui-help-switch-visible",'<icon-arrow color="white" size="xl"></icon-arrow> <div class="help__for__switch__visible__text">Управление активностью секции</div>',"",'class="help__for__switch__visible" data-active="{active}"',function(t){var e=this,o=$$(e.root);e.notShow=["photo","name","text","salary","tags","social","hobby","visible","more"],e.active=!1,e.on("mount",function(){$Editable.on("editable",function(t){("showAnimated"===t&&e.notShow.indexOf($Editable.editable)===-1||"hide"===t&&e.active)&&e.toggle()})}),e.toggle=function(){if(!e.active){var t=$Editable.el.find(".section__editable__container#active"),s=t.offset();o.css({top:s.top-app.$dom.document.scrollTop()+$Editable.scroll.scrollTop+"px",left:s.left+t.width()+"px"})}e.update({active:!e.active})}}),riot.tag2("popup-likes",'<div onclick="{close}" onupdate="none" class="popup__close"></div> <div class="popup__inner pos-rel likes" data-gender="{$resume.commons.gender}"> <div class="popup__image overflow-visible"> <div class="likes__cover anim anim-group1 anim-scale"> <svg class="likes__cover__heart" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 18 20" version="1.1" x="0px" y="0px"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g><path d="M9,1.82234332 C8.019,0.70626703 6.516,0 4.95,0 C2.178,0 0,2.11008174 0,4.79564033 C0,8.09155313 3.06,10.7771117 7.695,14.8577657 L9,16 L10.305,14.8490463 C14.94,10.7771117 18,8.09155313 18,4.79564033 C18,2.11008174 15.822,0 13.05,0 C11.484,0 9.981,0.70626703 9,1.82234332 Z"></path></g></g></svg> <div if="{$resume.commons.photo}" class="likes__cover__photo" riot-style="background-image:url(\'{$resume.commons.photo}\')"></div> <div if="{$resume.config.likes.count && $resume.likes.length}" class="likes__cover__badge">{$resume.likes.length}</div> </div> </div> <div class="popup__content overflow-hidden"> <div class="popup__text anim anim-group1 anim-bt-ease">{$i18n(⁗resume.premium.template.If you liked my resume please supply Like⁗)}</div> <div class="anim anim-group1 anim-bt-ease"> <div onclick="{liked}" class="btn btn-xl2">{$i18n(⁗resume.premium.template.Like⁗)}</div> </div> </div> <div class="pos-centered flex-column-centered w100p pb-xs pointerEvents-none"> <svg name="checked" class="likes__checked w48 h48 mb-xs anim-group2 anim-scale" delay-show="xl" xmlns:x="http://ns.adobe.com/Extensibility/1.0/" xmlns:i="http://ns.adobe.com/AdobeIllustrator/10.0/" xmlns:graph="http://ns.adobe.com/Graphs/1.0/" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><switch><foreignobject requiredextensions="http://ns.adobe.com/AdobeIllustrator/10.0/" x="0" y="0" width="1" height="1"></foreignobject><g i:extraneous="self"><path d="M50.0000038,5.250001c-24.7548161,0-44.8225327,20.067749-44.8225327,44.8225327 s20.0677147,44.8225021,44.8225327,44.8225021c24.7546883,0,44.8225288-20.0677185,44.8225288-44.8225021 S74.7546921,5.250001,50.0000038,5.250001z M43.7936974,68.9786072L21.3821106,46.5665054l3.3547878-3.3547859 l19.0567989,19.0562859l30.3382759-30.3382778l3.3547897,3.3547878L43.7936974,68.9786072z"></path></g></switch></svg> <div class="anim-group2 anim-bt-soft" delay-show="s" data-duration="l">{$i18n(⁗resume.premium.template.Thanks for your vote, he will be counted⁗)}.</div> </div> </div>',"",'class="popup popup-m {isLiked ? \'showAnim-group2\' : \'showAnim-group1\'}" data-pos="bottom-right" data-active="{active}"',function(t){var e=this;e.isLiked=!1,e.liked=function(){e.isLiked=!0,app.demo||app.request("addResumeLike",{id:$resume._id},{loader:!1,notify:!1}),_.onEndTransition(e.checked,function(){$afterlag.xl(function(){e.hide()})})},e.show=function(){if(!e.active)return e.update({active:!0}),new Promise(function(t,o){e.resolve=t})},e.close=function(){e.hide()},e.hide=function(){e.active&&e.update({active:!1})}}),riot.tag2("resume-edit-finish",'<div class="logo"> <div class="logo__icon anim anim-scale-zoom" delay-show="s" duration-show="{app.device.isPhone ? \'m\' : \'l\'}" duration-hide="s"></div> </div> <div onclick="{success}" class="circle1"> <div class="anim anim-scale-zoom" delay-show="xs" duration-show="{app.device.isPhone ? \'m\' : \'l\'}" duration-hide="s"> <div class="circle circle-xl">{app.demo ? \'Создать свой аккаунт\' : \'Закончить редактирование?\'}</div> </div> </div> <div onclick="{hide}" onupdate="none" class="circle2"> <div class="anim anim-scale" delay-show="s" duration-show="{app.device.isPhone ? \'m\' : \'l\'}" duration-hide="s"> <div class="circle circle-l">{app.demo ? \'Продолжить редактирование\' : \'Еще нет, продолжить\'}</div> </div> </div> <div class="circle3" onclick="{preview}" onupdate="none"> <div class="anim anim-scale-zoom" delay-show="m" duration-show="{app.device.isPhone ? \'m\' : \'l\'}" duration-hide="s"> <div class="circle circle-l">{app.demo ? \'Перейти к мобильной версии\' : \'Предпросмотр резюме\'}</div> </div> </div> <div class="percentage__circuful"> <div class="anim anim-rl-soft" duration-show="{app.device.isPhone ? \'m\' : \'l\'}" duration-hide="s"> <div name="circuful" class="circuful"></div> </div> </div> <div class="share"> <div class="anim anim-bt-ease" delay-show="m" duration-show="{app.device.isPhone ? \'m\' : \'l\'}" duration-hide="s"> <div class="share__title">{app.demo ? \'Поделитесь c друзъями\' : \'Поделиться своим резюме\'}</div> <div class="share__items"> <div class="share__item" data-social="fb"> <icon-fb color="blue"></icon-fb> </div> <div class="share__item" data-social="vk"> <icon-vk color="blue"></icon-vk> </div> <div class="share__item" data-social="dk"> <icon-dk color="orange"></icon-dk> </div> <div class="share__item" data-social="gl"> <icon-gl color="red"></icon-gl> </div> <div class="share__item" data-social="tw"> <icon-tw color="blueLight"></icon-tw> </div> </div> </div> </div> <div class="text"> <div class="text__content anim anim-bt-ease" delay-show="xl">{app.demo ? \'Создайте своё резюме\' : \'Ваше резюме уже сохранено.\'}</div> </div>',"",'class="oScreen pos-fixed zIndex-10 {showAnim : animate}" data-color="white" data-open="{active}"',function(t){var e=this;e.active=!1,e.animate=!1,e.circuful=$$(e.circuful),e.on("mount",function(){e.share=new app.plugins.share(e.root,{buttons:".share__item",url:app.demo?app.domain()+"/premium/":app.domain()+"/resume/"+$store.resume.get("_id"),share:{title:function(){return app.demo?"Создать премиальное резюме нового формата":$store.resume.get("post")?$store.resume.get("post"):app.config.share.title}}})}),e.show=function(){e.active||(e.update({active:!0}),$afterlag.run(function(){e.update({animate:!0}),app.device.isPhone||e.chartRadial()}),e.trigger("show"))},e.preview=function(){return app.demo?void location.replace("/premium/workflow"):void("premium"==$store.resume.get("plan")?(app.request("setResume",{data:$store.resume.get()},{loader:!1,notify:!1}),e.hide(),window.open("/resume/"+$store.resume.get("_id"),"_blank")):(e.hide(),e.opts.preview&&$afterlag.run(function(){e.opts.preview.show({data:$store.resume.get(),template:$store.resume.get("template")})})))},e.chartRadial=function(){e.circuful.empty().circliful({animation:1,animationStep:6,foregroundBorderWidth:app.device.isMobile?9.5:12,backgroundBorderWidth:app.device.isMobile?4:3,percentageTextSize:28,percent:e.opts.percentage?e.opts.percentage.p:100,backgroundColor:"#e9eef2",foregroundColor:"rgba(104,251,152,.7)",fontColor:"#7f8c8d"})},e.hide=function(){e.active&&e.update({active:!1,animate:!1})},e.success=function(){return app.demo?void location.replace("/?signup&plan=premium"):void("premium"==$store.resume.get("plan")?$Loader.show().then(function(){$store.resume.select("update").set(moment().format()),app.request("setResume",{data:$store.resume.get()},{loader:!1}).then(function(){Store.set("resume",null),location.replace("/private/")},function(){$Loader.hide()})}):($resume.select("update").set(moment().format()),$store.data.select({_id:$resume.get("_id")}).set($resume.get()),app.request("setResume",{data:$resume.get()},{loader:!1}),e.hide(),_.onEndTransition(e.root,function(){Store.set("resume",null),moment.locale("ru"),$Sections.resume.edit.hide(),$Sections.resume.list.update()}),app.metrika.set("resume.create.success",!0)))}}),riot.tag2("resume-button-save","","",'onclick="{open}" onupdate="none"',function(t){var e=this;e.open=function(){e.opts.section&&e.opts.section.show()}}),riot.tag2("section-loader",'<div class="loader-spinner"></div>',"",'class="loader" data-show="{active}" data-color="{color}"',function(t){var e=this;e.default=function(){return{color:null,active:!0}},e.show=function(t){return e.update(_.extend(e.default(),t)),new Promise(function(t,o){_.onEndTransition(e.root,function(){return t()})})},e.hide=function(){e.update({active:!1})}}),riot.tag2("section-notify",'<div onclick="{hide}" onupdate="none" name="notify" class="notify {\'notify-\' + size}" data-color="{color}" riot-style="{width ? \'width:\' + width : null}">{text}</div>',"",'class="notify-wrapper" data-active="{active}" data-pos="{pos}"',function(t){var e=this;e.active=!1,e.interval=null,e.default=function(){return{active:!0,timeout:1.5,pos:"top-left",size:"m",color:"primary"}},e.on("before-mount",function(){var t=e.default();t.active=!1,_.extend(e,t)}),e.on("mount",function(){app.device.isPhone||setTimeout(function(){e.root.style.display="block"},20)}),e.show=function(t){if(!e.active)return e.active=!0,clearTimeout(e.interval),app.device.isPhone?(e.root.style.display="block",$afterlag.run(function(){e.update(_.extend(e.default(),t))})):e.update(_.extend(e.default(),t)),new Promise(function(t,o){_.onEndTransition(e.notify,function(){return e.autoHide(),t()})})},e.autoHide=function(){e.timeout!==!1&&(e.interval=setTimeout(function(){e.hide()},1e3*e.timeout))},e.hide=function(){clearTimeout(e.interval),e.update({active:!1}),app.device.isPhone&&_.onEndTransition(e.notify,function(){e.root.style.display="none"})}}),riot.tag2("text-edit",'<div name="content" class="oScreen__content"> <div class="pos-centered"> <div class="container"> <div class="row"> <div class="textEdit col-sm-22 col-md-20 col-lg-17 centered"> <div class="textEdit__buttons"> <div onclick="{hide}" onupdate="none" class="textEdit__button" data-item="close"></div> <div onclick="{save}" onupdate="none" class="textEdit__button" data-item="save"></div> </div> <textarea name="textarea" class="textarea textarea-xl" placeholder="{item.placeholder}">{item.cursor ? item.cursor.get() : item.value}</textarea> </div> </div> </div> </div> </div>',"",'class="oScreen zIndex-{opts.zindex || \'101\'} c-{opts.textcolor || \'white\'}" data-show="modal" data-color="{opts.color || \'blue\'}" data-open="{active}"',function(t){var e=this;e.active=!1,e.show=function(t){var t=t||{};e.textarea.value=t.cursor?t.cursor.get():t.value,e.update({active:!0,item:t})},e.save=function(){e.item.cursor&&e.item.cursor.set(e.textarea.value),e.item.callback&&e.item.callback(e.textarea.value),e.hide()},e.hide=function(){e.update({active:!1})}}),riot.tag2("section-tutorial",'<div class="tutorial__shape" name="shape" riot-style="{step.style}" data-figure="{step.figure}"></div> <div name="msgBox" class="tutorial__message__wrapper" riot-style="{message.style}"> <div name="msgElem" class="tutorial__message" data-position="{message.position}" data-active="false"> <p class="pos-tr p-m c-grayLight fontSize-m {display-none : !nav.steps}">Шаг {num} из {steps.get().length}</p> <div class="tutorial__message__title">{message.title ? message.title : \'Lorem ipsum dolor sit amet\'}</div> <p class="tutorial__message__text">{message.text ? message.text : \'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\'}</p> <div class="fontSize-0 nowrap {display-none : !nav.buttons}"> <button onclick="{nextStep}" onupdate="none" class="btn btn-{nav.buttons.success.size ?  nav.buttons.success.size : \'m\'} {nav.buttons.success.title ? \'btn-success\' : (endShow ? \'btn-success\' : \'btn-default-hover-success\')} {display-none : nav.buttons.success === false} mr-xs"> <svg if="{endShow && nav.buttons.success === true}" class="btn-svg btn-svg-repeat" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="fill-white" d="M 39.78125 5.96875 A 2.0002 2.0002 0 0 0 38 8 L 38 12.5625 C 34.722701 9.1373523 30.10346 7 25 7 C 15.082241 7 7 15.082241 7 25 A 2.0002 2.0002 0 1 0 11 25 C 11 17.243759 17.243759 11 25 11 C 28.816123 11 32.256876 12.535728 34.78125 15 L 31 15 A 2.0002 2.0002 0 1 0 31 19 L 40 19 L 42 19 L 42 17 L 42 8 A 2.0002 2.0002 0 0 0 39.96875 5.96875 A 2.0002 2.0002 0 0 0 39.78125 5.96875 z M 40.78125 22.96875 A 2.0002 2.0002 0 0 0 39 25 C 39 32.757363 32.756392 39 25 39 C 21.184399 39 17.742551 37.46305 15.21875 35 L 19 35 A 2.0002 2.0002 0 1 0 19 31 L 10 31 L 8 31 L 8 33 L 8 42 A 2.0002 2.0002 0 1 0 12 42 L 12 37.4375 C 15.276425 40.860887 19.895994 43 25 43 C 34.917608 43 43 34.918637 43 25 A 2.0002 2.0002 0 0 0 40.96875 22.96875 A 2.0002 2.0002 0 0 0 40.78125 22.96875 z"></path> </svg> {nav.buttons.success.title ? nav.buttons.success.title : (endShow ? \'Повторить\' : \'Далее\')} </button> <button onclick="{hide}" onupdate="none" class="btn btn-m btn-primary-hover {display-none : nav.buttons.cancel === false}">{endShow ? \'Перейти к интерфейсу\' : \'Закрыть помощник\'}</button> </div> </div> </div>',"",'class="tutorial" data-open="{active}" data-animate="{false : app.device.isMobile || options.animate === false}" active-zone="{step.activeZone}" style="display:none"',function(t){var e=this;e.active=!1,e.ready=!1,e.steps=new Baobab([]).root,e.on("before-mount",function(){e.reset()}),e.on("mount",function(){e.borderColor=$$(e.root).find(".tutorial__shape").css("backgroundColor")}),e.on("messageShow",function(){e.message.active||(e.message.active=!0,_.onEndTransition(e.shape,function(){e.cordsMsg(),e.step.target&&e.update(),e.msgElem.setAttribute("data-active",!0),_.onEndTransition(e.msgElem,function(){e.ready=!0})}))}),e.on("messageHide",function(){e.message.active=!1,e.msgElem.setAttribute("data-active",!1),_.onEndTransition(e.msgElem,function(){e.message.position=e.step.position,e.message.title=e.step.title,e.message.text=e.step.text,e.step.target&&e.update()})}),e.on("show",function(){e.update({active:!0})}),e.on("hide",function(){e.update({active:!1})}),e.reset=function(){e.start=!1,e.scope=null,e.message={active:!1,style:"clear:both",position:null,title:null,text:null},e.nav={steps:!0,buttons:{success:!0,cancel:!0}},e.cursor=null,e.target=null,e.beforeTarget=!1,e.num=0,e.step={activeZone:!1,style:"clear:both"},e.arrow=null,e.endShow=!1,e.options={animate:!0,keyboard:!0},e.actions.events?(_.each(e.actions.events,function(t){t.event&&t.elem&&t.elem.off(t.event)}),e.actions.events=[]):e.actions.events=[]},e.show=function(t,o,s){e.active||app.device.isPhone||(_.isArray(o)||app.tutorial[o]?(e.start=!0,e.steps.set(_.isArray(o)?o:app.tutorial[o]),e.scope=$$(t),s&&_.extend(e.options,s),e.active=!0,e.trigger("messageHide"),e.root.style.display="block",e.afterlag(function(){e.nextStep();var t=_.debounce(e.render,100);app.$dom.window.on("resize.tutorial",function(){t(!0)}),e.options.keyboard&&e.navigate.init()})):console.log("Not found tutorial: "+o))},e.nextStep=function(){_.isFunction(e.nav.buttons.success.callback)?e.nav.buttons.success.callback(e,e.target):e.changeStep("right")},e.prevStep=function(){e.num>1&&e.changeStep("left")},e.changeStep=function(t){return e.ready=!1,e.arrow=t,e.cursor?e.trigger("messageHide"):e.trigger("messageShow"),e.endShow&&e.step.actions&&e.step.actions.toggle&&e.step.actions.toggle(e.target),e.cursor&&e.cursor[t]()?(e.step.actions&&e.step.actions.toggle&&e.actions(e.step,e.target,!0),e.cursor=e.cursor[t]()):e.cursor=e.steps.down(),e.step=e.cursor.get().call(),e.target=e.scope.find(e.step.target),e.step.target&&!e.target.length?void e.changeStep("right"):((e.start||!e.start&&!e.beforeTarget)&&(e.message.position=e.step.position,e.message.title=e.step.title,e.message.text=e.step.text),e.beforeTarget=e.step.target,e.render(),void e.afterlag(function(){e.trigger("messageShow"),e.cursor[t]()||"right"!=t?e.endShow=!1:_.onEndTransition(e.msgElem,function(){e.endShow=!0,e.trigger("success")}),e.step.target&&!e.step.nav?e.update():e.start||(e.ready=!0),e.start||e.steps.get().length==e.num&&"right"==t?e.num=1:("right"==t&&e.num++,"left"==t&&e.num--),e.actions(e.step,e.target),e.start=!1}))},e.render=function(t){if(e.step.target){e.offset=e.target.offset(),e.step.offset&&(e.offset.top+=e.step.offset.top?e.step.offset.top:0,e.offset.left+=e.step.offset.left?e.step.offset.left:0);var o=e.target.data("width")||e.step.width,s=e.target.data("height")||e.step.height;e.step.centered&&(s&&(e.offset.top-=(parseInt(s)-e.target.outerHeight())/2),o&&(e.offset.left-=(parseInt(o)-e.target.outerWidth())/2));var a=e.target.data("zoom")||e.step.zoom,i=e.target.data("padding")||e.step.padding,n=o?parseInt(o):i?e.target.outerWidth()+2*parseInt(i):e.target.outerWidth(),c=s?parseInt(s):i?e.target.outerHeight()+2*parseInt(i):e.target.outerHeight(),l=a?parseFloat(a):1,p=150,r=p/2,u=(i?e.offset.left-parseInt(i):e.offset.left)+n/2,d=(i?e.offset.top-parseInt(i):e.offset.top)+c/2,v=u-r,g=d-r,m=n/p*l,h=c/n*p*l,f=Math.ceil(5/m),C=5*f,w=1e4+20/m,b=null;if("square"==e.step.figure)g=d-h/2,b="background:none; -webkit-transform: translateX("+v+"px) translateY("+g+"px) translateZ(0) scale("+m+"); transform: translateX("+v+"px) translateY("+g+"px) translateZ(0) scale("+m+"); width: "+p+"px; height: "+h+"px; box-shadow: inset 0 0 0 "+f+"px "+e.borderColor+", inset 0 0 "+C+"px rgba(0,0,0,0.4); border-radius: "+w+"px";else if("circle"==e.step.figure){var x=Math.sqrt(2)*Math.max(n,c)/2,_=2*x,k=_/p*l,f=Math.ceil(5/k),C=5*f;b="background:none; -webkit-transform: translateX("+v+"px) translateY("+g+"px) translateZ(0) scale("+k+"); transform: translateX("+v+"px) translateY("+g+"px) translateZ(0) scale("+k+"); width: "+p+"px; height: "+p+"px; box-shadow: inset 0 0 0 "+f+"px "+e.borderColor+", inset 0 0 "+C+"px rgba(0,0,0,0.4); border-radius: 50%"}e.navigate.render(),e.step.style=b,e.targetWidth=n,e.targetHeight=c,t===!0&&e.update()}},e.cordsMsg=function(){var t={},o=e.offset.top;o+e.msgBox.scrollHeight>app.sizes.height-40&&(o=e.offset.top+(app.sizes.height-40)-(o+e.msgBox.scrollHeight)),o<40&&(o=40),t.top=o,"right"==e.step.position?(t.left=e.offset.left+e.targetWidth,t=e.offsetMsg(t),e.message.style="top:"+t.top+"px; left:"+t.left+"px"):"left"==e.step.position||"up"==e.step.position?(t.left=e.offset.left,t=e.offsetMsg(t),e.message.style="top:"+t.top+"px; left:"+t.left+"px"):"down"==e.step.position&&(t.top=e.offset.top+e.targetHeight,t.left=e.offset.left,t=e.offsetMsg(t),e.message.style="top:"+t.top+"px; left:"+t.left+"px")},e.offsetMsg=function(t){return e.step.message&&e.step.message.offset&&(e.step.message.offset.top&&(t.top+=e.step.message.offset.top),e.step.message.offset.left&&(t.left+=e.step.message.offset.left)),t},e.actions=function(t,o,s){if(t.actions){if(t.actions.toggle&&e.afterlag(function(){t.actions.toggle(o,s)},{delay:s?0:650,iterations:s?0:5}),t.actions.click){var a="self"==t.actions.click.elem?o:o.find(t.actions.click.elem);a&&_.isFunction(t.actions.click.callback)&&(a.one("click.tutorial",function(){t.actions.click.callback(e,o)}),e.actions.events.push({event:"click.tutorial",elem:a}))}t.actions.callback&&t.actions.callback(e,o,e.arrow)}},e.navigate={init:function(){app.$dom.document.on("keydown.tutorial",function(t){e.ready&&(t.which!=KEY.RIGHT||e.endShow?t.which==KEY.LEFT?e.prevStep():t.which==KEY.ESC&&e.hide():e.nextStep())})},render:function(){e.nav={steps:!0,buttons:{success:!0,cancel:!0}},e.step.nav?_.extend(e.nav,e.step.nav):e.step.nav===!1&&(e.nav={steps:!1,buttons:!1})},destroy:function(){app.$dom.document.off("keydown.tutorial")}},e.hide=function(){e.endShow||e.trigger("close"),e.update({active:!1}),_.onEndTransition(e.root,function(){e.reset(),e.update(),e.trigger("hideAfterAnimate"),e.root.style.display="none"}),e.afterlag(function(){e.actions(e.step,e.target,!0)}),e.navigate.destroy(),e.trigger("hide"),app.$dom.window.off("resize.tutorial")},e.afterlag=function(t,e){var o={delay:0,iterations:1};e&&_.extend(o,e);var s=new Afterlag(o);s.run(t)}}),riot.tag2("ui-slider",'<span if="{opts.title}" class="input-title">{opts.title}</span> <input class="display-none" name="slider_input" type="range" value="{opts.value}" min="{opts.min}" max="{opts.max}" step="{opts.step}"> <input class="input input-{opts.size ? opts.size : \'m\'}" oninput="{!opts.phone && app.device.isPhone && onInput}" onblur="{onBlur}" name="slider_data" type="{app.device.isPhone && _.isNumber(opts.value) ? \'number\' : \'text\'}" autocomplete="off" value="{opts.value}" __readonly="{!app.device.isPhone && app.device.isMobile}"> <div if="{opts.ed && !app.device.isPhone}" class="pos-tr fontSize-20 fontWeight-5 fontFamily-roboto c-white flex-centered w40 h100p">{opts.ed}</div>',"",'class="display-block pos-rel"',function(t){var e=this;e.input=e.slider_data,e.on("before-mount",function(){e.opts.update&&e.opts.cursor&&(e.opts.value=e.opts.cursor.get(e.opts.update))}),e.on("mount",function(){!e.opts.phone&&app.device.isPhone||(e.slider=$$(e.slider_input),e.value=e.opts.value,setTimeout(function(){e.slider.rangeslider({polyfill:!1,orientation:"horizontal",rangeClass:"rangeslider"+("undefined"!=typeof t.small?" small":"")+(t.color?" rangeslider-color-"+t.color:""),horizontalClass:"rangeslider--horizontal",fillClass:"rangeslider-track",handleClass:"rangeslider-handle",onSlide:function(t,o){e.input.value=o,e.value=o,e.fnCommit(o)}})},5),e.slider.val(e.value),e.commit=e.opts.commit?e.opts.commit:null)}),e.change=function(t){e.changed=!0,e.slider?e.slider.val(t).change():e.input.value=t,e.value=t,e.fnCommit(t),e.changed=!1},e.onInput=function(t){e.fnCommit(t.target.value)},e.onBlur=function(t){if(t.preventUpdate=!0,e.opts.phone||!app.device.isPhone){var o=t.target.value;e.value=o,e.fnCommit(o)}},e.fnCommit=function(t){e.commit===!0||"true"==e.commit?e.parent.update():_.isFunction(e.commit)?e.commit.call(this,t,e.opts.i):e.commit&&e.parent[e.commit]&&e.parent[e.commit](t,e.opts.i),e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,t)},e.refresh=function(t){_.isEmpty(t)||e.slider.attr(t).rangeslider("update",!0)},e.on("unmount",function(){e.slider&&e.slider.rangeslider("destroy")})}),riot.tag2("ui-switcher",'<div class="switch"> <input class="switch-input" type="checkbox" checked=""> <span class="switch-left">ON</span> <label class="switch-label">&nbsp;</label> <span class="switch-right">OFF</span> </div>',"",'onclick="{onClick}" onupdate="{opts.onupdate ? opts.onupdate : ⁗self⁗}" class="switcher {small : typeof opts.small !== \'undefined\'} {disabled : typeof opts.disabled !== \'undefined\'} {opts.color ? opts.color : null}" active="{value}"',function(t){
var e=this,o=$$(e.root),s=!1;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.opts.update||(void 0===e.opts.value?e.opts.value=e.value=!1:e.value=e.opts.value)}),e.on("mount",function(){o.on("swipeLeft swipeRight",function(t){t.stopPropagation(),o.trigger("click")})}),e.on("update",function(){s||(!_.isBoolean(e.opts.value)&&e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):_.isBoolean(e.opts.value)&&e.opts.value!==e.value&&(e.value=e.opts.value))}),e.onClick=function(){s=!0,e.value=!e.value,e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,e.value),e.opts.commit!==!0&&"true"!=e.opts.commit||e.parent.update(),_.isFunction(e.opts.commit)?e.opts.commit.call(this,e.value,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](e.value,e.opts.i),setTimeout(function(){s=!1},5)},e.on("unmount",function(){o.off()})}),riot.tag2("ui-checkbox",'<label onclick="{onClick}" onupdate="{opts.onupdate ? opts.onupdate : ⁗self⁗}" class="checkbox {small : typeof opts.small !== \'undefined\'}" data-color="{opts.theme}"> <input type="checkbox" __checked="{value}"> <span class="checkbox-control"></span> <span class="checkbox-text fontSize-{opts.size ? opts.size : \'m\'} {opts.color ? \'c-\' + opts.color : null}">{opts.title}</span> </label>',"","",function(t){var e=this,o=!1;e.on("before-mount",function(){if(e.opts.update&&e.opts.cursor)if(e.opts.group){var t=e.opts.cursor.get(e.opts.update);e.value=t==e.opts.value}else e.value=e.opts.cursor.get(e.opts.update);else e.opts.update||(void 0===e.opts.value?e.opts.value=e.value=!1:e.value=e.opts.value)}),e.on("update",function(){o||(!e.opts.group&&!_.isBoolean(e.opts.value)&&e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):_.isBoolean(e.opts.value)&&e.opts.value!==e.value&&(e.value=e.opts.value))}),e.onClick=function(){o=!0,e.opts.group?e.value||(_.each(e.parent.tags,function(t,o){"ui-checkbox"==o&&_.each(t,function(t){t.opts.group==e.opts.group&&t.update({value:!1})})}),e.value=!e.value):e.value=!e.value,e.opts.update&&e.opts.cursor&&(e.opts.group?e.opts.cursor.set(e.opts.update,e.opts.value):e.opts.cursor.set(e.opts.update,e.value)),e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,e.value,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](e.value,e.opts.i),setTimeout(function(){o=!1},5)}}),riot.tag2("ui-input",'<input name="input" oninput="{onInput}" onkeydown="{opts.autosuggest ? autosuggest.navigate : false}" onblur="{opts.dataonlysuggest ? autosuggest.blur : false}" onfocus="{opts.dataonlysuggest ? autosuggest.focus : false}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" class="input input-{opts.size ? opts.size : \'m\'} {opts.color} {opts.align ? \'text-\' + opts.align : \'\'} {input-rounded : opts.rounded}" value="{value}" placeholder="{opts.placeholder}" __disabled="{typeof opts.disabled !== \'undefined\'}" type="text" autocomplete="off" spellcheck="false"> <div if="{opts.autosuggest}" class="input-autosuggest-items"><div onclick="{autosuggest.select}" each="{item in autosuggest.items}" no-reorder class="input-autosuggest-item" data-active="{item.active}"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div>',"","class=\"{opts.autosuggestsize ? 'input-autosuggest input-autosuggest-' + opts.autosuggestsize : 'input-autosuggest input-autosuggest-m'}\" data-errballoon=\"{error || false}\"",function(t){var e=this;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.value?e.opts.cursor.get(e.opts.update,e.opts.value):e.opts.cursor.get(e.opts.update):e.value=e.opts.value,e.opts.autosuggest&&(e.suggest=_.debounce(e.autosuggest.request,app.device.isMobile?300:150),e.opts.autoselect===!1&&(e.autosuggest.autoselect=!1),e.opts.update&&e.opts.cursor&&e.opts.value&&(e.autosuggestgetobject=!0))}),e.on("update",function(){e.opts.value&&e.opts.onupdate||!e.opts.update||!e.opts.cursor?e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value,e.input.value=e.value||""):e.opts.dataonlysuggest||(e.value=e.opts.value?e.opts.cursor.get(e.opts.update,e.opts.value):e.opts.cursor.get(e.opts.update),e.input.value=e.value||"")}),e.onInput=function(t){var o=t.target.value;e.opts.dataonlysuggest||e.onUpdate(this,o),e.opts.autosuggest&&o&&(e.autosuggest.el=t.target,e.suggest(e.opts.autosuggest,o),document.removeEventListener("click",e.autosuggest.handleClickOutside),document.addEventListener("click",e.autosuggest.handleClickOutside))},e.onUpdate=function(t,o){e.opts.update&&e.opts.cursor&&(e.opts.value?_.isObject(o)?(e.opts.cursor.select(e.opts.update).set(o),o=o[e.opts.value]):e.opts.cursor.select(e.opts.update).set(e.opts.value,o):e.opts.cursor.set(e.opts.update,o)),e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(t,o,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](o,e.opts.i),e.value=o},e.autosuggest={el:null,value:"",items:[],autoselect:{interval:null,timeout:300},select:function(){e.autosuggest.update([],this.item)},blur:function(t){t.preventUpdate=!0,setTimeout(function(){e.value&&e.value!=_.clean(e.input.value)?e.input.value=e.value:e.value||(e.update({error:e.opts.onerror||"Введите и выберите из списка"}),e.input.value="")},100)},focus:function(t){t.preventUpdate=!0,e.error&&e.update({error:!1})},request:function(t,o){o.length>1?app.request(t,o,{notify:!1,loader:!1}).then(function(t){if(t.items){if("1"==t.items.length){if(o==t.items[0].text)return void(e.autosuggest.items=[]);e.autosuggest.autoselect&&(e.autosuggest.autoselect.interval=setTimeout(function(){e.autosuggest.select.call({item:t.items[0]})},e.autosuggest.autoselect.timeout))}e.autosuggest.update(t.items)}}):e.autosuggest.update([])},update:function(t,o){if(e.autosuggest.items=t,o)if(e.update({id:o.id,value:o.text}),e.trigger("autocomplete.select",o),e.opts.autosuggesthandler)e.onUpdate(this,e.opts.autosuggesthandler(o));else if(e.autosuggestgetobject){var s={};s.id=o.id,s[e.opts.value]=o.text,e.onUpdate(this,s)}else e.onUpdate(this,o.text);else e.update()},navigate:function(t){if(t.preventUpdate=!0,e.autosuggest.autoselect&&clearTimeout(e.autosuggest.autoselect.interval),[13,38,40].indexOf(t.keyCode)>-1&&_.isEmpty(e.autosuggest.items))return t.preventDefault(),!0;var o=e.autosuggest.items,s=o.length;if(s>0&&[13,38,40].indexOf(t.keyCode)>-1){t.preventDefault();for(var a=null,i=0;i<s;i++){var n=o[i];if(n.active){a=i;break}}null!=a&&(o[a].active=!1),38==t.keyCode?null==a||0==a?o[s-1].active=!0:o[a-1].active=!0:40==t.keyCode?null==a||a==s-1?o[0].active=!0:o[a+1].active=!0:13==t.keyCode&&null!=a&&e.autosuggest.select.call({item:o[a]}),e.update()}return!0},handleClickOutside:function(t){e.autosuggest.el&&!e.autosuggest.el.contains(t.target)&&setTimeout(function(){e.autosuggest.update([])},20),document.removeEventListener("click",e.autosuggest.handleClickOutside)}}}),riot.tag2("ui-input-phone",'<div class="flag-container"> <div onclick="{show}" class="selected-flag" title="{item.title}: +{item.code}"> <div class="iti-flag {item._id}"></div> <div class="arrow"></div> </div> <select if="{app.device.isMobile}" onchange="{onChange}"> <option each="{item, i in opts.items}" no-reorder value="{item._id}" __selected="{value.id == item._id || !value.id && item._id == ⁗ru⁗}">{item.title.replace(/\\s\\(.+\\)/g, ⁗⁗)} (+{item.code})</option> </select> <ul if="{!app.device.isMobile}" name="select" class="country-list dropup" data-hidden="{!showList}"> <virtual each="{item in preferred()}" no-reorder> <li onclick="{onSelect}" class="country"> <div class="flag"> <div class="iti-flag {item._id}"></div> </div> <span class="country-name">{item.title}</span> <span class="dial-code">+{item.code}</span> </li> </virtual> <div class="divider"></div> <virtual each="{item in opts.items}" no-reorder> <li onclick="{onSelect}" class="country"> <div class="flag"> <div class="iti-flag {item._id}"></div> </div> <span class="country-name">{item.title}</span> <span class="dial-code">+{item.code}</span> </li> </virtual> </ul> </div> <input name="input" oninput="{onInput}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" class="input input-{opts.size ? opts.size : \'m\'} {opts.color} {opts.align ? \'text-\' + opts.align : \'\'} {input-rounded : opts.rounded}" value="{value.number}" placeholder="{opts.placeholder}" __disabled="{typeof opts.disabled !== \'undefined\'}" type="text" autocomplete="off" spellcheck="false">',"","class=\"input-phone input-phone-{opts.size ? opts.size : 'm'} {input-phone-rounded : opts.rounded}\"",function(t){var e=this,o=null;e.showList=!1,e.item=null,e.value={id:null,code:null,number:""},e.on("before-mount",function(){if(e.opts.update&&e.opts.cursor){var t=e.opts.cursor.get(e.opts.update);t&&(e.value=t)}else e.value.number=e.opts.value;!e.value.id&&e.opts.items?(e.item=_.findWhere(e.preferred(),{_id:"ru"}),e.value.id=e.item.id,e.value.code=e.item.code,e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,e.value)):e.value&&e.value.id&&e.opts.items&&(e.item=_.findWhere(e.opts.items,{_id:e.value.id})),e.disable=e.opts.disable}),e.on("mount",function(){!window.$$||window.$$&&!$$.fn.mask||(o=$$(e.input),o.mask("(000) 000-0000"))}),e.on("update",function(){e.opts.value&&e.opts.onupdate||!e.opts.update||!e.opts.cursor?e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value):e.value=e.opts.cursor.get(e.opts.update),_.isBoolean(e.opts.disable)&&e.opts.disable!==e.disable&&(e.disable=e.opts.disable)}),e.show=function(){e.showList=!e.showList,e.showList?setTimeout(function(){document.addEventListener("click",e.handleClickOutside)},0):document.removeEventListener("click",e.handleClickOutside)},e.onInput=function(t){e.value.number=t.target.value,e.onUpdate(e.value)},e.onSelect=function(t){t.preventUpdate=!0,e.item=this.item,e.value.id=e.item._id,e.value.code=e.item.code,e.onUpdate(e.value),e.hide()},e.onChange=function(t){e.item=_.findWhere(e.opts.items,{_id:t.target.value}),e.value.id=e.item._id,e.value.code=e.item.code,e.onUpdate(e.value)},e.onUpdate=function(t){e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,t),e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,t,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](t,e.opts.i)},e.preferred=function(){return _.filter(e.opts.items,function(t){return"ru"===t._id||"ua"===t._id||"kz"===t._id||"by"===t._id})},e.handleClickOutside=function(t){e.select.contains(t.target)||e.hide()},e.hide=function(){e.update({showList:!1}),document.removeEventListener("click",e.handleClickOutside)},e.on("unmount",function(){o&&o.mask&&o.unmask()})}),riot.tag2("ui-textarea",'<textarea name="textarea" oninput="{onInput}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" class="textarea textarea-{opts.size ? opts.size : \'m\'}" placeholder="{opts.placeholder}" __disabled="{typeof opts.disabled !== \'undefined\'}" autocomplete="off" spellcheck="false">{value}</textarea>',"","",function(t){var e=this;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.value=e.opts.value}),e.on("update",function(){e.opts.value&&e.opts.onupdate||!e.opts.update||!e.opts.cursor?e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value,e.textarea.value=e.value):(e.value=e.opts.cursor.get(e.opts.update),e.textarea.value=e.value)}),e.onInput=function(t){var o=t.target.value;e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,o),e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,o,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](o,e.opts.i),e.value=o}}),riot.tag2("ui-select",'<select name="select" onchange="{onChange}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" __disabled="{disable}"> <option each="{item, i in opts.items}" no-reorder __selected="{item._id == value || item == value || (value === null && i == 0)}" value="{item._id ? item._id : item}">{item.title ? item.title : item}</option> </select>',"","class=\"select select-{opts.size ? opts.size : 'm'} {opts.color} {short : typeof opts.short !== 'undefined'}\"",function(t){var e=this;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.value=e.opts.value,!e.value&&e.opts.items&&e.opts.items[0]&&(e.value=e.opts.items[0]._id||e.opts.items[0],e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,e.value)),e.disable=e.opts.disable}),e.on("update",function(){e.opts.value&&e.opts.onupdate||!e.opts.update||!e.opts.cursor?e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value,null!==e.value&&void 0!==e.value&&(e.select.value=e.value)):(e.value=e.opts.cursor.get(e.opts.update),null!==e.value&&void 0!==e.value&&(e.select.value=e.value)),_.isBoolean(e.opts.disable)&&e.opts.disable!==e.disable&&(e.disable=e.opts.disable)}),e.onChange=function(t){var o=t.target.value;e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,o),e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,o,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](o,e.opts.i)}}),riot.tag2("icon-dk",'<svg class="icon-dk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid" viewbox="0 0 11 19"> <path d="M10.718,11.496 C10.151,12.099 9.468,12.536 8.709,12.841 C7.992,13.130 7.206,13.273 6.429,13.370 C6.546,13.503 6.601,13.568 6.675,13.645 C7.731,14.744 8.791,15.839 9.844,16.942 C10.202,17.318 10.277,17.783 10.079,18.220 C9.864,18.698 9.380,19.012 8.906,18.978 C8.606,18.957 8.372,18.802 8.164,18.586 C7.367,17.754 6.555,16.938 5.775,16.092 C5.548,15.846 5.438,15.892 5.238,16.107 C4.436,16.961 3.622,17.804 2.802,18.641 C2.434,19.017 1.996,19.084 1.569,18.870 C1.116,18.642 0.827,18.163 0.849,17.680 C0.865,17.353 1.020,17.103 1.236,16.881 C2.281,15.800 3.323,14.715 4.365,13.633 C4.434,13.560 4.499,13.484 4.599,13.372 C3.178,13.218 1.896,12.856 0.798,11.967 C0.662,11.856 0.522,11.750 0.397,11.625 C-0.083,11.148 -0.131,10.600 0.249,10.036 C0.574,9.552 1.120,9.423 1.687,9.701 C1.797,9.754 1.902,9.821 2.002,9.893 C4.047,11.350 6.856,11.390 8.909,9.960 C9.113,9.798 9.330,9.666 9.582,9.599 C10.072,9.469 10.529,9.655 10.792,10.099 C11.092,10.607 11.088,11.101 10.718,11.496 ZM5.465,9.606 C2.929,9.597 0.849,7.418 0.864,4.786 C0.879,2.124 2.960,-0.020 5.521,-0.013 C8.087,-0.006 10.147,2.169 10.134,4.859 C10.121,7.487 8.027,9.615 5.465,9.606 ZM5.502,2.443 C4.233,2.442 3.220,3.501 3.230,4.820 C3.239,6.123 4.252,7.156 5.514,7.151 C6.772,7.146 7.774,6.099 7.770,4.792 C7.765,3.486 6.761,2.444 5.502,2.443 Z"></path> </svg>',"",'class="icon"',function(t){}),riot.tag2("icon-el",'<svg class="icon-el {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M47.042,36.749h-1.528c-0.164,0-0.317,0.08-0.41,0.214c-0.995,1.428-2.178,2.786-3.517,4.037 c-1.336,1.251-2.834,2.355-4.454,3.285c-1.617,0.926-3.355,1.658-5.167,2.177c-1.809,0.516-3.729,0.777-5.705,0.777 c-2.982,0-5.852-0.481-8.53-1.433c-2.666-0.945-5.042-2.373-7.064-4.244c-2.02-1.868-3.643-4.223-4.825-6.999 c-1.185-2.778-1.786-6.051-1.786-9.729c0-3.063,0.567-5.958,1.687-8.604c1.118-2.646,2.69-4.994,4.673-6.978 c1.98-1.98,4.351-3.563,7.045-4.706c2.691-1.141,5.652-1.72,8.8-1.72c2.803,0,5.447,0.447,7.861,1.33 c2.405,0.881,4.505,2.132,6.242,3.717c1.731,1.583,3.109,3.515,4.095,5.742c0.985,2.228,1.484,4.706,1.484,7.366 c0,2.358-0.412,4.586-1.226,6.62c-0.818,2.046-1.853,3.832-3.075,5.311c-1.217,1.474-2.568,2.653-4.017,3.507 c-1.417,0.834-2.784,1.257-4.062,1.257c-0.761,0-1.322-0.149-1.667-0.443c-0.35-0.297-0.554-0.694-0.625-1.216 c-0.08-0.575-0.017-1.27,0.188-2.064c0.214-0.835,0.52-1.74,0.912-2.699l7.369-19.12c0.059-0.153,0.039-0.327-0.055-0.463 s-0.248-0.217-0.412-0.217h-1.395c-0.21,0-0.398,0.132-0.47,0.329l-1.212,3.333c-0.681-1.386-1.745-2.514-3.175-3.36 c-1.754-1.038-3.761-1.564-5.964-1.564c-2.43,0-4.686,0.641-6.705,1.903c-1.995,1.247-3.718,2.866-5.12,4.812 c-1.395,1.935-2.49,4.067-3.255,6.34c-0.766,2.273-1.155,4.505-1.155,6.632c0,1.386,0.246,2.711,0.732,3.937s1.156,2.306,1.99,3.208 c0.838,0.909,1.853,1.641,3.013,2.174c2.545,1.171,5.643,1.001,8.703-0.048c1.36-0.465,2.603-1.314,3.708-2.531 c0.098,0.803,0.439,1.499,1.021,2.08c0.868,0.868,2.025,1.308,3.441,1.308c1.674,0,3.422-0.514,5.194-1.525 c1.749-0.999,3.359-2.378,4.784-4.099c1.419-1.712,2.597-3.734,3.499-6.011c0.905-2.282,1.363-4.768,1.363-7.388 c0-3.109-0.585-5.972-1.738-8.506c-1.152-2.531-2.746-4.71-4.737-6.474c-1.988-1.761-4.344-3.134-7.002-4.081 C32.139,0.979,29.268,0.5,26.261,0.5c-3.325,0-6.516,0.616-9.484,1.83c-2.965,1.213-5.598,2.923-7.827,5.082 c-2.227,2.16-4.006,4.749-5.289,7.696c-1.283,2.948-1.934,6.221-1.934,9.727c0,4.256,0.719,7.989,2.137,11.096 c1.418,3.104,3.303,5.697,5.603,7.704c2.299,2.005,4.949,3.502,7.876,4.447c2.911,0.941,5.911,1.418,8.917,1.418 c2.07,0,4.159-0.285,6.207-0.847c2.04-0.561,4.009-1.368,5.855-2.403c1.838-1.031,3.568-2.307,5.144-3.79 c1.576-1.487,2.923-3.154,4.003-4.954c0.093-0.154,0.095-0.347,0.006-0.503C47.388,36.846,47.222,36.749,47.042,36.749z M35.03,17.971l-4.653,12.059c-0.601,1.545-1.302,2.831-2.084,3.823c-0.784,0.994-1.605,1.785-2.442,2.352 c-0.833,0.562-1.705,0.95-2.59,1.155c-2.05,0.479-4.019,0.427-5.63-0.271c-0.907-0.392-1.7-0.944-2.357-1.644 c-0.661-0.701-1.186-1.53-1.559-2.465c-0.373-0.932-0.562-1.975-0.562-3.102c0-1.799,0.338-3.733,1.004-5.751 c0.667-2.023,1.616-3.924,2.822-5.646c1.199-1.713,2.663-3.155,4.35-4.287c1.658-1.111,3.496-1.675,5.465-1.675 c0.801,0,1.646,0.097,2.514,0.287c0.854,0.188,1.679,0.506,2.45,0.942c0.761,0.433,1.44,1.008,2.019,1.709 C34.319,16.119,34.74,16.964,35.03,17.971z"></path> </svg>',"",'class="icon"',function(t){}),riot.tag2("icon-fb",'<svg class="icon-fb {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid" viewbox="0 0 8 19"> <path d="M7.692,-0.007 L6.740,-0.007 C4.093,-0.007 1.939,2.319 1.939,5.178 L1.939,7.366 L0.312,7.366 C0.145,7.366 0.009,7.512 0.009,7.693 L0.009,10.314 C0.009,10.495 0.145,10.642 0.312,10.642 L1.939,10.642 L1.939,18.671 C1.939,18.852 2.075,18.998 2.243,18.998 L4.670,18.998 C4.837,18.998 4.973,18.852 4.973,18.671 L4.973,10.642 L7.388,10.642 C7.555,10.642 7.691,10.495 7.691,10.314 L7.691,7.693 C7.691,7.512 7.555,7.366 7.388,7.366 L4.973,7.366 L4.973,5.178 C4.973,4.126 5.766,3.270 6.740,3.270 L7.692,3.270 C7.860,3.270 7.995,3.123 7.995,2.942 L7.995,0.321 C7.995,0.140 7.860,-0.007 7.692,-0.007 Z"></path> </svg>',"",'class="icon"',function(t){}),riot.tag2("icon-gl",'<svg class="icon-gl {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" enable-background="new 0 0 128 128" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd"></rect><path clip-rule="evenodd" d="M40.654,55.935v16.13 c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194 s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877 c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727 c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823 H128V56.742H113.912z" fill-rule="evenodd"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-tg",'<svg class="icon-tg {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 50 50" xml:space="preserve"><path d="M19.1,25.6l12.6-7.7c0.2-0.1,0.5,0.2,0.3,0.3l-10.4,9.6c-0.4,0.3-0.6,0.8-0.7,1.3l-0.4,2.6c0,0.3-0.5,0.4-0.6,0L18.5,27C18.4,26.5,18.6,25.9,19.1,25.6z M10.5,24.5l6.4,2.4l2.5,8c0.2,0.5,0.8,0.7,1.2,0.4l3.6-2.9c0.4-0.3,0.9-0.3,1.3,0L32,37c0.4,0.3,1.1,0.1,1.2-0.5l4.7-22.7c0.1-0.6-0.5-1.1-1-0.9L10.5,23.1C9.9,23.3,9.9,24.3,10.5,24.5z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-tw",'<svg class="icon-tw {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid" viewbox="0 0 17.69 14.31"> <path d="M17.627,2.194 C17.561,2.137 17.464,2.128 17.391,2.177 C17.066,2.392 16.629,2.501 16.265,2.557 C16.700,2.202 17.207,1.646 17.204,0.929 C17.203,0.857 17.163,0.790 17.098,0.758 C17.034,0.725 16.956,0.732 16.898,0.775 C16.239,1.254 15.294,1.507 14.948,1.587 C14.703,1.186 13.862,0.004 12.408,0.004 C12.326,0.004 12.243,0.008 12.161,0.016 C10.354,0.182 9.478,1.237 9.062,2.093 C8.799,2.634 8.683,3.158 8.633,3.504 C8.346,3.254 7.846,2.874 7.102,2.495 C5.966,1.914 4.013,1.223 1.168,1.223 C0.892,1.223 0.607,1.230 0.324,1.243 C0.259,1.245 0.200,1.281 0.167,1.336 C0.134,1.391 0.131,1.460 0.159,1.517 C0.766,2.777 2.073,3.517 2.923,3.883 C2.456,4.006 1.958,4.247 1.802,4.626 C1.722,4.819 1.702,5.122 2.055,5.470 C2.573,5.981 3.183,6.292 3.719,6.481 C3.299,6.556 2.963,6.684 2.854,6.897 C2.813,6.979 2.766,7.145 2.915,7.350 C3.630,8.331 5.343,8.713 6.103,8.776 C6.007,9.004 5.806,9.375 5.418,9.743 C4.590,10.528 3.283,10.944 1.640,10.944 C1.640,10.944 1.640,10.944 1.640,10.944 C1.193,10.944 0.714,10.914 0.215,10.854 C0.133,10.844 0.053,10.888 0.018,10.963 C-0.017,11.038 -0.000,11.128 0.060,11.185 C2.226,13.230 4.685,14.312 7.172,14.312 C7.172,14.312 7.173,14.312 7.173,14.312 C9.910,14.312 12.590,12.968 14.342,10.717 C15.902,8.713 16.499,6.314 15.995,4.108 C16.332,3.963 17.076,3.537 17.667,2.427 C17.709,2.350 17.692,2.254 17.627,2.194 Z"></path> </svg>',"",'class="icon"',function(t){}),riot.tag2("icon-vk",'<svg class="icon-vk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid" viewbox="0 0 19.38 10.94"> <path d="M18.527,8.527 C18.106,8.031 17.626,7.588 17.163,7.160 C16.998,7.006 16.827,6.849 16.663,6.692 C16.191,6.242 16.174,6.073 16.548,5.561 C16.806,5.208 17.080,4.855 17.345,4.513 C17.585,4.203 17.834,3.883 18.072,3.562 L18.121,3.495 C18.576,2.879 19.047,2.244 19.297,1.476 C19.362,1.274 19.431,0.976 19.274,0.727 C19.118,0.477 18.816,0.401 18.601,0.366 C18.495,0.349 18.390,0.346 18.292,0.346 L15.311,0.343 L15.287,0.343 C14.836,0.343 14.532,0.551 14.358,0.978 C14.192,1.386 14.009,1.820 13.801,2.233 C13.387,3.056 12.860,4.003 12.098,4.793 L12.066,4.826 C11.976,4.921 11.874,5.029 11.800,5.029 C11.788,5.029 11.776,5.026 11.762,5.023 C11.604,4.961 11.498,4.588 11.503,4.414 C11.503,4.413 11.503,4.410 11.503,4.408 L11.501,1.042 C11.501,1.030 11.500,1.019 11.499,1.007 C11.423,0.459 11.255,0.119 10.620,-0.002 C10.603,-0.005 10.586,-0.007 10.569,-0.007 L7.469,-0.007 C6.964,-0.007 6.686,0.193 6.424,0.493 C6.354,0.573 6.206,0.741 6.279,0.944 C6.353,1.149 6.593,1.194 6.671,1.207 C7.059,1.280 7.278,1.511 7.340,1.915 C7.448,2.619 7.461,3.370 7.381,4.277 C7.359,4.530 7.315,4.725 7.243,4.892 C7.226,4.931 7.167,5.058 7.106,5.058 C7.087,5.058 7.031,5.050 6.929,4.982 C6.689,4.821 6.513,4.592 6.308,4.308 C5.610,3.344 5.024,2.282 4.517,1.062 C4.329,0.613 3.978,0.362 3.528,0.354 C3.033,0.347 2.584,0.343 2.157,0.343 C1.689,0.343 1.256,0.347 0.833,0.356 C0.471,0.362 0.220,0.468 0.088,0.672 C-0.044,0.875 -0.035,1.141 0.114,1.465 C1.307,4.055 2.388,5.939 3.621,7.572 C4.484,8.716 5.350,9.506 6.346,10.062 C7.395,10.649 8.571,10.933 9.941,10.933 C10.096,10.933 10.256,10.930 10.418,10.923 C11.214,10.885 11.509,10.603 11.546,9.846 C11.564,9.459 11.607,9.055 11.802,8.707 C11.925,8.490 12.040,8.490 12.077,8.490 C12.150,8.490 12.240,8.523 12.336,8.584 C12.509,8.694 12.658,8.842 12.780,8.971 C12.894,9.093 13.008,9.218 13.121,9.342 C13.366,9.609 13.619,9.887 13.883,10.149 C14.462,10.724 15.100,10.977 15.832,10.923 L18.565,10.923 C18.571,10.923 18.577,10.923 18.583,10.922 C18.855,10.905 19.091,10.757 19.230,10.517 C19.402,10.220 19.398,9.841 19.220,9.503 C19.019,9.122 18.757,8.795 18.527,8.527 Z"></path> </svg>',"",'class="icon"',function(t){}),riot.tag2("icon-city",'<svg class="icon-city {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><g><path d="M22.5,85.2c-0.6,0-1-0.4-1-1V55.8c0-0.2,0.1-0.5,0.3-0.7L31.9,44V29.8c0-0.6,0.4-1,1-1h16c0.6,0,1,0.4,1,1v34.5 c0,0.6-0.4,1-1,1s-1-0.4-1-1V30.8h-14v13.5c0,0.2-0.1,0.5-0.3,0.7L23.5,56.2v28.1C23.5,84.8,23.1,85.2,22.5,85.2z"></path></g><g><path d="M33.1,57.2c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C34.1,56.7,33.7,57.2,33.1,57.2z"></path></g><g><path d="M27.6,63.5c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C28.6,63.1,28.2,63.5,27.6,63.5z"></path></g><g><path d="M33.1,63.5c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C34.1,63.1,33.7,63.5,33.1,63.5z"></path></g><g><path d="M44.2,57.2c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C45.2,56.7,44.8,57.2,44.2,57.2z"></path></g><g><path d="M38.7,57.2c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C39.7,56.7,39.2,57.2,38.7,57.2z"></path></g><g><path d="M38.7,63.5c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C39.7,63.1,39.2,63.5,38.7,63.5z"></path></g><g><path d="M44.2,63.5c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C45.2,63.1,44.8,63.5,44.2,63.5z"></path></g><g><path d="M38.7,50.4c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C39.7,49.9,39.2,50.4,38.7,50.4z"></path></g><g><path d="M44.2,50.4c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C45.2,49.9,44.8,50.4,44.2,50.4z"></path></g><g><path d="M44.2,37.5c-0.6,0-1-0.4-1-1V34c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C45.2,37,44.8,37.5,44.2,37.5z"></path></g><g><path d="M38.7,37.5c-0.6,0-1-0.4-1-1V34c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C39.7,37,39.2,37.5,38.7,37.5z"></path></g><g><path d="M38.7,43.8c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C39.7,43.4,39.2,43.8,38.7,43.8z"></path></g><g><path d="M44.2,43.8c-0.6,0-1-0.4-1-1v-2.4c0-0.6,0.4-1,1-1s1,0.4,1,1v2.4C45.2,43.4,44.8,43.8,44.2,43.8z"></path></g><g><path d="M67.6,78.1h-33c-0.6,0-1-0.4-1-1c0-7.1,7.9-12.8,17.5-12.8S68.6,70,68.6,77.1C68.6,77.7,68.1,78.1,67.6,78.1z M35.7,76.1 h30.9c-0.7-5.5-7.4-9.8-15.4-9.8S36.4,70.6,35.7,76.1z"></path></g><g><path d="M40.3,77.9c-0.6,0-1-0.4-1-1v-8c0-0.6,0.4-1,1-1s1,0.4,1,1v8C41.3,77.4,40.8,77.9,40.3,77.9z"></path></g><g><path d="M45.4,77.9c-0.6,0-1-0.4-1-1V66.2c0-0.6,0.4-1,1-1s1,0.4,1,1v10.6C46.4,77.4,46,77.9,45.4,77.9z"></path></g><g><path d="M50.6,77.9c-0.6,0-1-0.4-1-1V66.2c0-0.6,0.4-1,1-1s1,0.4,1,1v10.6C51.6,77.4,51.1,77.9,50.6,77.9z"></path></g><g><path d="M55.8,77.9c-0.6,0-1-0.4-1-1V66.2c0-0.6,0.4-1,1-1s1,0.4,1,1v10.6C56.8,77.4,56.3,77.9,55.8,77.9z"></path></g><g><path d="M60.9,77.9c-0.6,0-1-0.4-1-1v-9c0-0.6,0.4-1,1-1s1,0.4,1,1v9C61.9,77.4,61.5,77.9,60.9,77.9z"></path></g><g><path d="M71.3,69.9c-0.6,0-1-0.4-1-1V26H54.9v38.7c0,0.6-0.4,1-1,1s-1-0.4-1-1V25c0-0.6,0.4-1,1-1h17.4c0.6,0,1,0.4,1,1v43.9 C72.3,69.4,71.9,69.9,71.3,69.9z"></path></g><g><path d="M58.4,51.6c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C59.4,51.1,59,51.6,58.4,51.6z"></path></g><g><path d="M62.6,51.6c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C63.6,51.1,63.1,51.6,62.6,51.6z"></path></g><g><path d="M66.7,51.6c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C67.7,51.1,67.3,51.6,66.7,51.6z"></path></g><g><path d="M58.4,39.1c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C59.4,38.6,59,39.1,58.4,39.1z"></path></g><g><path d="M62.6,39.1c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C63.6,38.6,63.1,39.1,62.6,39.1z"></path></g><g><path d="M66.7,39.1c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C67.7,38.6,67.3,39.1,66.7,39.1z"></path></g><g><path d="M58.4,63.8c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C59.4,63.4,59,63.8,58.4,63.8z"></path></g><g><path d="M62.6,63.8c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C63.6,63.4,63.1,63.8,62.6,63.8z"></path></g><g><path d="M66.7,63.8c-0.6,0-1-0.4-1-1v-7.8c0-0.6,0.4-1,1-1s1,0.4,1,1v7.8C67.7,63.4,67.3,63.8,66.7,63.8z"></path></g><path d="M80.7,83.6h-4.6l-0.9-13.9c0-0.5-0.5-0.9-1-0.9h-5.6c-0.5,0-1,0.4-1,0.9l-0.9,13.9H36l-0.9-13.9c0-0.5-0.5-0.9-1-0.9h-5.6 c-0.5,0-1,0.4-1,0.9l-0.9,13.9h-6.8c-0.6,0-1,0.4-1,1s0.4,1,1,1h7.7h7.6h32.5h7.6h5.5c0.6,0,1-0.4,1-1S81.3,83.6,80.7,83.6z M28.6,83.6l0.9-12.9h3.7L34,83.6H28.6z M68.7,83.6l0.9-12.9h3.7l0.9,12.9H68.7z"></path><path d="M68.1,20.5C68.1,20.5,68.1,20.4,68.1,20.5c0-2.2-1.8-3.8-3.2-3.8h-1.2v-4.5c0-0.6-0.4-1-1-1s-1,0.4-1,1v4.5h-1.2 c-1.5,0-3.3,1.7-3.3,3.7c0,0,0,0.1,0,0.1c-1.6,0.7-2.9,2.3-2.9,4.1c0,0.6,0.4,1,1,1s1-0.4,1-1c0-1.3,1.7-2.5,2.7-2.5h7.4 c1,0,2.7,1.2,2.7,2.5c0,0.6,0.4,1,1,1s1-0.4,1-1C71,22.8,69.6,21.2,68.1,20.5z M60.4,18.7h4.5c0.3,0,1.1,0.6,1.2,1.4h-6.9 C59.3,19.3,60,18.7,60.4,18.7z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-feedback",'<svg class="icon-feedback {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" version="1" viewbox="0 0 50 50" enable-background="new 0 0 50 50"> <path d="M 25 0 C 23.964439 0 22.054753 0.24605608 20.40625 1.625 C 20.389614 1.6418448 20.350815 1.6508748 20.34375 1.65625 C 19.784923 2.0812924 18.413307 3.2901785 16.4375 5 L 9 5 A 1.0001 1.0001 0 0 0 8.90625 5 A 1.0001 1.0001 0 0 0 8 6 L 8 12.46875 C 3.9407156 16.057932 0.34375 19.25 0.34375 19.25 A 1.0001 1.0001 0 0 0 0 20 L 0 49 A 1.0001 1.0001 0 0 0 1 50 L 49 50 A 1.0001 1.0001 0 0 0 50 49 L 50 20 A 1.0001 1.0001 0 0 0 49.65625 19.25 C 49.65625 19.25 46.059284 16.057932 42 12.46875 L 42 6 A 1.0001 1.0001 0 0 0 41 5 L 33.5 5 C 31.600603 3.2868425 30.215054 2.0813728 29.65625 1.65625 C 29.649125 1.65082 29.610374 1.6418361 29.59375 1.625 C 27.945247 0.24605608 26.035561 0 25 0 z M 25 2 C 25.751852 2 27.205768 2.1808368 28.34375 3.15625 A 1.0001 1.0001 0 0 0 28.40625 3.1875 C 28.523296 3.2752846 29.726633 4.3454864 30.46875 5 L 19.5 5 C 20.247123 4.3513429 21.477229 3.2748909 21.59375 3.1875 A 1.0001 1.0001 0 0 0 21.65625 3.15625 C 22.794232 2.1808368 24.248148 2 25 2 z M 10 7 L 16.4375 7 A 1.0001 1.0001 0 0 0 17.03125 7 L 40 7 L 40 12.5 A 1.0001 1.0001 0 0 0 40 13.15625 L 40 26.8125 L 33.6875 31.78125 C 32.397327 30.767046 29.993468 28.900678 29.6875 28.65625 L 29.625 28.625 C 27.896453 27.242162 26.048148 27 25 27 C 23.877778 27 22.109793 27.344485 20.40625 28.59375 L 20.375 28.625 C 20.030856 28.878009 17.603507 30.776752 16.3125 31.78125 L 10 26.8125 L 10 13.0625 A 1.0001 1.0001 0 0 0 10 12.65625 L 10 7 z M 25 10.1875 L 24.28125 10.90625 L 18.28125 16.90625 L 19.71875 18.3125 L 24 14.03125 L 24 24 L 26 24 L 26 14.03125 L 30.28125 18.3125 L 31.71875 16.90625 L 25.71875 10.90625 L 25 10.1875 z M 8 15.125 L 8 25.25 L 2 20.53125 L 2 20.4375 C 2.2364906 20.226626 5.1491338 17.647876 8 15.125 z M 42 15.125 C 44.850866 17.647876 47.763509 20.226626 48 20.4375 L 48 20.53125 L 42 25.25 L 42 15.125 z M 2 23.09375 L 14.6875 33.0625 C 12.859498 34.490395 12.061797 35.093894 9.875 36.8125 C 5.8695385 39.960395 3.1635749 42.082372 2 43 L 2 23.09375 z M 48 23.09375 L 48 43.03125 C 46.331016 41.724279 40.212779 36.910921 35.3125 33.0625 L 48 23.09375 z M 25 29 C 25.751852 29 27.103547 29.170338 28.375 30.1875 C 29.920628 31.424002 47.497358 45.16946 48 45.5625 L 48 48 L 2 48 L 2 45.5625 C 2.2621139 45.356101 6.4499018 42.055854 11.09375 38.40625 C 15.880583 34.644274 20.961059 30.682723 21.59375 30.21875 C 22.890207 29.268015 24.322222 29 25 29 z"></path> </svg>',"",'class="icon"',function(t){}),
riot.tag2("icon-phone",'<svg class="icon-phone {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><g><path d="M69.5,9h-35c-3.033,0-5.5,2.467-5.5,5.5v72c0,3.032,2.467,5.5,5.5,5.5h35c3.032,0,5.5-2.468,5.5-5.5v-72 C75,11.467,72.532,9,69.5,9z M34.5,12h35c1.379,0,2.5,1.122,2.5,2.5V19H32v-4.5C32,13.122,33.122,12,34.5,12z M72,22v52H32V22H72z M69.5,89h-35c-1.378,0-2.5-1.121-2.5-2.5V77h40v9.5C72,87.879,70.879,89,69.5,89z"></path><path d="M52.417,78.167c-2.619,0-4.75,2.131-4.75,4.75s2.131,4.75,4.75,4.75s4.75-2.131,4.75-4.75S55.036,78.167,52.417,78.167z M52.417,84.667c-0.965,0-1.75-0.785-1.75-1.75s0.785-1.75,1.75-1.75s1.75,0.785,1.75,1.75S53.382,84.667,52.417,84.667z"></path><path d="M46,17h12c0.828,0,1.5-0.671,1.5-1.5S58.828,14,58,14H46c-0.829,0-1.5,0.671-1.5,1.5S45.171,17,46,17z"></path><circle cx="41.521" cy="15.521" r="1.49"></circle></g></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-email",'<svg class="icon-email {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><path d="M94,31.8c-0.9-1.2-2.3-1.8-3.9-1.8H37.9H5v3.1h27.2c-0.5,0.7-0.9,1.5-1.2,2.4l-1.1,3.9H12v3.1h17.1L26.8,51h-8v3h7.1 l-2.7,9.7c-0.4,1.6-0.2,3.3,0.7,4.4c0.9,1.2,2.3,1.8,3.9,1.8h52.8c3.1,0,6.1-2.4,6.9-5.5l7.2-28.3C95.2,34.6,94.9,33,94,31.8z M84.6,63.7c-0.4,1.7-2.2,3.2-3.9,3.2H27.8c-0.6,0-1.1-0.2-1.4-0.6s-0.4-1.1-0.2-1.8l5.9-21.4l20.4,9.6c1.8,0.8,3.9,1.3,6,1.3 s4.4-0.4,6.6-1.3l24.8-9.3L84.6,63.7z M91.8,35.5l-1.1,4.3L63.9,49.9c-3.6,1.4-7.4,1.4-10.2,0.1l-20.8-9.9l1.1-3.8 c0.5-1.7,2.3-3.2,4-3.2h52.2c0.6,0,1.1,0.2,1.4,0.6C91.9,34.1,92,34.8,91.8,35.5z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-skype",'<svg class="icon-skype {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 14.28125 0 C 6.40925 0 -1.1842379e-15 6.32575 0 14.09375 C 0 16.47775 0.62025 18.801 1.78125 20.875 C 1.50925 22.313 1.375 23.792 1.375 25.25 C 1.375 38.25 12.075 48.8125 25.25 48.8125 C 26.601 48.8125 27.95125 48.723 29.28125 48.5 C 31.25925 49.488 33.47875 50 35.71875 50 C 43.58875 50 50 43.67525 50 35.90625 C 50 33.81925 49.53925 31.82675 48.65625 29.96875 C 48.97625 28.43175 49.15625 26.847 49.15625 25.25 C 49.15625 12.252 38.426 1.6875 25.25 1.6875 C 24.012 1.6875 22.76025 1.78075 21.53125 1.96875 C 19.33525 0.68375 16.84625 1.4802974e-16 14.28125 0 z M 25.09375 9.375 C 27.13975 9.375 28.9355 9.5995 30.4375 10.0625 C 31.9435 10.5245 33.22075 11.13525 34.21875 11.90625 C 35.22675 12.68425 35.99675 13.512 36.46875 14.375 C 36.94475 15.245 37.1875 16.13175 37.1875 16.96875 C 37.1875 17.77575 36.84375 18.486 36.21875 19.125 C 35.59375 19.767 34.807 20.09375 33.875 20.09375 C 33.027 20.09375 32.36725 19.9 31.90625 19.5 C 31.47725 19.126 31.02525 18.55575 30.53125 17.71875 C 29.96225 16.64675 29.293 15.7785 28.5 15.1875 C 27.732 14.6115 26.42025 14.34375 24.65625 14.34375 C 23.01525 14.34375 21.6775 14.63925 20.6875 15.28125 C 19.7305 15.89825 19.28125 16.62875 19.28125 17.46875 C 19.28125 17.98275 19.443 18.41025 19.75 18.78125 C 20.079 19.17025 20.51275 19.49525 21.09375 19.78125 C 21.69675 20.07825 22.3165 20.331 22.9375 20.5 C 23.5735 20.673 24.659 20.94725 26.125 21.28125 C 27.978 21.67425 29.6815 22.0885 31.1875 22.5625 C 32.7115 23.0465 34.01875 23.65375 35.09375 24.34375 C 36.18675 25.04875 37.0695 25.95025 37.6875 27.03125 C 38.3055 28.11325 38.59375 29.443 38.59375 31 C 38.59175 32.859 38.065 34.54825 37 36.03125 C 35.939 37.51025 34.37175 38.70125 32.34375 39.53125 C 30.33775 40.35225 27.9255 40.75 25.1875 40.75 C 21.8985 40.75 19.149 40.1895 17 39.0625 C 15.461 38.2445 14.17675 37.118 13.21875 35.75 C 12.24275 34.369 11.75 33.0115 11.75 31.6875 C 11.75 30.8615 12.08675 30.1505 12.71875 29.5625 C 13.34775 28.9825 14.13675 28.6875 15.09375 28.6875 C 15.87975 28.6875 16.573 28.916 17.125 29.375 C 17.655 29.815 18.10675 30.4715 18.46875 31.3125 C 18.87475 32.2305 19.31025 32.98075 19.78125 33.59375 C 20.22725 34.17575 20.8615 34.6795 21.6875 35.0625 C 22.5175 35.4515 23.65325 35.65625 25.03125 35.65625 C 26.92425 35.65625 28.459 35.25475 29.625 34.46875 C 30.766 33.70175 31.34375 32.78325 31.34375 31.65625 C 31.34375 30.76425 31.0295 30.048 30.4375 29.5 C 29.8125 28.925 28.994 28.4925 28 28.1875 C 26.958 27.8695 25.5595 27.51925 23.8125 27.15625 C 21.4365 26.65225 19.4165 26.047 17.8125 25.375 C 16.1675 24.685 14.844 23.72425 13.875 22.53125 C 12.892 21.31625 12.375 19.82225 12.375 18.03125 C 12.375 16.32425 12.9035 14.7615 13.9375 13.4375 C 14.9575 12.1235 16.449 11.10725 18.375 10.40625 C 20.272 9.71225 22.53875 9.375 25.09375 9.375 z"></path> </svg>',"",'class="icon"',function(t){}),riot.tag2("icon-arrow",'<svg class="icon-arrow {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M73.09,40.485l-4.616-10.999c-0.006-0.015-0.018-0.025-0.026-0.039c-0.015-0.028-0.032-0.052-0.052-0.077 c-0.012-0.014-0.019-0.032-0.032-0.046c-0.012-0.012-0.028-0.018-0.041-0.029c-0.012-0.01-0.018-0.023-0.031-0.031 c-0.014-0.009-0.029-0.01-0.043-0.018c-0.015-0.008-0.027-0.021-0.044-0.028c-0.016-0.007-0.035-0.006-0.052-0.011 c-0.03-0.009-0.06-0.015-0.091-0.018c-0.017-0.002-0.032-0.009-0.049-0.009c0,0-0.001,0-0.001,0c-0.017,0-0.031,0.008-0.047,0.01 c-0.033,0.003-0.064,0.01-0.096,0.019c-0.032,0.01-0.062,0.021-0.091,0.037c-0.026,0.014-0.05,0.031-0.074,0.05 c-0.015,0.012-0.034,0.02-0.048,0.034c-0.012,0.012-0.018,0.028-0.029,0.042c-0.009,0.011-0.022,0.018-0.031,0.03l-6.655,9.9 c-0.154,0.229-0.093,0.54,0.136,0.694c0.086,0.058,0.183,0.085,0.279,0.085c0.16,0,0.318-0.078,0.415-0.221l5.697-8.474 C66.573,52.729,48.934,69.82,27.371,69.82c-0.276,0-0.5,0.224-0.5,0.5s0.224,0.5,0.5,0.5c21.907,0,39.866-17.213,41.072-38.823 l3.724,8.875c0.08,0.191,0.266,0.307,0.461,0.307c0.064,0,0.13-0.012,0.193-0.039C73.077,41.033,73.197,40.74,73.09,40.485z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-bubble",'<svg class="icon-bubble {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" viewbox="0 0 630 550" version="1.1" xmlns="http://www.w3.org/2000/svg"> <path d=" M 491.43 1.68 C 511.31 -0.63 531.98 2.80 549.57 12.51 C 566.99 21.99 581.07 36.77 591.68 53.37 C 611.09 83.71 620.73 119.24 625.59 154.62 C 631.43 198.74 629.50 243.71 621.68 287.46 C 614.38 327.61 601.89 366.94 583.38 403.35 C 568.24 433.03 548.99 460.82 525.03 484.06 C 499.98 508.54 469.46 527.63 436.01 538.23 C 398.39 550.37 357.86 551.56 319.04 545.12 C 276.35 538.09 235.48 522.55 197.01 503.04 C 158.05 483.35 121.67 459.02 86.37 433.44 C 64.48 417.36 42.67 400.79 24.16 380.78 C 13.97 369.41 4.27 356.44 1.59 341.04 C -0.23 330.83 2.30 320.27 7.35 311.34 C 13.41 300.53 22.16 291.54 31.31 283.31 C 44.50 271.59 58.93 261.37 73.52 251.48 C 105.06 230.36 137.69 210.92 170.01 191.03 C 236.97 150.26 303.30 108.40 367.75 63.75 C 382.58 53.68 396.98 42.98 411.94 33.11 C 436.02 17.67 462.69 4.87 491.43 1.68 Z"></path> </svg>',"",'class="icon"',function(t){});
riot.tag2("control-colors",'<div onclick="{changeColor}" onupdate="none" class="control__colors__item bg-{$store.colors.getTitleById($State.get(\'color\'))} control__colors__item--active"></div> <div class="control__colors__items"> <div onclick="{onSelect}" onupdate="none" each="{item in $store.colors.get()}" no-reorder class="control__colors__item bg-{item.title}"></div> </div>',"",'class="control__colors"',function(t){this.onSelect=function(){this.onChange(this.item._id)},this.onChange=function(t){$State.select("color").set(t)},this.changeColor=function(){if(app.device.isMobile){var t=$store.colors.select({_id:$State.get("color")}).right();t=t?t.get():$store.colors.get(0),this.onChange(t._id)}}}),riot.tag2("control-fonts",'<div onclick="{changeFont}" onupdate="none" class="control__fonts__item control__fonts__item--active fontFamily-{$State.get(\'font\')}">Aa</div> <div class="control__fonts__items"> <div onclick="{onSelect}" onupdate="none" each="{item in $store.fonts.getItems()}" no-reorder class="control__fonts__item fontFamily-{item._id}">Aa</div> </div>',"",'class="control__fonts"',function(t){this.onSelect=function(){this.onChange(this.item._id)},this.onChange=function(t){$State.select("font").set(t)},this.changeFont=function(){if(app.device.isMobile){var t=$store.fonts.select({_id:$State.get("font")}).right();t=t?t.get():$store.fonts.get(0),this.onChange(t._id)}}}),riot.tag2("control-public","","",'class="control__public" onclick="{switch}" data-active="{!$store.resume.get(⁗public⁗)}"',function(t){this.switch=function(){$store.resume.select("public").set(!$store.resume.get("public")),$Menu.sections.settings.update()}}),riot.tag2("control-sections",'<div if="{counts && counts > 0}" class="control__sections__badge">{counts}</div> <svg class="control__sections__svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="fill-primary" d="M72.255,55.039c-0.935-0.376-1.896-0.658-2.87-0.89V21.746c0-0.003-0.002-0.006-0.002-0.009s0.002-0.006,0.002-0.009 c0-0.299-0.137-0.559-0.345-0.742L54.345,6.184c-0.188-0.189-0.443-0.295-0.71-0.295H18.041c-1.654,0-3,1.346-3,3v67.93 c0,1.654,1.346,3,3,3h27.289c2.555,8.269,10.269,14.293,19.364,14.293c11.175,0,20.266-9.09,20.266-20.264 C84.959,65.525,79.972,58.143,72.255,55.039z M54.564,9.244l11.401,11.484H54.564V9.244z M44.825,77.818H18.041 c-0.551,0-1-0.448-1-1V8.888c0-0.551,0.449-1,1-1h34.524v13.84c0,0.552,0.447,1,1,1h13.82V53.78 c-0.888-0.117-1.783-0.198-2.691-0.198c-10.211,0-18.856,7.63-20.109,17.748c-0.103,0.827-0.155,1.675-0.155,2.518 C44.429,75.207,44.569,76.533,44.825,77.818z M64.693,92.111c-10.071,0-18.264-8.193-18.264-18.264c0-0.761,0.047-1.525,0.14-2.271 c1.129-9.118,8.921-15.994,18.125-15.994c2.359,0,4.652,0.441,6.814,1.313c6.956,2.797,11.451,9.451,11.451,16.953 C82.959,83.918,74.765,92.111,64.693,92.111z M74.236,72.848H55.152c-0.553,0-1,0.447-1,1s0.447,1,1,1h19.084c0.553,0,1-0.447,1-1 S74.789,72.848,74.236,72.848z M44.928,57.104c0-0.553-0.448-1-1-1H25.546c-0.552,0-1,0.447-1,1s0.448,1,1,1h18.382 C44.48,58.104,44.928,57.656,44.928,57.104z M25.546,37.603h33.333c0.553,0,1-0.448,1-1s-0.447-1-1-1H25.546c-0.552,0-1,0.448-1,1 S24.994,37.603,25.546,37.603z M25.546,30.769h33.333c0.553,0,1-0.448,1-1s-0.447-1-1-1H25.546c-0.552,0-1,0.448-1,1 S24.994,30.769,25.546,30.769z M39.178,62.938H25.546c-0.552,0-1,0.447-1,1s0.448,1,1,1h13.632c0.552,0,1-0.447,1-1 S39.73,62.938,39.178,62.938z M25.546,51.27h33.333c0.553,0,1-0.448,1-1s-0.447-1-1-1H25.546c-0.552,0-1,0.448-1,1 S24.994,51.27,25.546,51.27z M25.546,44.437h33.333c0.553,0,1-0.448,1-1s-0.447-1-1-1H25.546c-0.552,0-1,0.448-1,1 S24.994,44.437,25.546,44.437z"></path></svg>',"",'onclick="{open}" class="control__sections" data-active="{counts && counts > 0 ? true : false}"',function(t){var o=this;o.refresh=function(){o.update({counts:o.getCount()})},o.open=function(){$Editable.show("visible",{title:"Активные секции",sections:$resume.sections,callback:function(t){t&&$store.resume.select("sections").set(t)}})},o.getCount=function(){return _.filter($resume.sections,function(t){return t.active!==!0&&t.control===!0}).length},o.counts=o.getCount()});
riot.tag2("section-editable",'<div onclick="{onClose}" class="section__editable__close hidden-sm hidden-xs"></div> <div class="section__editable__scroll" name="scroll"> <div name="wrapper" class="section__editable__wrapper container"> <div class="row"> <editable-photo></editable-photo> <editable-name></editable-name> <editable-text></editable-text> <editable-salary></editable-salary> <editable-tags></editable-tags> <editable-social></editable-social> <editable-works></editable-works> <editable-skills></editable-skills> <editable-education></editable-education> <editable-courses></editable-courses> <editable-languages></editable-languages> <editable-jobs></editable-jobs> <editable-hobby></editable-hobby> <editable-more></editable-more> <editable-visible></editable-visible> </div> </div> <ui-help-switch-visible if="{!app.device.isPhone}"></ui-help-switch-visible> </div> <ui-help if="{!app.device.isPhone}"></ui-help>',"",'class="section__editable" data-open="false"',function(e){var t=this,s=$$(t.root);t.el=s,t.editable=null,t.editSimple=["photo","name","text","salary","tags","social","more"],t.on("mount",function(){if(app.device.isMobile&&app.device.isTablet&&(t.scrollPos=app.$dom.document.scrollTop(),app.$dom.window.on("scroll",function(){t.scrollPos=app.$dom.document.scrollTop()})),app.device.isPhone){var e=null;s.on("focus","input[type='text'], textarea",function(t){e=t.target,i(app.sizes.height/2.5),setTimeout(function(){i(app.sizes.height/2.5)},300)});var i=function(s){var i=app.dom.getPagePosition(e).top;i<0?t.scroll.scrollTop=-i+s:i>s&&(t.scroll.scrollTop=i-s)}}}),t.on("editTarget",function(e){t.root.setAttribute("data-target",e)}),t.on("editable",function(e,i){"show"==e&&i?(app.device.isPhone||t.editSimple.indexOf(i)!==-1||t.wrapper.setAttribute("data-large",!0),s.find("editable-"+i).attr("id","active"),t.editable=i):"hideAnimated"==e&&(t.editable?s.find("editable-"+t.editable).removeAttr("id"):s.find(".section__editable__container#active").removeAttr("id"),t.wrapper.setAttribute("data-large",!1),t.editable=!1)}),t.show=function(e,s,i){"editing"===$State.get("mode")&&($Editable.autosuggest.items=[],i?t.component.init(t.tags["editable-"+e],s):t.tags["editable-"+e].init(s),t.trigger("editable","show",e,s.update),t.scrollTo(),t.root.setAttribute("data-open",!0),app.device.isPhone||(app.device.isMobile&&app.device.isTablet&&(t.savedScrollPos=t.scrollPos,$Resume.el.css({transform:"translateY("+-t.savedScrollPos+"px)"}),app.$dom.html.addClass("overflow-hidden")),app.$dom.body.addClass("no-scroll")),_.onEndTransition(t.wrapper,function(){t.trigger("editable","showAnimated",e,s.update)}))},t.hide=function(e){t.root.setAttribute("data-open",!1),app.device.isMobile?t.trigger("editable","hideAnimated"):t.trigger("editable","hide"),app.device.isPhone||(app.$dom.body.removeClass("no-scroll"),app.device.isMobile&&app.device.isTablet&&($Resume.el.removeAttr("style"),app.$dom.html.removeClass("overflow-hidden"),app.$dom.document.scrollTop(t.savedScrollPos))),_.onEndTransition(t.wrapper,function(){app.device.isMobile||t.trigger("editable","hideAnimated"),t.component.editing&&(t.trigger("editTarget",!1),t.component.editing=null),$Editable.autosuggest.items=[],e&&e()})},t.open=function(e,t,s,i,a,o){if("editing"===$State.get("mode")){o&&o.before&&o.before($Editable.tags["editable-"+t]);var n=$store.resume.select("sections").get({name:t}).active;$Editable.show(t,{active:n,title:s.opts.title,component:t,store:$resume[t],defaults:i,requires:a,target:e&&e.target,handler:o&&o.handler||null,callback:function(e,i){$store.resume.select("sections",{name:t}).set("active",e),$resume[t]=_.any(_.values(_.omit(i,"title")))?i:null,s.trigger("editable","hide")}},!0),o&&o.after&&o.after($Editable.tags["editable-"+t]),s.editable=!0}},t.onClose=function(){t.tags["editable-"+t.editable].hide?t.tags["editable-"+t.editable].hide():t.component.tag?t.component.onCancel.call(t.component.tag):$Editable.hide()},t.component={tag:null,name:null,editing:null,init:function(e,s){if(this.tag=e,e.switcher=e.tags["ui-switcher"],this.name=s.component,s.target&&s.store){var i=$$(s.target).closest("."+s.component+"-item");if(i&&i.length&&i.attr("data-id")){var a=_.findWhere(s.store.items,{id:String(i.attr("data-id"))});a&&(t.trigger("editTarget",!0),t.component.editing=_.copyArray(a))}}!s.store&&s.defaults&&(s.store=s.defaults.root()),e.update({active:s.active,title:s.title,store:s.store,data:_.copyArray(s.store),defaults:s.defaults,requires:s.requires,handler:s.handler||null,callback:s.callback?s.callback:null})},createItem:function(){t.component.editing=this.defaults.item(),t.scrollTo("content")},editItem:function(){t.trigger("editTarget",!0),$Editable.autosuggest.items=[],t.component.editing=_.copyArray(this.data.items[this.i]),t.scrollTo("content")},textEdit:function(e){var s=this.editing||this.data,i=e.currentTarget.getAttribute("data-name"),a=e.currentTarget.getAttribute("placeholder");$Sections.textEdit.show({value:s[i],placeholder:a||null,callback:function(e){s[i]=e,t.component.tag.update()}})},removeItem:function(){this.data.items.splice(this.i,1),t.component.editing&&t.component.editing.id==this.item.id&&t.component.cancelEditing()},cancelEditing:function(){t.trigger("editTarget",!1),t.component.editing=null,t.scrollTo()},autoCommit:function(e){this.data[e.target.getAttribute("data-name")]=_.clean(e.target.value)},autoCommitItems:function(e){var s,i=e.target.getAttribute("data-name").split("."),a=t.component.editing,o=_.clean(e.target.value);for(s=0;s<i.length;s++)s==i.length-1?a[i[s]]=o:a=a[i[s]];e.target.getAttribute("autosuggest")&&$Editable.autosuggest.onInput.call(this,e,t.component.autoCommitItems)},saveItem:function(){var e=!0;if(this.requires&&this.requires.length&&_.each(this.requires,function(s){e&&!_.clean(t.component.editing[s.field])&&(e=!1,!app.device.isPhone&&window.$Notify?$Notify.show({color:"dark",text:s.alert}):alert(s.alert))}),e){var s=_.findWhere(this.data.items,{id:t.component.editing.id});if(s){var i=_.indexOf(this.data.items,s);this.data.items[i]=_.copyArray(t.component.editing)}else _.isArray(this.data.items)||(this.data.items=[]),this.data.items.push(t.component.editing);t.trigger("editTarget",!1),t.component.editing=null,t.scrollTo()}},onCancel:function(){this.title_data&&(this.title_data.value=this.store&&this.store.title?this.store.title:$store.resume.placeholder[t.component.name].title()),this.text_data&&(this.text_data.value=this.store&&this.store.text?this.store.text:""),$Editable.hide()},onSave:function(){if(t.component.editing&&t.component.saveItem.call(this),this.callback){if(this.data&&this.data.items){if(this.data.items.length&&_.isObject(this.data.items[0]))for(var e=0;e<this.data.items.length;e++)(!_.clean(this.data.items[e].title)||this.data.items[e].title&&void 0!==this.data.items[e].value&&!_.clean(this.data.items[e].value))&&(this.data.items.splice(e,1),e--);this.data.items=this.data.items.length?this.data.items:null}this.callback(this.switcher.value,this.handler?this.handler(this.data):this.data)}$Editable.hide(),$Resume.tags["ux-"+t.component.name]&&$Resume.tags["ux-"+t.component.name].update()}},t.autosuggest={el:null,tag:null,commit:null,items:[],onInput:function(e,s){e.target&&e.target.value&&e.target.getAttribute("autosuggest")&&(t.autosuggest.el=e.target,t.autosuggest.tag=this,t.autosuggest.commit=s,t.suggest(e.target.getAttribute("autosuggest"),e.target.value),document.removeEventListener("click",t.autosuggest.handleClickOutside),document.addEventListener("click",t.autosuggest.handleClickOutside))},select:function(){t.autosuggest.update([]),t.autosuggest.el.value=this.item.text,_.isFunction(t.autosuggest.commit)&&(t.autosuggest.commit.call(this,{target:t.autosuggest.el}),t.autosuggest.items=[]),t.autosuggest.tag.trigger("autocomplete.select",t.autosuggest.el.value)},request:function(e,s){s.length>1?app.request(e,s).then(function(e){if(e.items){if("1"==e.items.length&&s==e.items[0].text)return void(t.autosuggest.items=[]);t.autosuggest.update(e.items)}}):t.autosuggest.update([])},update:function(e){t.autosuggest.items=e,t.autosuggest.tag.update()},handleClickOutside:function(e){t.autosuggest.el&&!t.autosuggest.el.contains(e.target)&&setTimeout(function(){t.autosuggest.update([])},20),document.removeEventListener("click",t.autosuggest.handleClickOutside)}},t.suggest=_.debounce(t.autosuggest.request,app.device.isMobile?300:150),t.scrollTo=function(e){var s=app.device.isPhone?80:100,e=e?"content"===e?s:e:0;t.scroll.scrollTop=e}}),riot.tag2("section-percentage",'<div class="percentage__container" riot-style="transform:translateY({tY}%)"> <div class="percentage__score">{p}%</div> </div>',"",'class="section percentage"',function(e){var t=this;t.on("before-mount",function(){t.result($store.resume.percentage.calc("premium",$store.resume))}),t.on("mount",function(){var e=_.debounce($store.resume.percentage.calc,100);$store.resume.on("update",function(s){t.recalc||e("premium",$store.resume,t.result)})}),t.result=function(e){t.recalc=!0,t.update({p:e,tY:e>90?10:100-e}),$store.resume.select("percent").set(e),setTimeout(function(){t.recalc=!1},20)},t.on("unmount",function(){$store.resume.off("update")})}),riot.tag2("section-menu",'<div class="hidden-xs menu__overlay"></div> <menu-sections></menu-sections> <menu-items if="{!app.device.isMobile}"></menu-items>',"",'class="menu {section-hidden : app.device.isPhone}" data-pos="right" data-open="false"',function(e){var t=this;$$(t.root);t.active=!1,t.on("before-mount",function(){t.sections=t.tags["menu-sections"],t.items=app.device.isMobile?null:t.tags["menu-items"]}),t.show=function(e){t.active?t.hide():(t.active=!0,app.device.isPhone?(t.root.setAttribute("data-open",!0),$root.trigger("mode","hidden",!0)):(app.$dom.body.addClass("no-scroll"),$root.trigger("mode","menu",!0)),e&&t.items&&t.items.open[e]&&t.items.open[e].call(),_.onEndTransition(t.sections.root,function(){t.sections.settings.update()}))},t.hide=function(){t.active=!1,app.device.isPhone?(t.root.setAttribute("data-open",!1),$root.trigger("mode","hidden",!1)):($root.trigger("mode","menu",!1),app.$dom.body.removeClass("no-scroll")),_.onEndTransition(app.device.isPhone?t.root:t.sections.root,function(){$afterlag.run(function(){t.sections.refresh()})})}}),riot.tag2("menu-items",'<div class="rows"> <div class="row"> <div class="menu__item col-md-12"> <div onclick="{open.contacts}" onupdate="none" class="menu__item__button" data-active="{section == ⁗contacts⁗}"> <div class="menu__item__icon"> <svg data-icon="contacts" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M65.498,63.023c3.289-4.9,5.002-11.303,5.002-17.521c0-12.748-8.41-22-20-22s-20,9.252-20,22 c0,6.219,1.713,12.621,5.002,17.521C25.133,66.43,16.5,72.955,16.5,80.5c0,0.506,0.191,0.994,0.537,1.365 C25.842,91.303,37.727,96.5,50.5,96.5s24.658-5.197,33.463-14.635c0.346-0.371,0.537-0.859,0.537-1.365 C84.5,72.955,75.867,66.43,65.498,63.023z M34.5,45.502c0-8.945,5.496-18,16-18s16,9.055,16,18c0,9.135-4.965,22-16,22 S34.5,54.637,34.5,45.502z M50.5,92.5c-11.375,0-21.979-4.521-29.957-12.752c0.658-5.643,8.605-10.77,17.688-13.398 c3.17,3.158,7.273,5.152,12.27,5.152s9.1-1.994,12.27-5.152c9.082,2.629,17.029,7.756,17.688,13.398 C72.479,87.979,61.875,92.5,50.5,92.5z M50.5,4.5c-25.363,0-46,20.635-46,46c0,6.557,1.35,12.889,4.014,18.822 c0.332,0.742,1.061,1.182,1.826,1.182c0.273,0,0.551-0.057,0.816-0.176c1.008-0.451,1.459-1.635,1.006-2.643 C9.733,62.27,8.5,56.488,8.5,50.5c0-23.158,18.842-42,42-42s42,18.842,42,42c0,5.986-1.232,11.768-3.664,17.184 c-0.451,1.008-0.002,2.191,1.006,2.643c1.008,0.453,2.191,0.004,2.645-1.006C95.149,63.387,96.5,57.055,96.5,50.5 C96.5,25.135,75.864,4.5,50.5,4.5z"></path></svg> </div> <div class="menu__item__title">Контактные данные</div> </div> </div> <div class="menu__item col-md-12"> <div onclick="{open.settings}" onupdate="none" class="menu__item__button" data-active="{section == ⁗settings⁗}"> <div class="menu__item__icon"> <svg data-icon="settings" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M52.037,48.713V14.806c0-1.081-0.876-1.957-1.957-1.957c-1.081,0-1.957,0.876-1.957,1.957v33.907 c-4.792,0.918-8.427,5.136-8.427,10.193c0,5.056,3.635,9.274,8.427,10.193v15.14c0,1.081,0.876,1.957,1.957,1.957 c1.081,0,1.957-0.876,1.957-1.957v-15.14c4.792-0.918,8.427-5.136,8.427-10.193C60.464,53.849,56.829,49.631,52.037,48.713z M50.08,65.375c-3.568,0-6.47-2.902-6.47-6.47s2.902-6.47,6.47-6.47c3.568,0,6.47,2.902,6.47,6.47S53.648,65.375,50.08,65.375z M26.7,31.361V14.806c0-1.081-0.876-1.957-1.957-1.957c-1.081,0-1.957,0.876-1.957,1.957v16.555 c-4.792,0.918-8.427,5.136-8.427,10.193c0,5.056,3.634,9.274,8.427,10.193v31.736c0,1.081,0.876,1.957,1.957,1.957 c1.081,0,1.957-0.876,1.957-1.957V51.746c4.792-0.918,8.427-5.136,8.427-10.193C35.127,36.497,31.493,32.279,26.7,31.361z M24.744,48.023c-3.568,0-6.47-2.902-6.47-6.47c0-3.545,2.867-6.43,6.403-6.467c0.023,0.001,0.044,0.007,0.067,0.007 s0.044-0.006,0.067-0.007c3.537,0.036,6.403,2.922,6.403,6.467C31.214,45.121,28.311,48.023,24.744,48.023z M85.64,41.553 c0-5.056-3.635-9.274-8.427-10.193V15.762c0-1.081-0.876-1.957-1.957-1.957c-1.081,0-1.957,0.876-1.957,1.957v15.598 c-4.792,0.918-8.427,5.136-8.427,10.193c0,5.056,3.635,9.274,8.427,10.193v33.449c0,1.081,0.876,1.957,1.957,1.957 c1.081,0,1.957-0.876,1.957-1.957V51.746C82.005,50.827,85.64,46.609,85.64,41.553z M75.256,48.023c-3.568,0-6.47-2.902-6.47-6.47 c0-3.568,2.902-6.47,6.47-6.47c3.568,0,6.47,2.902,6.47,6.47C81.727,45.121,78.824,48.023,75.256,48.023z"></path></svg> </div> <div class="menu__item__title">Настройки</div> </div> </div> </div> <div class="row"> <div class="menu__item col-md-12"> <div onclick="{open.coverletter}" onupdate="none" class="menu__item__button" data-active="{section == ⁗coverletter⁗}"> <div class="menu__item__icon"> <svg data-icon="coverletter" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 42 62.5" style="enable-background:new 0 0 42 50;" xml:space="preserve"><rect x="11" y="26.5" width="20" height="1"></rect><rect x="11" y="22.5" width="20" height="1"></rect><rect x="11" y="18.5" width="12" height="1"></rect><rect x="11" y="30.5" width="20" height="1"></rect><rect x="11" y="34.5" width="20" height="1"></rect><path d="M38.085,14.116L27.458,3.843C26.898,3.302,26.151,3,25.373,3H6C4.343,3,3,4.343,3,6v38c0,1.657,1.343,3,3,3h30 c1.657,0,3-1.343,3-3V16.273C39,15.459,38.67,14.681,38.085,14.116z M27.586,6.748L35.088,14h-7.502V6.748z M37,44 c0,0.551-0.449,1-1,1H6c-0.551,0-1-0.449-1-1V6c0-0.551,0.449-1,1-1h19.373c0.074,0,0.142,0.026,0.213,0.041V14c0,1.103,0.897,2,2,2 h9.358C36.97,16.089,37,16.178,37,16.273V44z"></path></svg> </div> <div class="menu__item__title trY--s">Сопроводительное письмо</div> </div> </div> <div class="menu__item col-md-12"> <div if="{!app.demo}" class="menu__item__button"> <div onclick="{onPreview}" onupdate="none" class="menu__item__icon"> <svg data-icon="preview" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 256 320" enable-background="new 0 0 256 256" xml:space="preserve"><g><path d="M179.974,219H52.184c-5.276,0-9.184-3.855-9.184-9.131V40.278C43,35.001,46.908,31,52.184,31h95.882 c3.621,1,5.934,4.023,5.934,7.957v1.189v6.824v12.394c0,5.478,4.789,9.635,10.265,9.635h8.783h6.739h1.275 c4.339,0,7.937,3.517,8.937,7.703v11.122c3.29,2.969,6.298,6.241,9,9.761V70.251c0-5.248-1.876-10.222-5.513-14.005l-27.83-29.013 C161.849,23.272,156.576,21,151.08,21H52.184C41.553,21,33,29.647,33,40.278v169.59C33,220.5,41.553,229,52.184,229h127.79 c5.848,0,11.008-2.581,14.478-6.665l-6.704-6.704C185.865,217.719,183.01,219,179.974,219z"></path><path d="M234.437,221.833l-41.903-41.902c8.024-10.671,12.785-23.938,12.785-38.318c0-35.246-28.573-63.819-63.82-63.819 c-35.246,0-63.818,28.573-63.818,63.819c0,35.246,28.572,63.818,63.818,63.818c13.652,0,26.294-4.301,36.673-11.603l42.135,42.135 c1.951,1.951,4.508,2.927,7.065,2.927s5.114-0.976,7.065-2.927C238.339,232.062,238.339,225.735,234.437,221.833z M141.499,188.758 c-26.036,0-47.146-21.108-47.146-47.146c0-26.038,21.109-47.146,47.146-47.146c26.038,0,47.147,21.108,47.147,47.146 C188.646,167.65,167.537,188.758,141.499,188.758z"></path><path d="M115,121v8h63.37c-0.961-3-2.234-5-3.785-8H115z"></path><path d="M115,147h65.015c0.282-1,0.431-3.824,0.431-5.793c0-0.741-0.025-1.207-0.066-2.207H115V147z"></path><path d="M115,166h57.059c1.934-3,3.58-5,4.888-8H115V166z"></path></g></svg> </div> <div class="menu__item__title">Предпросмотр</div> </div> <div if="{app.demo}" class="menu__item__button"> <a href="/?signup&plan=premium" class="menu__item__icon"> <svg data-icon="addUser" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 100 125" x="0px" y="0px"><path d="M71.79,34.25A21.66,21.66,0,1,0,40.11,53.44a33.56,33.56,0,0,0-23.48,32,2,2,0,0,0,4,0,29.53,29.53,0,0,1,29.5-29.5A21.68,21.68,0,0,0,71.79,34.25ZM50.14,51.91A17.66,17.66,0,1,1,67.79,34.25,17.68,17.68,0,0,1,50.14,51.91ZM85.23,72a2,2,0,0,1-2,2H71.79V85.41a2,2,0,1,1-4,0V74H56.36a2,2,0,0,1,0-4H67.79V58.55a2,2,0,0,1,4,0V70H83.23A2,2,0,0,1,85.23,72Z"></path></svg> </a> <div class="menu__item__title">Создать аккаунт</div> </div> </div> </div> </div>',"",'class="menu__items"',function(e){var t=this;t.section="contacts",t.open={contacts:function(){$Menu.sections.slider.nav("contacts"),t.open._update("contacts")},settings:function(){$Menu.sections.slider.nav("settings"),t.open._update("settings")},coverletter:function(){$Menu.sections.slider.nav("coverletter"),t.open._update("coverletter")},_update:function(e){t.update({section:e})}},t.onPreview=function(){app.demo||(app.request("setResume",{data:$store.resume.get()},{loader:!1,notify:!1}),window.open("/resume/"+$store.resume.get("_id"),"_blank"))}}),riot.tag2("menu-opener",'<svg class="menu__opener__icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 43 47.50125" enable-background="new 0 0 43 38.001" xml:space="preserve"><g><g><path class="menu__opener__icon__color" d="M4,8h35c2.209,0,4-1.792,4-4c0-2.211-1.789-4-3.998-4H4C1.792,0,0,1.789,0,4C0,6.208,1.792,8,4,8z M39,14.999H4c-2.209,0-4,1.791-4,4.002c0,2.209,1.792,4,4,4h35c2.209,0,4-1.791,4-4C43,16.79,41.209,14.999,39,14.999z M39,29.999H4c-2.209,0-4,1.791-4,4.002c0,2.209,1.792,4,4,4h35c2.209,0,4-1.791,4-4C43,31.79,41.209,29.999,39,29.999z"></path></g></g></svg> <svg class="menu__close" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="menu__close__color" d="M25,3C12.869,3,3,12.869,3,25s9.869,22,22,22s22-9.869,22-22S37.131,3,25,3z M34.207,32.793 c0.391,0.391,0.391,1.023,0,1.414C34.012,34.402,33.756,34.5,33.5,34.5s-0.512-0.098-0.707-0.293L25,26.414l-7.793,7.793 C17.012,34.402,16.756,34.5,16.5,34.5s-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414L23.586,25l-7.793-7.793 c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0L25,23.586l7.793-7.793c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414 L26.414,25L34.207,32.793z"></path> </svg>',"",'onclick="{open}" onupdate="none" class="menu__opener"',function(e){this.open=function(){$Menu.show()}}),riot.tag2("menu-section-contacts",'<div class="rows section__slider__item__content"> <div if="{app.device.isPhone}" class="row mt--m mb30"> <div class="col-md-24 flex-centered"> <div onclick="{open.changePhoto}" onupdate="none" if="{$store.resume.get(\'commons\', \'photo\')}" class="user__photo"> <div class="user__photo__image" riot-style="background-image:url({$store.resume.get(\'commons\', \'photo\')})"></div> </div> <div onclick="{open.changePhoto}" onupdate="none" if="{!$store.resume.get(\'commons\', \'photo\')}" class="user__photo" data-place="true"> <span class="user__photo__text">загрузить свою фотографию</span> </div> </div> </div> <div class="row mb-m"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="title">Имя</span> </div> <div class="col-sm-16"> <ui-input placeholder="Имя" update="name" cursor="{data.select()}" size="l"></ui-input> </div> </div> <div class="row mb-m"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="title">Фамилия</span> </div> <div class="col-sm-16"> <ui-input placeholder="Фамилия" update="surname" cursor="{data.select()}" size="l"></ui-input> </div> </div> <div class="row mb-s"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="title">Дата рождения</span> </div> <div class="col-xs-8 col-sm-4"> <ui-select update="day" cursor="{data.select(\'birthday\')}" items="{_.range(1, 32)}" size="l" short></ui-select> </div> <div class="col-xs-16 col-sm-6 xs-mb-m"> <ui-select update="month" cursor="{data.select(\'birthday\')}" items="{$store.month.getItems($store.resume.get(⁗lang⁗))}" size="l" short></ui-select> </div> <div class="col-xs-24 col-sm-6"> <ui-select update="year" cursor="{data.select(\'birthday\')}" items="{_.range(1940, new Date().getFullYear() + 1)}" size="l" short></ui-select> </div> </div> <div class="row mb-m"> <div class="hidden-xs col-sm-8 pr-m"></div> <div class="col-xs-24 col-sm-16 text-left pt-s"> <ui-checkbox update="hidden" cursor="{data.select(\'birthday\')}" title="Показывать только возраст" size="l" theme="blue"></ui-checkbox> </div> </div> <div class="row mb-l pt-xxs"> <div class="hidden-xs col-sm-8 pt-s pr-m"> <span class="title">Ваш пол</span> </div> <div class="col-xs-12 col-sm-7 text-left pt-s"> <ui-checkbox update="gender" cursor="{data.select()}" group="gender" title="Мужской" size="l" theme="blue" value="male"></ui-checkbox> </div> <div class="col-xs-12 col-sm-6 text-left pt-s"> <ui-checkbox update="gender" cursor="{data.select()}" group="gender" title="Женский" size="l" theme="blue" value="female"></ui-checkbox> </div> </div> <div class="row mb-m xs-pb-xxs"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="visible-md visible-lg title">Электронная почта</span> <span class="visible-sm title">Эл. почта</span> </div> <div class="col-sm-16"> <ui-input update="email" cursor="{data.select(\'contacts\')}" size="l"></ui-input> </div> </div> <div class="row mb-m xs-pb-xxs"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="visible-md visible-lg title">Город проживания</span> <span class="visible-sm title">Город</span> </div> <div class="col-xs-24 col-sm-16"> <ui-input update="city" value="name" cursor="{data.select(\'contacts\')}" autosuggest="getSuggestCity" autosuggestsize="l" dataonlysuggest="true" size="l"></ui-input> </div> </div> <div class="row mb-m xs-pb-xxs"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="visible-md visible-lg title">Мобильный телефон</span> <span class="visible-sm title">Телефон</span> </div> <div class="col-xs-24 col-sm-16"> <ui-input-phone update="phone" items="{$store.countryCode}" cursor="{data.select(\'contacts\')}" size="l"></ui-input-phone> </div> </div> <div class="row mb-m xs-pb-xxs"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="title">Skype</span> </div> <div class="col-xs-24 col-sm-16"> <ui-input update="skype" cursor="{data.select(\'contacts\')}" size="l"></ui-input> </div> </div> <div class="row mb-m xs-pb-xxs"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="title">Предпочитаемый вид связи</span> </div> <div class="col-xs-24 col-sm-16"> <ui-select update="primary" cursor="{data.select(\'contacts\')}" items="{$store.dictionary.get(⁗contactsPrimary⁗)}" size="l"></ui-select> </div> </div> <div class="row"> <div class="col-xs-24 {app.device.isPhone ? \'flex-centered\' : \'text-right\'}"> <button onclick="{onCancel}" onupdate="none" class="btn btn-{app.device.isPhone ? \'l2 h55\' : \'xl\'} cancel mr-xs xs-plr-m">Отменить</button> <button name="btnSave" onclick="{onSave}" onupdate="none" class="btn btn-{app.device.isPhone ? \'l2 h55\' : \'xl\'} success">Сохранить</button> </div> </div> </div>',"",'class="section__slider__item"',function(e){var t=this;t.btnSave=$$(t.btnSave),t.data=new Baobab($store.resume.select("commons").deepClone()),t.open={changePhoto:function(){$Editable.show("photo",{title:"Ваша фотография",callback:function(e){app.demo?($store.resume.select("commons","photo").set(e),t.update(),$Resume.sections.photo.update()):app.request("setResumePhoto",{id:$store.resume.get("_id"),image:e},{loader:!1}).then(function(e){e&&e.image&&($store.resume.select("commons","photo").set(e.image+"?"+_.newId()),t.update(),$Resume.sections.photo.update())})}})}},t.onSave=function(){t.btnSave.addClass("btn-loading"),setTimeout(function(){$store.resume.select("commons").set(t.data.get()),app.request("setResume",{data:{_id:$store.resume.get("_id"),commons:$store.resume.get("commons")}},{loader:!1}).then(function(){$Resume.update(),$Resume.one("updated",function(){$afterlag.run(function(){t.btnSave.removeClass("btn-loading"),$Menu.hide()},{iterations:2})})},function(){t.btnSave.removeClass("btn-loading")})},5)},t.onCancel=function(){$Menu.hide()}}),riot.tag2("menu-section-coverletter",'<div class="rows section__slider__item__content"> <div class="row xs-mb-m"> <div class="col-xs-17 col-sm-12 pr-m"> <span class="title black">Активный</span> </div> <div class="col-xs-7 col-sm-12"> <ui-switcher commit="{autoCommit.visible}" value="{active}"></ui-switcher> </div> </div> <div class="pos-rel pt-m xs-pt-xs xs-pb-xxs"> <div class="row mb-m"> <div class="hidden-xs col-sm-8 pt-xs pr-m"> <span class="title black">Цветовая схема</span> </div> <div class="col-xs-24 col-sm-16"> <span class="input-title">Цветовая схема</span> <ui-select update="color" cursor="{data.select()}" items="{$store.coverletter.get()}" size="l"></ui-select> </div> </div> <div class="row mb-m"> <div class="col-xs-24"> <ui-textarea update="text" placeholder="Резюме отражает ваш опыт, а сопроводительное письмо должно отражать вашу мотивацию, объяснять, почему вы хотите попасть в ту или иную компанию и аргументировать, почему именно вы нужны работодателю. Этот текст будет видет в режиме просмотра вашего резюме." cursor="{data.select()}" size="xl"></ui-textarea> </div> </div> <div class="pos-abs-full zIndex-1 bg-white transition-s {active ? \'opacity-0 pointerEvents-none\' : \'opacity-75\'}"></div> </div> <div class="row"> <div class="col-md-24 {app.device.isPhone ? \'flex-centered\' : \'text-right\'}"> <button onclick="{onCancel}" onupdate="none" class="btn btn-{app.device.isPhone ? \'l2 h55\' : \'xl\'} cancel mr-xs xs-plr-m">Отменить</button> <button name="btnSave" onclick="{onSave}" onupdate="none" class="btn btn-{app.device.isPhone ? \'l2 h55\' : \'xl\'} success">Сохранить</button> </div> </div> </div>',"",'class="section__slider__item"',function(e){var t=this;t.btnSave=$$(t.btnSave),t.active=$store.resume.select("sections").get({name:"coverletter"}).active,t.data=new Baobab($store.resume.select("coverletter").clone()),t.autoCommit={visible:function(e){t.update({active:e})}},t.onSave=function(){t.btnSave.addClass("btn-loading"),setTimeout(function(){$store.resume.select("coverletter").set(t.data.get()),$store.resume.select("sections",{name:"coverletter"}).set("active",t.active),app.request("setResume",{data:{_id:$store.resume.get("_id"),coverletter:$store.resume.get("coverletter"),sections:$store.resume.get("sections")}},{loader:!1}).then(function(){$afterlag.run(function(){t.btnSave.removeClass("btn-loading"),$Menu.hide()},{iterations:2})},function(){t.btnSave.removeClass("btn-loading")})},5)},t.onCancel=function(){$Menu.hide()}}),riot.tag2("menu-section-settings",'<div class="rows section__slider__item__content"> <div class="row mb-m"> <div class="hidden-xs col-sm-12 pt-xs pr-m"> <span class="title">Язык резюме</span> </div> <div class="col-xs-24 col-sm-12 select-uppercase"> <span class="input-title">Язык резюме</span> <ui-select update="lang" cursor="{$store.resume.select()}" items="{$store.langs.get()}" size="l"></ui-select> </div> </div> <div class="row mb-m"> <div class="hidden-xs col-sm-12 pt-xs pr-m"> <span class="title">Семейство шрифта</span> </div> <div class="col-xs-24 col-sm-12 select-uppercase"> <span class="input-title">Семейство шрифта</span> <ui-select update="font" cursor="{$State.select()}" items="{$store.fonts.getItems(⁗ru⁗)}" size="l"></ui-select> </div> </div> <div class="row mb-m xs-pb-xxs"> <div class="hidden-xs col-sm-12 pt-xs pr-m"> <span class="title">Цветовая схема</span> </div> <div class="col-xs-24 col-sm-12 select-uppercase"> <span class="input-title">Цветовая схема</span> <ui-select update="color" cursor="{$State.select()}" items="{$store.colors.getItems(⁗ru⁗)}" size="l"></ui-select> </div> </div> <div class="row h50 mb-m"> <div class="col-xs-17 col-sm-12 pt-xs pr-m"> <span class="title">Получать лайки</span> </div> <div class="col-xs-7 col-sm-12 pt-xs"> <ui-switcher update="active" cursor="{$store.resume.select(⁗config⁗, ⁗likes⁗)}"></ui-switcher> </div> </div> <div class="row h50 mb-m"> <div class="col-xs-17 col-sm-12 pt-xs pr-m"> <span class="title">Показывать лайки</span> </div> <div class="col-xs-7 col-sm-12 pt-xs"> <ui-switcher update="count" cursor="{$store.resume.select(⁗config⁗, ⁗likes⁗)}"></ui-switcher> </div> </div> <div class="row h50 mb-m hidden-xs"> <div class="col-xs-17 col-sm-12 pt-xs pr-m"> <span class="title">Оживить резюме анимацией</span> </div> <div class="col-xs-7 col-sm-12 pt-xs"> <ui-switcher update="animate" cursor="{$store.resume.select(⁗config⁗)}"></ui-switcher> </div> </div> <div class="row mb-m"> <div class="hidden-xs col-sm-12 pt-xs pr-m"> <span class="title">Фотофильтр</span> </div> <div class="col-xs-24 col-sm-12 select-uppercase"> <span class="input-title">Фотофильтр</span> <ui-select update="filter" cursor="{$State.select(⁗photo⁗)}" items="{$store.photoFilter.get()}" size="l"></ui-select> </div> </div> <div class="row h50 mb-m xs-pb-xxs"> <div class="col-xs-17 col-sm-12 pt-xs pr-m"> <span class="title">Киноэффект на фото</span> </div> <div class="col-xs-7 col-sm-12 pt-xs"> <ui-switcher update="noise" cursor="{$State.select(⁗photo⁗)}"></ui-switcher> </div> </div> <div class="row"> <div class="col-xs-24 {app.device.isPhone ? \'flex-centered\' : \'text-right\'}"> <button onclick="{onCancel}" onupdate="none" class="btn btn-{app.device.isPhone ? \'l2 h55\' : \'xl\'} cancel mr-xs xs-plr-m">Отменить</button> <button name="btnSave" onclick="{onSave}" onupdate="none" class="btn btn-{app.device.isPhone ? \'l2 h55\' : \'xl\'} success">Сохранить</button> </div> </div> </div>',"",'class="section__slider__item"',function(e){var t=this;t.btnSave=$$(t.btnSave),t.onSave=function(){t.btnSave.addClass("btn-loading"),setTimeout(function(){app.request("setResume",{data:{_id:$store.resume.get("_id"),lang:$store.resume.get("lang"),config:$store.resume.get("config")}},{loader:!1}).then(function(){$afterlag.run(function(){t.btnSave.removeClass("btn-loading"),$Menu.hide()},{iterations:2})},function(){t.btnSave.removeClass("btn-loading")})},5)},t.onCancel=function(){$Menu.hide()}}),riot.tag2("menu-sections",'<div class="section__slider__navbar menu__sections__navbar"></div> <div class="section__slider__container"> <menu-section-contacts></menu-section-contacts> <menu-section-settings></menu-section-settings> <menu-section-coverletter></menu-section-coverletter> </div>',"",'class="menu__sections"',function(e){var t=this,s=$$(t.root);t.items=[{_id:"contacts",title:"Контактные данные"},{_id:"settings",title:"Настройки"},{_id:"coverletter",title:(app.device.isPhone?"Сопровод-ное":"Сопроводительное")+" письмо"}],t.on("before-mount",function(){t.contacts=t.tags["menu-section-contacts"],t.settings=t.tags["menu-section-settings"],t.coverletter=t.tags["menu-section-coverletter"]}),t.on("mount",function(){app.device.isPhone&&s.on("swipeRight",function(){$Menu.hide()}),$afterlag.run(function(){t.slider=new app.plugins.scroll.slider(s,{items:t.items,scroll:!0}),t.slider.init(),app.device.isPhone||t.slider.on("change",function(e,t){$Menu.items&&$Menu.items.update({section:e})});
})}),t.refresh=function(){t.contacts.data.set($store.resume.select("commons").deepClone()),t.coverletter.data.set($store.resume.select("coverletter").deepClone()),t.coverletter.active=$store.resume.select("sections").get({name:"coverletter"}).active,t.contacts.update(),t.coverletter.update()}}),riot.tag2("section-info",'<div class="info-opener" onclick="{show}"> <svg class="info-opener-icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="info-opener-icon-color" d="M 25 0 C 11.204726 0 0 11.204726 0 25 C 0 38.795274 11.204726 50 25 50 C 38.795274 50 50 38.795274 50 25 C 50 11.204726 38.795274 0 25 0 z M 25 2 C 37.714394 2 48 12.285606 48 25 C 48 37.714394 37.714394 48 25 48 C 12.285606 48 2 37.714394 2 25 C 2 12.285606 12.285606 2 25 2 z M 23.78125 12.90625 C 23.56625 12.90625 23.4375 13.035 23.4375 13.25 L 23.4375 15.875 C 23.4375 16.09 23.56525 16.25 23.78125 16.25 L 26.21875 16.25 C 26.43275 16.25 26.5625 16.09 26.5625 15.875 L 26.5625 13.25 C 26.5625 13.035 26.43375 12.90625 26.21875 12.90625 L 23.78125 12.90625 z M 23.71875 20.125 C 23.587969 20.175578 23.5 20.3075 23.5 20.46875 L 23.5 36.9375 C 23.5 37.1525 23.62875 37.28125 23.84375 37.28125 L 26.15625 37.28125 C 26.37125 37.28125 26.5 37.1535 26.5 36.9375 L 26.5 20.46875 C 26.5 20.25375 26.37225 20.125 26.15625 20.125 L 23.84375 20.125 C 23.79025 20.125 23.762344 20.108141 23.71875 20.125 z"></path> </svg> <svg class="info-opener-close" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="info-opener-close-color" d="M54.08,49.999l17.537-17.535c1.127-1.127,1.127-2.953,0-4.08c-1.127-1.127-2.953-1.127-4.08,0L50,45.919 L32.463,28.384c-1.127-1.127-2.953-1.127-4.08,0c-1.127,1.127-1.127,2.953,0,4.08L45.92,49.999L28.383,67.536 c-1.127,1.127-1.127,2.953,0,4.08c1.127,1.127,2.953,1.127,4.08,0L50,54.079l17.537,17.537c0.564,0.564,1.302,0.845,2.04,0.845 s1.476-0.282,2.04-0.845c1.127-1.127,1.127-2.953,0-4.08L54.08,49.999z"></path></svg> </div> <div name="wrapper" class="info-wrapper"> <div class="info-photo" riot-style="background-image:url(\'{$resume.commons.photo}\')"></div> <div class="info-name">{$resume.commons.name}{$resume.commons.surname ? ⁗ ⁗ + $resume.commons.surname : null}, <span if="{$store.resume.get(⁗sections⁗, {⁗name⁗: ⁗salary⁗}).active}" class="info-salary">{_.numberFormat($resume.salary.currency == ⁗1⁗ ? $resume.salary.amount / 1000 : $resume.salary.amount, 0, ⁗.⁗, ⁗.⁗)}{K : $resume.salary.currency == ⁗1⁗} {$store.currency.getTitleById($resume.salary.currency)}</span></div> <div class="info-city">{$resume.commons.birthday.hidden ? $store.resume.take.birthday.age() : $store.resume.take.birthday.date()}, {$resume.commons.contacts.city.name}, {$store.resume.take.relocation()}</div> <div class="info-email" if="{$resume.commons.contacts.email}"><a href="mailto:{$resume.commons.contacts.email}">{$resume.commons.contacts.email}</a></div> <div class="info-phone" if="{$resume.commons.contacts.phone.number}"><a href="{$store.resume.take.phoneLink()}">{$store.resume.take.phone()}</a></div> <div class="info-post" if="{$resume.post}">{$resume.post}</div> <div class="info-social"> <ux-social-items classname="social {app.device.isPhone ? \'social-s\' : \'social-xs\'}"></ui-social-items> </div> <div class="info-close" onclick="{hide}"></div> </div>',"",'class="info" data-open="{active}"',function(e){var t=this;t.active=!1,t.on("mount",function(){app.device.isMobile&&$$(t.wrapper).on("swipeLeft",function(){t.hide()})}),t.show=function(){t.update({active:!app.device.isPhone||!t.active})},t.hide=function(){t.update({active:!1})}}),riot.tag2("section-nav",'<div name="container" class="container nav__container"> <div onclick="{onChange}" each="{item in items}" no-reorder class="col-md-3"> <div class="nav__item" data-active="{item.step == step}" data-step="{item.step}">{item.title}</div> </div> <div name="slider" class="nav__slider"></div> </div>',"",'class="nav"',function(e){var t=this,s=$$(t.root),i=$$(t.container);t.step=1,t.left=0,t.sliding=!1,t.on("mount",function(){var e=_.debounce(t.onScroll,50);app.$dom.window.on("scroll",function(){_.raf(e)}),t.on("updated",function(){t.items&&t.onSlide(t.step)})}),t.refresh=function(){app.device.isPhone||t.update({items:$Resume.screenItems})},t.onChange=function(){t.step=this.item.step;var e=Math.abs(this.item.offset-app.$dom.document.scrollTop()),s=e/5;s=s<500?500:s,t.onSlide(t.step,s),app.$dom.body.animate({scrollTop:this.item.offset},s)},t.onSlide=function(e,a){t.sliding=!0;var o=s.find(".nav__item[data-step='"+e+"']");return!o.length||o.length&&t.left==o.offset().left?void(t.sliding=!1):(t.left=o.offset().left,t.slider.style[app.prefixed["transition-duration"]]=a?a+"ms":"",t.slider.style[app.prefixed.transform]="translate3d("+(t.left-i.offset().left)+"px, 0, 0)",t.slider.style.width=o.width()+"px",void _.onEndTransition(t.slider,function(){t.sliding=!1,t.onScroll()}))},t.onScroll=function(){if(!t.sliding){var e=app.$dom.document.scrollTop(),s=app.sizes.height/1.3,i=_.findWhere(t.items,{step:t.step}),a=_.findWhere(t.items,{step:t.step+1}),o=t.step>1?_.findWhere(t.items,{step:t.step-1}):null;if(a&&e+s>a.offset){var n=!1;_.each(_.sortArray(t.items,"step","desc"),function(i){n||e+s>i.offset&&(n=!0,t.update({step:i.step}))})}else if(o&&e+s<i.offset){var n=!1;_.each(t.items,function(i){n||e-s<i.offset&&(n=!0,t.update({step:i.step}))})}}}}),riot.tag2("salary-graph",'<div onclick="{hide}" onupdate="none" class="button__close opacity-100" data-color="gray"></div> <div class="salary-graph-title"> <div class="salary-graph-title-front"> {$i18n(⁗resume.premium.template.Desired salary growth schedule⁗)} </div> <div if="{app.demo}" class="salary-graph-title-back"> {$i18n(⁗resume.premium.template.You can compose your own schedule⁗)} </div> </div> <div class="salary-graph-content"> <div each="{item, i in _.copyArray($resume.salary.graph.items).reverse()}" no-reorder class="salary-graph-item"> <div class="salary-graph-item-month">{get.month(i)} месяц</div> <div class="salary-graph-item-amount" riot-style="margin-right:{get.padding(item)}%">{_.numberFormat($resume.salary.currency == ⁗1⁗ ? item / 1000 : item, 0, ⁗.⁗, ⁗.⁗)}{K : $resume.salary.currency == ⁗1⁗} <span if="{$resume.salary.currency != ⁗1⁗}">{$store.currency.getTitleById($resume.salary.currency)}</span> <svg if="{$resume.salary.currency == ⁗1⁗}" class="salary-graph-item-amount-ruble" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="salary-graph-item-amount-ruble-color" d="M58.464,57.316c8.139,0,14.264-2.073,18.374-6.218C80.945,46.951,83,41.146,83,33.674 c0-7.468-2.055-13.277-6.163-17.421c-4.109-4.146-10.235-6.22-18.374-6.22H27.771v38.32H17.267v8.963h10.504v8.544H17.267v8.962 h10.504v15.211h10.644V74.822h28.746V65.86H38.415v-8.544H58.464z M38.415,18.998h16.462c6.05,0,10.477,1.251,13.277,3.754 c2.803,2.503,4.203,6.145,4.203,10.922c0,4.782-1.4,8.424-4.203,10.925c-2.8,2.503-7.227,3.754-13.277,3.754H38.415V18.998z"></path></svg> </div> </div> </div>',"",'class="section-hidden salary-graph" data-pos="right" data-short="{!app.device.isPhone}" data-open="{active}"',function(e){var t=this,s=$$(t.root);t.active=!1,t.on("update",function(){t.max=_.max($resume.salary&&$resume.salary.graph&&$resume.salary.graph.items?$resume.salary.graph.items:5e4)}),t.on("mount",function(){app.device.isMobile&&s.on("swipeRight",function(){t.hide()})}),t.get={amount:function(){return"1"==$resume.salary.currency?this.item/1e3:this.item},month:function(e){return 0==e?"24":1==e?"18":2==e?"12":3==e?"6":4==e?"3":5==e?"1":void 0},padding:function(e){return 75*(1-e/t.max)}},t.show=function(){t.infoActive=$Info.active,$root.trigger("mode","hidden",!0),t.update({active:!0}),t.infoActive||app.device.isPhone||(!app.device.isMobile||app.device.isTablet&&"landscape"==app.device.orientation)&&_.onEndTransition(t.root,function(){$Info.show()})},t.hide=function(){$root.trigger("mode","hidden",!1),t.update({active:!1}),t.infoActive||app.device.isPhone||$Info.hide()}}),riot.tag2("salary-graph-opener",'<div if="{$resume.salary.currency != ⁗1⁗}" class="salary-graph-opener-valuta">{$store.currency.getTitleById($resume.salary.currency)}</div> <svg if="{$resume.salary.currency == ⁗1⁗}" class="salary-graph-opener-ruble" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"> <path class="salary-graph-opener-ruble-color" d="M 11 6 L 11 7 L 11 16 L 9 16 L 9 18 L 11 18 L 11 20 L 9 20 L 9 22 L 11 22 L 11 26 L 13 26 L 13 22 L 18 22 L 18 20 L 13 20 L 13 18 L 19 18 C 22.301625 18 25 15.301625 25 12 C 25 8.6983746 22.301625 6 19 6 L 12 6 L 11 6 z M 13 8 L 19 8 C 21.220375 8 23 9.7796254 23 12 C 23 14.220375 21.220375 16 19 16 L 13 16 L 13 8 z"></path> </svg>',"",'if="{$resume.salary && $resume.salary.graph.active}" onclick="{openGraph}" onupdate="none" class="salary-graph-opener"',function(e){this.openGraph=function(){$Salary.graph.show()}}),riot.tag2("section-sendmail",'<div class="sendmail-button" onclick="{shift}" onupdate="none"> <icon-email color="none"></icon-email> </div>',"",'class="sendmail"',function(e){var t=this;t.contactsOffset=null,t.on("mount",function(){app.device.isPhone||$afterlag.run(function(){var e=$Resume.el.find(".screen[data-section='contacts']");t.contactsOffset=e?e.offset().top:null})}),t.shift=function(){if(app.device.isPhone)$Resume.screens.nav("feedback");else{if(!t.contactsOffset)return;var e=Math.abs(t.contactsOffset-app.$dom.document.scrollTop()),s=e/5;s=s<500?500:s,app.device.isMobile?app.$dom.body.scrollTop(t.contactsOffset):app.$dom.body.animate({scrollTop:t.contactsOffset},s)}}});
riot.tag2("editable-courses",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content col-lg-offset-1 {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="row mb-m"> <div class="col-md-12"> <div if="{!$Editable.component.editing}" class="pos-rel"> <span class="input-title">название секции</span> <input oninput="{$Editable.component.autoCommit}" class="input {app.device.isPhone ? \'input-l\' : \'input-xl\'}" data-name="title" name="title_data" type="text" placeholder="Название секции" autocomplete="off" value="{data && data.title ? data.title : $store.resume.placeholder.courses.title()}"> </div> <div if="{$Editable.component.editing}" class="title title-xl">Редактирование</div> </div> <div class="col-md-12 xs-mt-m sm-mt-m target-visible"> <div if="{!$Editable.component.editing}"> <ui-button-plus onclick="{$Editable.component.createItem}" content="Место обучения" size="{app.device.isPhone ? \'l\' : \'xl\'}"></ui-button-plus> </div> <div if="{$Editable.component.editing}" class="row"> <div class="col-xs-12"> <ui-button-edit onclick="{$Editable.component.saveItem}" content="Сохранить" size="l"></ui-button-edit> </div> <div class="col-xs-12"> <button onclick="{$Editable.component.cancelEditing}" class="btn btn-l btn-upper w100p text-center borderRadius-m" type="button">Отменить</button> </div> </div> </div> </div> <div if="{$Editable.component.editing}" class="row mb-m target-visible"> <div class="col-xs-24"> <editable-courses-item item="{$Editable.component.editing}"></editable-courses-item> </div> </div> <div if="{!$Editable.component.editing}" class="row mb-m mt-l"> <div class="col-xs-24"> <div class="pos-rel"> <span class="input-title">дополняющий текст</span> <textarea-expand onclick="{$Editable.component.textEdit}" placeholder="Дополняющий текст о законченных курсах" data-name="text"></textarea-expand> <textarea oninput="{$Editable.component.autoCommit}" class="textarea textarea-xl" data-name="text" name="text_data" autocomplete="off" placeholder="Дополняющий текст о законченных курсах">{data.text}</textarea> </div> </div> </div> <div class="row target-hidden"> <div each="{item, i in data.items}" no-reorder class="col-md-12 mb-m"> <div class="pos-rel"> <div class="input-group-addon addons"> <input-addon-edit onclick="{$Editable.component.editItem}"></input-addon-edit> <input-addon-remove onclick="{$Editable.component.removeItem}"></input-addon-remove> </div> <div class="input input-l">{item.title}</div> </div> </div> </div> </div> <div if="{!$Editable.component.editing}" class="section__editable__footer text-center col-md-offset-1 col-lg-offset-2"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-24 col-md-22 col-lg-18 centered section__editable__container" data-editing="courses"',function(t){}),riot.tag2("editable-courses-item",'<div class="row mb-m mt-m"> <div class="col-md-6"> <div class="pos-rel"> <span class="input-title">год окончания</span> <div class="select select-xl"> <select onchange="{$Editable.component.autoCommitItems}" data-name="year"> <option each="{item in _.range(1940, new Date().getFullYear() + 1)}" no-reorder value="{item}" __selected="{editing.year == item}">{item}</option> </select> </div> </div> </div> <div class="col-md-18 xsm-mt-m"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-xl" type="text" placeholder="Название площадки / школы" data-name="name" autocomplete="off" value="{opts.item.name}"> </div> </div> <div class="row mb-m"> <div class="col-md-24"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Название курса" data-name="title" autocomplete="off" value="{opts.item.title}"> </div> </div> <div class="hr pt-m"></div>',"","",function(t){this.on("update",function(){this.editing=this.opts.item})}),riot.tag2("editable-education",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content col-lg-offset-1 {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="row mb-m"> <div class="{$Editable.component.editing ? \'col-md-12\' : \'col-md-24 mb-m\'}"> <div if="{!$Editable.component.editing}" class="pos-rel"> <span class="input-title">название секции</span> <input oninput="{$Editable.component.autoCommit}" class="input {app.device.isPhone ? \'input-l\' : \'input-xl\'}" data-name="title" name="title_data" type="text" placeholder="Название секции" autocomplete="off" value="{data && data.title ? data.title : $store.resume.placeholder.education.title()}"> </div> <div if="{$Editable.component.editing}" class="title title-xl">Редактирование</div> </div> <div if="{!$Editable.component.editing}" class="col-md-12"> <div class="pos-rel xs-mt-l"> <span class="input-title">уровень образования</span> <div class="select select-xl"> <select onchange="{$Editable.component.autoCommit}" data-name="level"> <optgroup label="Высшее образование"> <option if="{item.parent == ⁗higher⁗ || item._id == ⁗higher⁗}" each="{item in $store.education.getItems()}" value="{item._id}" no-reorder __selected="{parent.data.level == item._id}">{item.title}</option> </optgroup> <optgroup label="Среднее образование"> <option if="{item.parent == ⁗0⁗ && item._id != ⁗higher⁗}" each="{item in $store.education.getItems()}" value="{item._id}" no-reorder __selected="{parent.data.level == item._id}">{item.title}</option> </optgroup> </select> </div> </div> </div> <div class="col-md-12 xs-mt-m sm-mt-m target-visible"> <div if="{!$Editable.component.editing}"> <ui-button-plus onclick="{$Editable.component.createItem}" content="Место обучения" size="{app.device.isPhone ? \'l\' : \'xl\'}"></ui-button-plus> </div> <div if="{$Editable.component.editing}" class="row"> <div class="col-xs-12"> <ui-button-edit onclick="{$Editable.component.saveItem}" content="Сохранить" size="l"></ui-button-edit> </div> <div class="col-xs-12"> <button onclick="{$Editable.component.cancelEditing}" class="btn btn-l btn-upper w100p text-center borderRadius-m" type="button">Отменить</button> </div> </div> </div> </div> <div if="{$Editable.component.editing}" class="row mb-m target-visible"> <div class="col-xs-24"> <editable-education-item item="{$Editable.component.editing}"></editable-education-item> </div> </div> <div if="{!$Editable.component.editing}" class="row mb-m mt-l"> <div class="col-xs-24"> <div class="pos-rel"> <span class="input-title">дополняющий текст</span> <textarea-expand onclick="{$Editable.component.textEdit}" placeholder="Дополняющий текст о законченном образовании" data-name="text"></textarea-expand> <textarea oninput="{$Editable.component.autoCommit}" class="textarea textarea-xl" data-name="text" name="text_data" autocomplete="off" placeholder="Дополняющий текст о законченном образовании">{data.text}</textarea> </div> </div> </div> <div class="row target-hidden"> <div each="{item, i in data.items}" no-reorder class="col-md-12 mb-m"> <div class="pos-rel"> <div class="input-group-addon addons"> <input-addon-edit onclick="{$Editable.component.editItem}"></input-addon-edit> <input-addon-remove onclick="{$Editable.component.removeItem}"></input-addon-remove> </div> <div class="input input-l">{item.title}</div> </div> </div> </div> </div> <div if="{!$Editable.component.editing}" class="section__editable__footer text-center"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-24 col-md-22 col-lg-19 centered section__editable__container" data-editing="education"',function(t){}),riot.tag2("editable-education-item",'<div class="row mb-m mt-m"> <div class="col-md-6"> <div class="pos-rel xs-mt-l"> <span class="input-title">год окончания</span> <div class="select select-xl"> <select onchange="{$Editable.component.autoCommitItems}" data-name="year"> <option each="{item in _.range(1940, new Date().getFullYear() + 1)}" no-reorder value="{item}" __selected="{editing.year == item}">{item}</option> </select> </div> </div> </div> <div class="col-md-18 xsm-mt-m"> <div class="pos-rel"> <span class="input-title">название заведения</span> <editable-education-item-name item="{opts.item}"></editable-education-item-name> </div> </div> </div> <div class="row mb-m"> <div class="col-md-12"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Факультет" data-name="faculty" autocomplete="off" value="{opts.item.faculty}"> </div> <div class="col-md-12 xsm-mt-m"> <editable-education-item-speciality item="{opts.item}"></editable-education-item-speciality> </div> </div> <div class="hr pt-m"></div>',"","",function(t){this.on("update",function(){this.editing=this.opts.item})}),riot.tag2("editable-education-item-name",'<input oninput="{$Editable.component.autoCommitItems}" autosuggest="getSuggestEducation" class="input input-xl" type="text" placeholder="Учебное заведение" data-name="title" autocomplete="off" value="{opts.item.title}"> <div class="input-autosuggest-items"><div onclick="{$Editable.autosuggest.select}" each="{item in $Editable.autosuggest.items}" no-reorder class="input-autosuggest-item"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div>',"",'class="display-block input-autosuggest input-autosuggest-l"',function(t){}),riot.tag2("editable-education-item-speciality",'<input oninput="{$Editable.component.autoCommitItems}" autosuggest="getSuggestSpeciality" class="input input-l" type="text" placeholder="Специальность" data-name="speciality" autocomplete="off" value="{opts.item.speciality}"> <div class="input-autosuggest-items"><div onclick="{$Editable.autosuggest.select}" each="{item in $Editable.autosuggest.items}" no-reorder class="input-autosuggest-item"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div>',"",'class="display-block input-autosuggest input-autosuggest-m"',function(t){}),riot.tag2("editable-hobby",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div onclick="{show.hobby}" class="hidden-sm hidden-md section__editable__arrow" data-pos="left" data-active="{screen == ⁗text⁗}" data-closer="true">Выбрать хобби</div> <div onclick="{show.text}" class="hidden-sm hidden-md section__editable__arrow" data-pos="right" data-active="{screen == ⁗hobby⁗}" data-closer="true">Описание увлечений</div> <div name="screenHobby" class="section__editable__content__screen" data-pos="left" data-active="{screen == ⁗hobby⁗}"> <div class="section__editable__content col-lg-offset-1 {hide : !switcher.value}"> <div class="flex-row-left-center"> <div class="title title-main">Выберите {\'4\' : app.device.isPhone} хобби</div> <div class="hidden-xs pl-l mb-m pb-xs fontSize-22">не более 4-х основных увлечений</div> </div> <div class="row hobby-items"> <div each="{item in _.sortArray($store.hobby.get(), ⁗value⁗, ⁗desc⁗)}" no-reorder class="col-xs-8 col-sm-6 col-md-4 plr-xxs"> <div onclick="{onSelect}" class="hobby-item" data-active="{parent.data.items.indexOf(item._id) !== -1}"> <div class="hobby-icon icon-hobby icon-hobby-{item._id}"></div> <div class="hobby-title">{item.title}</div> </div> </div> </div> </div> <div class="section__editable__footer text-center col-lg-offset-1"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div> </div> <div name="screenHobbyText" class="section__editable__content__screen" data-pos="right" data-active="{screen == ⁗text⁗}"> <div class="section__editable__content col-md-offset-2 col-lg-offset-3 {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="pos-rel mb-l"> <span class="input-title">название секции</span> <input oninput="{$Editable.component.autoCommit}" class="input input-xl" data-name="title" name="title_data" type="text" placeholder="Название секции" autocomplete="off" value="{data && data.title ? data.title : $store.resume.placeholder.hobby.title()}"> </div> <div class="pos-rel"> <span class="input-title">дополняющий текст</span> <textarea-expand onclick="{$Editable.component.textEdit}" placeholder="Дополняющий текст о ваших хоббии" data-name="text"></textarea-expand> <textarea oninput="{$Editable.component.autoCommit}" class="textarea textarea-xl" data-name="text" name="text_data" autocomplete="off" placeholder="Дополняющий текст о ваших хоббии">{data.text}</textarea> </div> </div> <div class="section__editable__footer text-center col-md-offset-2 col-lg-offset-3"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div> </div>',"",'class="col-sm-24 col-md-22 col-lg-18 centered section__editable__container" data-editing="hobby"',function(t){var e=this;e.screen="hobby",e.alert="Вы уже выбрали 4 своих увлечения",e.on("mount",function(){app.device.isPhone||(e.screens={hobby:$$(e.screenHobby),hobbyText:$$(e.screenHobbyText)})}),e.show={hobby:function(){app.device.isPhone||(e.screens.hobbyText.css("width",e.screens.hobbyText.width()),_.onEndTransition(e.screens.hobbyText[0],function(){e.screens.hobbyText.css("width","")})),e.screen="hobby",e.root.setAttribute("data-editing","hobby")},text:function(){app.device.isPhone||(e.screens.hobby.css("width",e.screens.hobby.width()),_.onEndTransition(e.screens.hobby[0],function(){e.screens.hobby.css("width","")})),e.screen="text",e.root.setAttribute("data-editing","hobbyText")}},e.onSelect=function(){e.data.items&&e.data.items.indexOf(this.item._id)!==-1?e.data.items.splice(e.data.items.indexOf(this.item._id),1):e.data.items&&4==e.data.items.length?!app.device.isPhone&&window.$Notify?$Notify.show({color:"dark",text:e.alert}):alert(e.alert):(e.data.items||(e.data.items=[]),e.data.items.push(this.item._id))}}),riot.tag2("editable-jobs",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content col-lg-offset-1 {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="row mb-m"> <div class="col-md-12"> <div if="{!$Editable.component.editing}" class="pos-rel"> <span class="input-title">название секции</span> <input oninput="{$Editable.component.autoCommit}" class="input {app.device.isPhone ? \'input-l\' : \'input-xl\'}" data-name="title" name="title_data" type="text" placeholder="Название секции" autocomplete="off" value="{data && data.title ? data.title : $store.resume.placeholder.jobs.title()}"> </div> <div if="{$Editable.component.editing}"> <div class="title title-xl">Редактирование</div> </div> </div> <div class="col-md-12 xs-mt-m sm-mt-m target-visible"> <div if="{!$Editable.component.editing}"> <ui-button-plus onclick="{$Editable.component.createItem}" content="Место работы" size="{app.device.isPhone ? \'l\' : \'xl\'}"></ui-button-plus> </div> <div if="{$Editable.component.editing}" class="row"> <div class="col-xs-12"> <ui-button-edit onclick="{$Editable.component.saveItem}" content="Сохранить" size="l"></ui-button-edit> </div> <div class="col-xs-12"> <button onclick="{$Editable.component.cancelEditing}" class="btn btn-l btn-upper w100p text-center borderRadius-m" type="button">Отменить</button> </div> </div> </div> </div> <div if="{$Editable.component.editing}" class="row mb-m target-visible"> <div class="col-xs-24"> <editable-jobs-item item="{$Editable.component.editing}"></editable-jobs-item> </div> </div> <div if="{!$Editable.component.editing}" class="row mb-m mt-l"> <div class="col-xs-24"> <div class="pos-rel"> <span class="input-title">вступительный текст</span> <textarea-expand onclick="{$Editable.component.textEdit}" placeholder="Дополняющий текст о вашем опыте" data-name="text"></textarea-expand> <textarea oninput="{$Editable.component.autoCommit}" class="textarea textarea-xl" placeholder="Дополняющий текст о вашем опыте" data-name="text" name="text_data" autocomplete="off">{data.text}</textarea> </div> </div> </div> <div class="row target-hidden"> <div each="{item, i in data.items}" no-reorder class="col-md-12 mb-m"> <div class="pos-rel"> <div class="input-group-addon addons"> <input-addon-edit onclick="{$Editable.component.editItem}"></input-addon-edit> <input-addon-remove onclick="{$Editable.component.removeItem}"></input-addon-remove> </div> <div class="input input-l">{item.post}</div> </div> </div> </div> </div> <div if="{!$Editable.component.editing}" class="section__editable__footer text-center"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-24 col-md-22 col-lg-19 centered section__editable__container" data-editing="jobs"',function(t){}),riot.tag2("editable-jobs-item",'<div class="row mb-m"> <div class="col-md-9 pr-m xsm-pr-xss xsm-mb-s"> <div class="row"> <div class="col-md-14"> <div class="title title-l">Начало</div> </div> <div class="col-md-10 sm-mt-xs"> <div class="select select-l"> <select onchange="{$Editable.component.autoCommitItems}" data-name="from.year"> <option each="{item in _.range(1940, new Date().getFullYear() + 1)}" no-reorder value="{item}" __selected="{editing.from.year == item}">{item}</option> </select> </div> </div> </div> <div class="select select-l mt-s"> <select onchange="{$Editable.component.autoCommitItems}" data-name="from.month"> <option each="{item in $store.month.getItems($store.resume.get(⁗lang⁗))}" value="{item._id}" no-reorder __selected="{editing.from.month == item._id}">{item.title}</option> </select> </div> </div> <div class="col-md-9 pl-m xsm-pl-xss transition-default {opacity-50 : editing.last}"> <div class="row"> <div class="col-md-14"> <div class="title title-l">Окончание</div> </div> <div class="col-md-10 sm-mt-xs"> <div class="select select-l"> <select onchange="{$Editable.component.autoCommitItems}" data-name="to.year"> <option each="{item in _.range(1940, new Date().getFullYear() + 1)}" no-reorder value="{item}" __selected="{editing.to.year == item}">{item}</option> </select> </div> </div> </div> <div class="select select-l mt-s"> <select onchange="{$Editable.component.autoCommitItems}" data-name="to.month"> <option each="{item in $store.month.getItems($store.resume.get(⁗lang⁗))}" value="{item._id}" no-reorder __selected="{editing.to.month == item._id}">{item.title}</option> </select> </div> <div if="{editing.last}" class="pos-abs-full"></div> </div> <div class="col-md-6 pl-m pt-l xsm-pl-xss xsm-pt-m xsm-mb-xxs"> <ui-checkbox commit="autoCommit" value="{editing.last}" title="по настоящее {\'время\' : app.device.isPhone}" size="xl" color="white"></ui-checkbox> </div> </div> <div class="row mb-m"> <div class="col-md-24"> <editable-jobs-item-post item="{opts.item}"></editable-jobs-item-post> </div> </div> <div class="row mb-m"> <div class="col-sm-12 col-md-15"> <editable-jobs-item-company item="{opts.item}"></editable-jobs-item-company> </div> <div class="col-sm-12 col-md-9 xsm-mt-m"> <editable-jobs-item-city item="{opts.item}"></editable-jobs-item-city> </div> </div> <div class="row mb-m"> <div class="col-xs-24 xs-mt-m"> <div class="pos-rel"> <textarea-expand onclick="{$Editable.component.textEdit}" placeholder="Описание обязанностей, функции" data-name="text"></textarea-expand> <textarea oninput="{$Editable.component.autoCommitItems}" class="textarea textarea-xl" placeholder="Описание обязанностей, функции" data-name="text" autocomplete="off">{opts.item.text}</textarea> </div> </div> </div> <div class="hr pt-m"></div>',"","",function(t){var e=this;e.on("update",function(){e.editing=e.opts.item}),e.autoCommit=function(t){e.editing.last=t,e.update()}}),riot.tag2("editable-jobs-item-city",'<input oninput="{$Editable.component.autoCommitItems}" autosuggest="getSuggestCity" class="input input-l" type="text" placeholder="Город" data-name="city" autocomplete="off" value="{opts.item.city}"> <div class="input-autosuggest-items"><div onclick="{$Editable.autosuggest.select}" each="{item in $Editable.autosuggest.items}" no-reorder class="input-autosuggest-item"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div>',"",'class="display-block input-autosuggest input-autosuggest-l"',function(t){}),riot.tag2("editable-jobs-item-company",'<input oninput="{$Editable.component.autoCommitItems}" autosuggest="getSuggestCompanies" class="input input-l" type="text" placeholder="Название компании" data-name="title" autocomplete="off" value="{opts.item.title}"> <div class="input-autosuggest-items" data-image="true"><div onclick="{$Editable.autosuggest.select}" each="{item in $Editable.autosuggest.items}" no-reorder class="input-autosuggest-item"> <div class="input-autosuggest-item-title">{item.text}</div> <div if="{item.logo_urls && item.logo_urls[\'90\']}" class="input-autosuggest-item-image"> <img class="input-autosuggest-item-logo" riot-src="{item.logo_urls[\'90\']}"> </div> </div></div>',"",'class="display-block input-autosuggest input-autosuggest-l"',function(t){}),riot.tag2("editable-jobs-item-post",'<input oninput="{$Editable.component.autoCommitItems}" autosuggest="getSuggestPositions" class="input input-l" type="text" placeholder="Занимаемая должность" data-name="post" autocomplete="off" value="{opts.item.post}"> <div class="input-autosuggest-items"><div onclick="{$Editable.autosuggest.select}" each="{item in $Editable.autosuggest.items}" no-reorder class="input-autosuggest-item"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div>',"",'class="display-block input-autosuggest input-autosuggest-l"',function(t){}),riot.tag2("editable-languages",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content col-lg-offset-1 {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="pos-rel mb-l"> <span class="input-title">название секции</span> <input oninput="{$Editable.component.autoCommit}" class="input input-xl" data-name="title" name="title_data" type="text" placeholder="Название секции" autocomplete="off" value="{data && data.title ? data.title : $store.resume.placeholder.languages.title()}"> </div> <div class="row"> <div class="col-xs-24 col-sm-24 col-md-11"> <div class="pos-rel mb-l"> <span class="input-title">вступительный текст</span> <textarea-expand onclick="{$Editable.component.textEdit}" placeholder="{$store.resume.placeholder.languages.help.text}" data-name="text"></textarea-expand> <textarea style="height:265px" oninput="{$Editable.component.autoCommit}" class="textarea textarea-xl" data-name="text" name="text_data" autocomplete="off" placeholder="{$store.resume.placeholder.languages.help.text}">{data.text}</textarea> </div> </div> <div class="col-xs-24 col-sm-24 col-md-13"> <div class="pl-m xs-pl0"> <div each="{item, i in data.items}" no-reorder class="row mb-m xs-mt--xs {i + 1 < data.items.length ? \'xs-mb-l\' : \'xs-mb-xs\'}"> <div class="hidden-xs col-sm-10"> <div class="title title-m pt-xxs">{$store.languages.getTitleById(item.title)}</div> </div> <div class="col-xs-24 col-sm-14"> <span class="input-title pt-xxs">{$store.languages.getTitleById(item.title)}</span> <div class="select select-l"> <select if="{item.title == ⁗native⁗}" onchange="{autoCommitValue}" data-name="value"> <option each="{lang in $store.languages.native.get()}" no-reorder __selected="{lang._id == item.value}" value="{lang._id}">{lang.title}</option> </select> <select if="{item.title != ⁗native⁗}" onchange="{autoCommitValue}" data-name="value"> <option each="{lang in $store.languages.select.getItems()}" no-reorder __selected="{lang._id == item.value}" value="{lang._id}">{lang.title}</option> </select> </div> </div> </div> </div> </div> </div> </div> <div class="section__editable__footer text-center"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-24 col-md-22 col-lg-18 centered section__editable__container" data-editing="languages"',function(t){var e=this;e.autoCommitValue=function(t){e.data.items[this.i].value=t.target.value}}),riot.tag2("editable-more",'<div class="section__editable__content col-lg-offset-1"> <div class="title title-main">{title}</div> <div class="row mb35 sm-mb-m xs-mb-m"> <div class="col-md-24 xs-mb-xs"> <div class="options-list"> <div onclick="{select.schedules}" each="{item in $store.dictionary.get(⁗schedules⁗)}" class="options-list-item" __checked="{_.indexOf(parent.data.get(⁗schedules⁗), item._id) > -1}">{item.title}</div> </div> </div> </div> <div class="row mb-m sm-mb0 xs-mb0"> <div class="hidden-xs col-sm-24 col-md-4"> <div class="title title-m pt-xxs">Гражданство</div> </div> <div class="col-xs-24 col-sm-24 col-md-7 xs-mb-m"> <span class="input-title pt-xxs">Гражданство</span> <div class="select select-l xs-mb-xs"> <ui-select update="citizenship" cursor="{data.select()}" items="{$store.country.get()}" size="l"></ui-select> </div> </div> <div class="hidden-xs col-sm-24 col-md-6"> <div class="title title-m pl30 sm-pl0 pt-xxs">Время до работы</div> </div> <div class="col-xs-24 col-sm-24 col-md-7 xs-mb-m"> <span class="input-title pt-xxs">Время до работы</span> <div class="select select-l xs-mb-xs"> <ui-select update="travelTime" cursor="{data.select()}" items="{$store.dictionary.get(⁗travelTime⁗)}" size="l"></ui-select> </div> </div> </div> <div class="row mb50 xs-mb-l"> <div class="hidden-xs col-sm-24 col-md-4"> <div class="title title-m pt-xxs">Переезд</div> </div> <div class="col-xs-24 col-sm-24 col-md-7 xs-mb-m"> <span class="input-title pt-xxs">Переезд</span> <div class="select select-l xs-mb-xs"> <ui-select update="relocation" cursor="{data.select()}" items="{$store.dictionary.get(⁗relocation⁗)}" size="l"></ui-select> </div> </div> <div class="hidden-xs col-sm-24 col-md-6"> <div class="title title-m pl30 sm-pl0 pt-xxs">Командировки</div> </div> <div class="col-xs-24 col-sm-24 col-md-7"> <span class="input-title pt-xxs">Командировки</span> <div class="select select-l xs-mb-xs"> <ui-select update="businessTrip" cursor="{data.select()}" items="{$store.dictionary.get(⁗businessTrip⁗)}" size="l"></ui-select> </div> </div> </div> </div> <div class="section__editable__footer text-center"> <button onclick="{onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-24 col-md-22 col-lg-19 centered section__editable__container" data-editing="more"',function(t){var e=this;e.init=function(t){e.data=new Baobab(_.omit(t,"title","callback","schedules")),e.data.select("schedules").set(_.copyArray(t.schedules)),e.update({title:t.title,callback:t.callback?t.callback:null})},e.select={schedules:function(t){var i=this.item._id;if(t.target.hasAttribute("checked")){var a=e.data.get("schedules");e.data.get("schedules").splice(_.indexOf(a,i),1)}else e.data.select("schedules").push(i)}},e.onCancel=function(){e.hide()},e.onSave=function(){e.callback&&e.callback(e.data.get()),e.hide()},e.hide=function(){$Editable.hide()}}),riot.tag2("editable-name",'<div class="section__editable__content"> <div class="title title-main">{title}</div> <input class="input input-xl mb-m" name="name_data" type="text" placeholder="Имя" autocomplete="off" value="{data.name}"> <input class="input input-xl" name="surname_data" type="text" placeholder="Фамилия" autocomplete="off" value="{data.surname}"> </div> <div class="section__editable__footer"> <button onclick="{onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-offset-4 col-sm-18 col-md-offset-5 col-md-14 col-lg-offset-7 col-lg-12 section__editable__container"',function(t){var e=this;e.init=function(t){e.update({title:t.title,data:t.data,callback:t.callback?t.callback:null})},e.onCancel=function(){e.hide()},e.onSave=function(){e.data.name=e.name_data.value,e.data.surname=e.surname_data.value,e.callback&&e.callback({name:e.data.name,surname:e.data.surname}),e.hide()},e.hide=function(){e.name_data.value=e.data.name?e.data.name:"",e.surname_data.value=e.data.surname?e.data.surname:"",$Editable.hide()}}),riot.tag2("editable-photo",'<div if="{!uploaded}" onclick="{hide}" class="section__editable__close visible-sm visible-xs"></div> <div class="title title-main" if="{uploaded && title}">{title}</div> <div class="row image-editor {app.device.isPhone ? \'pos-abs-full m0 overflow-hidden\' : null}" riot-style="{app.device.isPhone ? \'height:\' + app.sizes.height + ⁗px⁗ : null}"> <div class="{uploaded ? \'col-xs-24 col-sm-15 col-md-13 col-lg-12\' : \'col-md-24 col-lg-20 pt-l xs-pt0 text-center\'}"> <div class="editable__photo cropit-preview {editable__photo--empty : !uploaded}"> <input name="upload" type="file" class="editable__photo__input cropit-image-input {display-none : uploaded}"> <div if="{app.device.isMobile}" class="editable__photo__text">{$resume.commons.photo ? \'Сменить фото\' : \'Выбрать файл\'}</div> <div if="{!app.device.isMobile}" class="editable__photo__text"> Выберите файл <div class="editable__photo__text__or">или</div> перетащите его сюда </div> </div> </div> <div class="editable__photo__control col-xs-24 col-sm-9 col-md-10 col-lg-10 {display-none : !uploaded}"> <div class="pl-s pt-l sm-pl-m xs-p0"> <button class="btn btn-m btn-upper btn-uploadImage mb-l hidden-xs">Другой файл...</button> <div class="c-white fontSize-24 fontFamily-futura mb-m">Масштабирование</div> <div class="mb-l"> <input type="range" class="editable__photo__slider cropit-image-zoom-input"> </div> <div class="nowrap-md"> <button onclick="{onCancel}" onupdate="none" class="btn btn-l btn-upper sm-mb-m" type="button">Отменить</button> <button onclick="{onSave}" onupdate="none" class="btn btn-l btn-upper ml-xs sm-ml0" type="button">Сохранить</button> </div> </div> </div> </div>',"",'class="col-sm-offset-0 col-sm-24 col-md-offset-1 col-md-22 col-lg-offset-4 col-lg-20 section__editable__container" data-editing="photo" data-uploaded="{uploaded}"',function(t){var e=this,i=$$(e.root),a=$store.resume.get("config","photo","minWidth"),l=$store.resume.get("config","photo","maxHeight");e.config={minWidth:a,maxHeight:l,alertSmallImage:"Загружаемое фото слишком маленькое, минимально допустимый размер по ширине "+a+"px",export:{type:"image/jpeg",quality:.9,originalSize:!0,maxZoom:1.5}},e.on("mount",function(){e.imageEditor||(e.imageEditor=i.find(".image-editor"),e.imageEditor.cropit({maxHeight:e.config.maxHeight,onSmallImage:function(t){alert(e.config.alertSmallImage),e.upload.value=""},onImageLoaded:function(){e.uploaded||e.update({uploaded:!0}),e.upload.value="";
}}),i.find(".btn-uploadImage").on("click",function(){$$(e.upload).trigger("click")}))}),e.init=function(t){e.update({uploaded:!1,title:t.title,callback:t.callback?t.callback:null}),app.device.isPhone||i.on("click",function(t){e.uploaded?i.off("click"):"input"!=t.target.tagName.toLowerCase()&&e.hide()})},e.onCancel=function(){e.hide()},e.onSave=function(t){if(!e.saved){e.saved=!0;var i=$$(t.currentTarget);i.addClass("btn-loading"),setTimeout(function(){var t=e.imageEditor.cropit("export",e.config.export);setTimeout(function(){e.saved=!1,i.removeClass("btn-loading"),e.hide()},300),e.callback(t)},5)}},e.hide=function(){i.off("click"),e.upload.value="",$Editable.hide()}}),riot.tag2("editable-salary",'<div onclick="{show.salary}" onupdate="none" class="hidden-sm section__editable__arrow" data-pos="left" data-active="{screen == ⁗graph⁗}" data-closer="{app.device.isMobile}">{\'Желаемая\' : !app.device.isPhone} зарплата</div> <div onclick="{show.graph}" onupdate="none" class="hidden-sm section__editable__arrow" data-pos="right" data-active="{screen == ⁗salary⁗}" data-closer="{app.device.isMobile}">График роста {\'оплаты труда\' : !app.device.isPhone}</div> <div name="screenSalary" class="section__editable__content__screen" data-pos="left" data-active="{screen == ⁗salary⁗}"> <div id="activity"> <ui-switcher name="switcherSalary" color="white" value="{active}" commit="true"></ui-switcher> </div> <div class="section__editable__content {hide : !switcherSalary.value}"> <div class="title title-main">{title}</div> <div class="row"> <div class="col-xs-18 col-sm-12"> <ui-slider phone="true" name="sliderSalary" commit="autoCommitValue" size="xl" value="{salary.amount}" min="5000" max="500000" step="1000" color="white"></ui-slider> </div> <div class="col-xs-6 col-sm-4"> <div class="select select-xl short"> <select onchange="{autoCommit}" name="currency"> <option each="{item in $store.currency.get()}" no-reorder __selected="{item._id == salary.currency}" value="{item._id}">{item.title}</option> </select> </div> </div> <div class="col-xs-24 col-sm-8 xs-mt-m"> <div class="select select-xl"> <select onchange="{autoCommit}" name="worktime"> <option each="{item in $store.worktime.getItems()}" no-reorder __selected="{item._id == salary.worktime}" value="{item._id}">{item.title}</option> </select> </div> </div> </div> </div> <div class="section__editable__footer"> <button onclick="{onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div> </div> <div name="screenGraph" class="section__editable__content__screen" data-pos="right" data-active="{screen == ⁗graph⁗}"> <div id="activity"> <ui-switcher name="switcherGraph" color="white" value="{data.graph.active}" commit="true"></ui-switcher> </div> <div class="section__editable__content {hide : !switcherGraph.value}"> <div class="title title-main">График роста зарплаты</div> <div each="{item, i in _.copyArray(data.graph.items).reverse()}" no-reorder class="row mb-xs"> <div class="col-xs-8 col-md-6"> <div class="title title-m pt-xxs nowrap-xs">{get.month(i)} месяц</div> </div> <div class="col-xs-16 col-md-18"> <ui-slider phone="true" name="salaryGraphSlider_{i}" commit="autoCommitGraphValue" size="l" value="{item}" i="{i}" min="5000" max="500000" step="1000" color="white"></ui-slider> </div> </div> </div> <div class="section__editable__footer"> <button onclick="{onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div> </div>',"",'class="col-sm-offset-4 col-sm-18 col-md-offset-5 col-md-14 col-lg-offset-7 col-lg-12 section__editable__container"',function(t){var e=this;$$(e.root);e.screen="salary",e.on("before-mount",function(){e.slider=e.sliderSalary._tag,e.switcherSalary=e.switcherSalary._tag,e.switcherGraph=e.switcherGraph._tag}),e.on("mount",function(){app.device.isPhone||(e.screens={salary:$$(e.screenSalary),graph:$$(e.screenGraph)})}),e.show={salary:function(t){app.device.isPhone||"open"==t?("open"==t?e.screen="salary":e.update({screen:"salary"}),e.root.setAttribute("data-editing",!1)):(e.screens.graph.css("width",e.screens.graph.width()),$afterlag.run(function(){e.update({screen:"salary"}),e.root.setAttribute("data-editing",!1),_.onEndTransition(e.screens.graph[0],function(){e.screens.graph.css("width","")})}))},graph:function(t){app.device.isPhone||"open"==t?("open"==t?e.screen="graph":e.update({screen:"graph"}),e.root.setAttribute("data-editing","salaryGraph")):(e.screens.salary.css("width",e.screens.salary.width()),$afterlag.run(function(){e.update({screen:"graph"}),e.root.setAttribute("data-editing","salaryGraph"),_.onEndTransition(e.screens.salary[0],function(){e.screens.salary.css("width","")})}))}},e.get={month:function(t){return 0==t?"24":1==t?"18":2==t?"12":3==t?"6":4==t?"3":5==t?"1":void 0}},e.init=function(t){e.salary=t.salary,1!=e.salary.currency&&e.refreshCurrency(e.salary.currency),t.screen&&e.screen!=t.screen&&e.show[t.screen]&&e.show[t.screen].call(this,"open"),e.update({active:t.active,title:t.title,data:_.copyArray(e.salary),callback:t.callback?t.callback:null}),_.each(e.tags["ui-slider"],function(t){t.change(t.value)})},e.autoCommit=function(t){var i=t.target.value,a=t.target.getAttribute("name");e.data[a]=i,"currency"==a&&e.refreshCurrency(i)},e.refreshCurrency=function(t){if(1!=t){var i={min:"500",max:"50000",step:"500"};e.slider.refresh(i),_.each(e.tags["ui-slider"],function(t){t.refresh(i)})}else{var i={min:"5000",max:"500000",step:"1000"};e.slider.refresh(i),_.each(e.tags["ui-slider"],function(t){t.refresh(i)})}},e.autoCommitValue=function(t){e.data&&e.data.amount&&(e.data.amount=t)},e.autoCommitGraphValue=function(t,i){e.data&&e.data.graph&&e.data.graph.items&&(e.data.graph.items[5-i]=t)},e.onCancel=function(){e.slider.value=e.salary.amount,e.currency.value=e.salary.currency,e.worktime.value=e.salary.worktime,e.hide()},e.onSave=function(){e.callback&&(app.device.isPhone&&(e.data.amount=e.slider.value),e.data.graph.active=e.switcherGraph.value,e.callback(e.switcherSalary.value,e.data)),e.hide()},e.hide=function(){$Editable.hide()}}),riot.tag2("editable-skills",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content col-lg-offset-2 {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="pos-rel mb-l"> <span class="input-title">название секции</span> <input oninput="{$Editable.component.autoCommit}" class="input input-xl" data-name="title" name="title_data" type="text" placeholder="Название секции" autocomplete="off" value="{data && data.title ? data.title : $store.resume.placeholder.skills.title()}"> </div> <div class="pos-rel mb-l"> <span class="input-title">жирный заголовок</span> <input oninput="{$Editable.component.autoCommit}" class="input input-xl" data-name="header" name="header_data" type="text" placeholder="Жирный заголовок" autocomplete="off" value="{data.header}"> </div> <div class="row"> <div class="col-md-12 xs-mb-m sm-mb-l"> <div class="pos-rel"> <span class="input-title">описание компетенций</span> <textarea-expand onclick="{$Editable.component.textEdit}" data-name="text" placeholder="Текст описание, в свободной форме изложите о своих проффесиональных качествах"></textarea-expand> <textarea oninput="{$Editable.component.autoCommit}" class="textarea textarea-xl" style="height:330px" data-name="text" name="text_data" autocomplete="off" placeholder="Текст описание, в свободной форме изложите о своих проффесиональных качествах">{data.text}</textarea> </div> </div> <div class="col-md-12"> <div class="pl-m xsm-pl0"> <div each="{item, i in data.items}" no-reorder class="row mb-m"> <div class="col-xs-18"> <div class="pos-rel"> <div onclick="{removeSkill}" class="input-group-addon"> <input-addon-remove></input-addon-remove> </div> <input oninput="{autoCommitTitle}" class="input input-l" type="text" placeholder="Название навыка" autocomplete="off" value="{item.title}"> </div> </div> <div class="col-xs-6"> <ui-slider commit="autoCommitValue" i="{i}" size="l" strict="true" phone="true" color="white" value="{item.value}" ed="%" min="1" max="100" step="1" small></ui-slider> </div> </div> <div class="row mb-m"> <div class="col-xs-24"> <ui-button-plus onclick="{createSkill}" content="Добавить навык" size="l"></ui-button-plus> </div> </div> </div> </div> </div> </div> <div class="section__editable__footer text-center col-lg-offset-1"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-24 col-md-22 col-lg-20 centered section__editable__container" data-editing="skills"',function(t){var e=this;e.autoCommitTitle=function(t){e.data.items[this.i].title=t.target.value},e.autoCommitValue=function(t,i){e.data.items[i].value=t},e.createSkill=function(){e.data.items||(e.data.items=[]),e.data.items.push({title:"",value:"100"})},e.removeSkill=function(){e.data.items.splice(this.i,1)}}),riot.tag2("editable-social",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="pos-rel mb-m"> <span class="input-title">заголовок</span> <input oninput="{$Editable.component.autoCommit}" class="input input-xl" data-name="title" name="title_data" type="text" autocomplete="off" value="{data && data.title ? data.title : $store.resume.placeholder.social.title()}"> </div> <div class="row mb-m xs-mb0"> <div class="col-xs-24 col-sm-12 xs-mb-m"> <div class="input-group input-group-icon"> <input oninput="{autoCommitValue}" data-title="fb" class="input input-l" type="text" placeholder="{\'Ссылка на профиль\' : !app.device.isPhone} Facebook" autocomplete="off" value="{data &&  _.findWhere(data.items, {⁗title⁗: ⁗fb⁗}).value}"> <div class="input-icon"> <svg class="input-svg input-svg-social input-svg-fb" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M60.5 32.5c-1.7-.6-4.8-.7-6.5-.7-5.1 0-7.2 4.1-7.2 8.9v3.2h-3v6.4h3V68H53V50.3h6v-6.4h-6v-3.8c0-1.6 2.6-2.4 3.7-2.4 1 0 2 .2 2.9.5l.9-5.7"></path></svg> </div> </div> </div> <div class="col-xs-24 col-sm-12 xs-mb-m"> <div class="input-group input-group-icon"> <input oninput="{autoCommitValue}" data-title="vk" class="input input-l" type="text" placeholder="{\'Ссылка на профиль\' : !app.device.isPhone} ВКонтакте" autocomplete="off" value="{data && _.findWhere(data.items, {⁗title⁗: ⁗vk⁗}).value}"> <div class="input-icon"> <svg class="input-svg input-svg-social input-svg-vk" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.7 49.5v-.1c2.3-1 3.5-3.1 3.5-5.6 0-5.6-5.2-6-9.5-6h-9.9v26h10.8c5.1 0 10.3-2 10.3-8 0-3.4-2-5.6-5.2-6.3zm-8.9-7h1.9c1.9 0 3.9.2 3.9 2.6 0 2.7-2 2.9-4.1 2.9h-1.8v-5.5h.1zM50 59h-2.2v-6.5h3c2.3 0 4.5.3 4.5 3.2 0 3.1-2.9 3.3-5.3 3.3z"></path></svg> </div> </div> </div> </div> <div class="row mb-m xs-mb0"> <div class="col-xs-24 col-sm-12 xs-mb-m"> <div class="input-group input-group-icon"> <input oninput="{autoCommitValue}" data-title="dk" class="input input-l" type="text" placeholder="{\'Ссылка на профиль\' : !app.device.isPhone} Одноклассники" autocomplete="off" value="{data && _.findWhere(data.items, {⁗title⁗: ⁗dk⁗}).value}"> <div class="input-icon"> <svg class="input-svg input-svg-social input-svg-dk" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.3 52.2c-2 .9-4.1 1.5-6.3 1.5-2.3 0-4.1-.6-6.2-1.5-.4-.2-.8-.3-1.3-.3-1.5 0-2.7 1.2-2.7 2.6 0 2.6 4.5 3.5 6.6 4l-5.3 4.9c-.5.5-.8 1.1-.8 1.8 0 1.4 1.2 2.6 2.7 2.6.7 0 1.4-.2 1.9-.7l5-4.7 5 4.7c.5.5 1.2.7 1.9.7 1.5 0 2.7-1.2 2.7-2.6 0-.7-.3-1.3-.8-1.8l-5.3-4.9c2.2-.4 6.6-1.5 6.6-4 0-1.3-1.2-2.6-2.7-2.6-.2-.1-.6 0-1 .3M50.1 34.3c-5.3 0-9.2 4-9.2 8.7 0 4.6 4 8.7 9.2 8.7 5.3 0 9.2-4 9.2-8.7 0-4.6-4-8.7-9.2-8.7zm0 12.3c-2.2 0-3.8-1.7-3.8-3.6 0-1.9 1.7-3.6 3.8-3.6 2.2 0 3.8 1.7 3.8 3.6 0 1.9-1.7 3.6-3.8 3.6z"></path></svg> </div> </div> </div> <div class="col-xs-24 col-sm-12 xs-mb-m"> <div class="input-group input-group-icon"> <input oninput="{autoCommitValue}" data-title="tw" class="input input-l" type="text" placeholder="{\'Ссылка на профиль\' : !app.device.isPhone} Twitter" autocomplete="off" value="{data && _.findWhere(data.items, {⁗title⁗: ⁗tw⁗}).value}"> <div class="input-icon"> <svg class="input-svg input-svg-social input-svg-tw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M63.8 41.8c1.5-.8 2.6-2.1 3.1-3.6-1.4.7-2.9 1.3-4.5 1.6-1.3-1.3-3.2-2-5.1-2-3.9 0-7 2.9-7 6.5 0 .5 0 1 .2 1.5-5.6-.4-10.9-2.8-14.5-6.9-.6 1-.9 2.1-.9 3.3 0 2.2 1.2 4.2 3.1 5.4-1.2 0-2.2-.3-3.2-.8v.1c-.1 3.1 2.3 5.7 5.6 6.3-.6.2-1.2.2-1.9.2-.4 0-.9 0-1.3-.1.9 2.6 3.6 4.5 6.5 4.5-2.5 1.8-5.5 2.8-8.7 2.8-.5 0-1.1 0-1.6-.1 3.2 1.9 6.9 2.9 10.8 2.9 8.1 0 14.9-4 18.2-10.9 1.1-2.4 1.8-4.9 1.8-7.5v-.9c1.4-.9 2.6-2 3.5-3.3-1.4.5-2.7.9-4.1 1z"></path></svg> </div> </div> </div> </div> <div class="row mb-m xs-mb0"> <div class="col-xs-24 col-sm-12 xs-mb-m"> <div class="input-group input-group-icon"> <input oninput="{autoCommitValue}" data-title="gl" class="input input-l" type="text" placeholder="{\'Ссылка на профиль\' : !app.device.isPhone} Google+" autocomplete="off" value="{data && _.findWhere(data.items, {⁗title⁗: ⁗gl⁗}).value}"> <div class="input-icon"> <svg class="input-svg input-svg-social input-svg-gl" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"> <path class="input-svg-color" d="M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032 c0-3.331,2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2 C7.021,2,2.543,6.477,2.543,12c0,5.523,4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"></path> </svg> </div> </div> </div> <div class="col-xs-24 col-sm-12 xs-mb-m"> <div class="input-group input-group-icon"> <input oninput="{autoCommitValue}" data-title="in" class="input input-l" type="text" placeholder="{\'Ссылка на профиль\' : !app.device.isPhone} Instagram" autocomplete="off" value="{data && _.findWhere(data.items, {⁗title⁗: ⁗in⁗}).value}"> <div class="input-icon"> <svg class="input-svg input-svg-social input-svg-in" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="input-svg-color" d="M 15 2 C 7.832 2 2 7.832 2 15 L 2 35 C 2 42.168 7.832 48 15 48 L 35 48 C 42.168 48 48 42.168 48 35 L 48 15 C 48 7.832 42.168 2 35 2 L 15 2 z M 38 10 C 39.105 10 40 10.895 40 12 C 40 13.105 39.105 14 38 14 C 36.895 14 36 13.105 36 12 C 36 10.895 36.895 10 38 10 z M 25 13 C 31.617 13 37 18.383 37 25 C 37 31.617 31.617 37 25 37 C 18.383 37 13 31.617 13 25 C 13 18.383 18.383 13 25 13 z M 25 15 C 19.486 15 15 19.486 15 25 C 15 30.514 19.486 35 25 35 C 30.514 35 35 30.514 35 25 C 35 19.486 30.514 15 25 15 z"></path> </svg> </div> </div> </div> </div> <div class="row"> <div class="col-xs-24 col-sm-12 xs-mb-m"> <div class="input-group input-group-icon"> <input oninput="{autoCommitValue}" data-title="lk" class="input input-l" type="text" placeholder="{\'Ссылка на профиль\' : !app.device.isPhone} Linkedin" autocomplete="off" value="{data && _.findWhere(data.items, {⁗title⁗: ⁗lk⁗}).value}"> <div class="input-icon"> <svg class="input-svg input-svg-social input-svg-lk" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="input-svg-color" d="M40,0H10C4.486,0,0,4.486,0,10v30c0,5.514,4.486,10,10,10h30c5.514,0,10-4.486,10-10V10C50,4.486,45.514,0,40,0z M16,34.9 V42H8V19h8V34.9z M12,16.5c-2.4,0-4-1.7-4-3.8C8,10.6,9.6,9,12,9s3.9,1.6,4,3.7C16,14.8,14.5,16.5,12,16.5z M42,42h-8 c0,0,0-12.1,0-13s-0.1-4-3.5-4c-3,0-3.5,2.9-3.5,4s0,13,0,13h-8V19h8v3.1c0,0,1.6-3.1,6.3-3.1c4.8,0,8.7,3.3,8.7,10V42z"></path> </svg> </div> </div> </div> </div> </div> <div class="section__editable__footer"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-offset-2 col-sm-20 col-md-offset-4 col-md-16 col-lg-offset-6 col-lg-13 section__editable__container" data-editing="social"',function(t){var e=this;e.autoCommitValue=function(t){var i=t.target.getAttribute("data-title"),a=t.target.value,l=_.findWhere(e.data.items,{title:i});l?e.data.items[_.indexOf(e.data.items,l)].value=a:(l={title:i,value:a},e.data.items.push(l))}}),riot.tag2("editable-tags",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="tag-list"> <div class="tag-list-add input-autosuggest input-autosuggest-m"> <input oninput="{$Editable.autosuggest.onInput}" onkeydown="{onKeydown}" autosuggest="getSuggestSkills" name="input" class="tag-input" type="text" placeholder="Название навыка" autocomplete="off"> <div onclick="{addTag}" class="tag-list-addButton"> <svg class="tag-list-addButton-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="tag-list-addButton-svg-color" d="M 23 9 L 23 23 L 9 23 L 9 27 L 23 27 L 23 41 L 27 41 L 27 27 L 41 27 L 41 23 L 27 23 L 27 9 L 23 9 z"></path> </svg> </div> <div class="input-autosuggest-items borderRadius-xl" style="min-width:280px; top:46px"><div onclick="{$Editable.autosuggest.select}" each="{item in $Editable.autosuggest.items}" no-reorder class="input-autosuggest-item"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div> </div> <div each="{item, i in items}" no-reorder class="tag tag-white"> {item}<span onclick="{removeTag}" class="tag-remove"></span> </div> </div> </div> <div class="section__editable__footer"> <button onclick="{onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-offset-2 col-sm-20 col-md-offset-4 col-md-16 col-lg-offset-5 col-lg-15 section__editable__container" data-editing="tags"',function(t){var e=this,i=$$(e.root);e.switcher=e.tags["ui-switcher"],e.init=function(t){e.update({active:t.active,title:t.title,items:t.tags?_.copyArray(t.tags):[],_tags:t.tags,callback:t.callback?t.callback:null})},e.on("autocomplete.select",function(t){e.checkAndInsert(t)}),e.addTag=function(){var t=_.clean(e.input.value);t&&t.length;t&&t.length&&e.checkAndInsert(t)},e.onKeydown=function(t){if(!app.device.isMobile){var i=_.clean(e.input.value),a=i&&i.length;t.which===KEY.ENTER&&a&&(t.preventDefault(),e.checkAndInsert(i))}return!0},e.removeTag=function(){e.items.splice(this.i,1)},e.checkAndInsert=function(t){var a=t.toLowerCase(),l=_.map(e.items,function(t){return t.toLowerCase()});_.inArray(l,a)?app.device.isPhone?alert('В списков навыков "'+t+'" уже был добавлен'):i.find(".tag").each(function(){var t=$$(this);t.text().toLowerCase().trim()==a&&(t.addClass("isAvail"),_.onEndAnimation(this,function(){t.removeClass("isAvail")}))}):(e.items.push(t),e.input.value="",e.input.focus())},e.onCancel=function(){e.items=_.copyArray(e._tags),e.hide()},e.onSave=function(){e.callback&&e.callback(e.switcher.value,e.items),e.hide()},e.hide=function(){$Editable.hide()}}),riot.tag2("editable-text",'<ui-switcher if="{active !== null}" id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content {hide : active !== null && !switcher.value} zIndex-2"> <div class="title title-main">{title}</div> <div if="{type === ⁗input⁗}" class="input-autosuggest input-autosuggest-xl"> <input oninput="{$Editable.autosuggest.onInput}" autosuggest="{autosuggest}" class="input input-xl" name="input_data" type="text" autocomplete="off" value="{editing}"> <div class="input-autosuggest-items"><div onclick="{$Editable.autosuggest.select}" each="{item in $Editable.autosuggest.items}" no-reorder class="input-autosuggest-item"> <div class="input-autosuggest-item-title">{item.text}</div> </div></div> </div> <div if="{type === ⁗textarea⁗}" onupdate="none" class="pos-rel"> <textarea-expand onclick="{textEdit}"></textarea-expand> <textarea class="textarea textarea-xl" name="textarea_data" autocomplete="off">{editing}</textarea> </div> </div> <div class="section__editable__footer"> <button onclick="{onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"","class=\"{'textarea' ? 'col-sm-offset-2 col-sm-20 col-md-offset-3 col-md-16 col-lg-offset-6 col-lg-14' : 'col-sm-offset-4 col-sm-18 col-md-offset-5 col-md-14 col-lg-offset-7 col-lg-12'} section__editable__container\" data-editing=\"{'textarea' : type === 'textarea'}\"",function(t){var e=this;e.switcher=e.tags["ui-switcher"],e.init=function(t){e.update({active:t.active,title:t.title,type:t.type,editing:t.editing,autosuggest:t.autosuggest,callback:t.callback?t.callback:null})},e.onCancel=function(){e[e.type+"_data"].value=e.editing?e.editing:"",e.hide()},e.onSave=function(){e.callback&&e.callback(null!==e.active?e.switcher.value:null,e[e.type+"_data"].value),e.hide()},e.textEdit=function(){$Sections.textEdit.show({placeholder:e.title,value:e[e.type+"_data"].value,callback:function(t){e[e.type+"_data"].value=t}})},e.hide=function(){$Editable.hide()}}),riot.tag2("editable-visible",'<div class="title title-main">{title}</div> <div class="row"> <virtual each="{item, i in _.where(items, {⁗control⁗: true})}"> <div class="col-xs-18 col-sm-8 transition-default {opacity-50 : !item.active} mb-s"> <div class="title title-m text-truncate">{item.title}</div> </div> <div class="col-xs-6 col-sm-4 pt-xs xs-pt-xxs mb-s {app.device.isPhone ? \'text-right\' : \'text-left\'}"> <ui-switcher color="white" commit="autoCommitValue" i="{i}" value="{item.active}"></ui-switcher> </div> </virtual> </div> <div class="section__editable__footer text-center pt-xs pr-l sm-pr-m xs-pr0"> <button onclick="{onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-24 col-md-offset-2 col-md-22 col-lg-offset-4 col-lg-18 section__editable__container" data-editing="visible"',function(t){var e=this;e.data=null,e.init=function(t){e.data=t,e.update({title:t.title,sections:t.sections,items:_.copyArray(t.sections),callback:t.callback})},e.autoCommitValue=function(t,i){e.items[i].active=t},e.onCancel=function(){e.hide()},e.onSave=function(){var t=!1;_.each(e.items,function(i){var a=_.findWhere(e.data.sections,{name:i.name});i.screen||i.active===a.active||(t=!0)}),e.callback(e.items),e.hide(),t&&$Resume.update()},e.hide=function(){$Editable.hide()}}),riot.tag2("editable-works",'<ui-switcher id="activity" color="white" value="{active}" commit="true"></ui-switcher> <div class="section__editable__content col-lg-offset-1 {hide : !switcher.value}"> <div class="title title-main">{title}</div> <div class="row mb-m"> <div class="col-md-12"> <div if="{!$Editable.component.editing}" class="pos-rel"> <span class="input-title">название секции</span> <input oninput="{$Editable.component.autoCommit}" class="input {app.device.isPhone ? \'input-l\' : \'input-xl\'}" data-name="title" name="title_data" type="text" placeholder="Название секции" autocomplete="off" value="{data && data.title ? data.title : $store.resume.placeholder.works.title()}"> </div> <div if="{$Editable.component.editing}" class="title title-xl">Редактирование</div> </div> <div class="col-md-12 xs-mt-m sm-mt-m target-visible"> <div if="{!$Editable.component.editing}"> <ui-button-plus onclick="{$Editable.component.createItem}" content="Добавить проект" size="{app.device.isPhone ? \'l\' : \'xl\'}"></ui-button-plus> </div> <div if="{$Editable.component.editing}" class="row"> <div class="col-xs-12"> <ui-button-edit onclick="{$Editable.component.saveItem}" content="Сохранить" size="l"></ui-button-edit> </div> <div class="col-xs-12"> <button onclick="{$Editable.component.cancelEditing}" class="btn btn-l btn-upper w100p text-center borderRadius-m" type="button">Отменить</button> </div> </div> </div> </div> <div if="{$Editable.component.editing}" class="row mb-m target-visible"> <div class="col-xs-24"> <editable-works-item item="{$Editable.component.editing}"></editable-works-item> </div> </div> <div if="{!$Editable.component.editing}" class="row mb-m mt-l"> <div class="col-xs-24"> <div class="pos-rel"> <span class="input-title">вступительный текст</span> <div class="pos-rel"> <textarea-expand onclick="{$Editable.component.textEdit}" data-name="text"></textarea-expand> <textarea oninput="{$Editable.component.autoCommit}" class="textarea textarea-xl" data-name="text" name="text_data" autocomplete="off">{data.text}</textarea> </div> </div> </div> </div> <div class="row target-hidden"> <div each="{item, i in data.items}" class="col-md-12 mb-m"> <div class="pos-rel"> <div class="input-group-addon addons"> <input-addon-edit onclick="{$Editable.component.editItem}"></input-addon-edit> <input-addon-remove onclick="{$Editable.component.removeItem}"></input-addon-remove> </div> <div class="input input-l">{item.title}</div> </div> </div> </div> </div> <div if="{!$Editable.component.editing}" class="section__editable__footer text-center"> <button onclick="{$Editable.component.onCancel}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper" type="button">Отменить</button> <button onclick="{$Editable.component.onSave}" class="btn btn-{app.device.isPhone ? \'l\' : \'xl\'} btn-upper ml-xs" type="button">Сохранить</button> </div>',"",'class="col-sm-24 col-md-22 col-lg-19 centered section__editable__container" data-editing="works"',function(t){}),riot.tag2("editable-works-item",'<div class="row mb-s"> <div class="col-xs-9 col-sm-6"> <div class="select select-l"> <select onchange="{$Editable.component.autoCommitItems}" data-name="year"> <option each="{item in _.range(1940, new Date().getFullYear() + 1)}" value="{item}" __selected="{editing.year == item}">{item}</option> </select> </div> </div> <div class="col-xs-15 col-sm-18"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Название проекта" data-name="title" autocomplete="off" value="{opts.item.title}"> </div> </div> <div class="row mb-s"> <div class="col-xs-24"> <div class="pos-rel"> <textarea-expand onclick="{$Editable.component.textEdit}" placeholder="Постарайтесь вспомнить и сформулировать ваши проффесиональные достижения в проекте, без расплывчатых фраз, емко выделите важные для работодателя моменты" data-name="text"></textarea-expand> <textarea oninput="{$Editable.component.autoCommitItems}" class="textarea textarea-xl" placeholder="Постарайтесь вспомнить и сформулировать ваши проффесиональные достижения в проекте, без расплывчатых фраз, емко выделите важные для работодателя моменты" data-name="text" autocomplete="off">{opts.item.text}</textarea> </div> </div> </div> <div class="row mb-xs"> <div class="col-xs-24 col-md-12"> <div class="input-group input-group-icon"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Адрес ссылки на материалы" data-name="links.url.value" autocomplete="off" value="{opts.item.links.url.value}"> <div class="input-icon"> <svg class="input-svg input-svg-link" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="input-svg-color" d="M 39.59375 0.03125 C 36.82475 0.03125 34.205 1.13775 32.25 3.09375 C 31.728 3.61375 26.45175 8.891 26.09375 9.25 C 23.04775 12.295 22.29775 16.77525 23.84375 20.53125 L 27.125 17.28125 C 26.923 15.39425 27.52925 13.46975 28.90625 12.09375 C 29.26325 11.73575 34.56475 6.43125 35.09375 5.90625 C 36.29775 4.70225 37.89275 4.03125 39.59375 4.03125 C 41.29475 4.03125 42.88975 4.70225 44.09375 5.90625 C 45.29775 7.11025 45.96875 8.70425 45.96875 10.40625 C 45.96875 12.10725 45.29675 13.70225 44.09375 14.90625 L 37.90625 21.09375 C 36.70325 22.29675 35.10825 22.96875 33.40625 22.96875 C 33.17625 22.96875 32.94675 22.93125 32.71875 22.90625 L 29.46875 26.15625 C 30.70475 26.66625 32.02925 26.96875 33.40625 26.96875 C 36.17625 26.96875 38.793 25.86325 40.75 23.90625 L 46.90625 17.75 C 48.86425 15.793 49.9375 13.17425 49.9375 10.40625 C 49.9375 7.63625 48.86425 5.05175 46.90625 3.09375 C 44.94925 1.13675 42.36075 0.03125 39.59375 0.03125 z M 32.96875 14.96875 A 2.0002 2.0002 0 0 0 31.59375 15.59375 L 15.59375 31.59375 A 2.0002 2.0002 0 1 0 18.40625 34.40625 L 34.40625 18.40625 A 2.0002 2.0002 0 0 0 32.96875 14.96875 z M 16.53125 23.09375 C 13.76125 23.09375 11.17575 24.168 9.21875 26.125 L 3.03125 32.3125 C 1.07425 34.2685 0 36.857 0 39.625 C 0.002 42.395 1.07325 45.01175 3.03125 46.96875 C 4.98825 48.92575 7.607 50 10.375 50 C 13.144 50 15.7325 48.92475 17.6875 46.96875 C 18.2095 46.44775 23.517 41.14025 23.875 40.78125 C 26.918 37.73825 27.666 33.254 26.125 29.5 L 22.84375 32.78125 C 23.04275 34.66425 22.40525 36.59475 21.03125 37.96875 C 20.67425 38.32575 15.404 43.599 14.875 44.125 C 13.671 45.328 12.076 46 10.375 46 C 8.674 46 7.079 45.329 5.875 44.125 C 4.671 42.922 4 41.326 4 39.625 C 4 37.924 4.64075 36.328 5.84375 35.125 L 12.03125 28.9375 C 13.23425 27.7345 14.82925 27.09375 16.53125 27.09375 C 16.76625 27.09375 17.019 27.098 17.25 27.125 L 20.5 23.875 C 19.261 23.363 17.91125 23.09375 16.53125 23.09375 z"></path> </svg> </div> </div> </div> <div class="col-xs-24 col-md-12 hidden-xs"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Пояснение к ссылке" data-name="links.url.title" autocomplete="off" value="{opts.item.links.url.title}"> </div> </div> <div class="row mb-xs"> <div class="col-xs-24 col-md-12"> <div class="input-group input-group-icon"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Ссылка к фотографиям" data-name="links.image.value" autocomplete="off" value="{opts.item.links.image.value}"> <div class="input-icon"> <svg class="input-svg input-svg-image" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="input-svg-color" d="M93.3,30.6l-3.2-1.1l-1.3-9.3c-0.7-5.3-5.1-9.2-10.4-9.4c-0.6,0-1.2,0-1.8,0.1l-28.4,3.9l-20.1-7c-3.2-1.1-6.7,0.6-7.8,3.8 l-2.6,7.5l-3.9,0.5c-2.9,0.4-5.4,1.9-7.2,4.2c-1.7,2.3-2.5,5.2-2.1,8L7,49.8L2.9,61.6c-1.1,3.2,0.6,6.7,3.8,7.8l3.2,1.1l1.3,9.3 c0.7,5.3,5.1,9.2,10.4,9.4c0.6,0,1.2,0,1.8-0.1l28.4-3.9l20.1,7c3.2,1.1,6.7-0.6,7.8-3.8l2.6-7.5l3.9-0.5c5.9-0.8,10.1-6.3,9.3-12.2 L93,50.2l4.1-11.8C98.2,35.2,96.5,31.7,93.3,30.6z M71.1,47.2c-1.3-1-3.2-0.7-4.2,0.6L58.4,59L38.6,44c-1.3-1-3.2-0.7-4.2,0.6 L18.7,65.4l-4.8-34.7c-0.1-0.5,0.1-0.9,0.3-1.1c0.2-0.2,0.5-0.5,1-0.6l62.8-8.7c0.1,0,0.2,0,0.3,0c0.6,0,1.3,0.5,1.4,1.2l5,35.8 L71.1,47.2z M63.9,34.6c0.5,3.9-2.2,7.5-6.1,8.1c-3.9,0.5-7.5-2.2-8.1-6.1s2.2-7.5,6.1-8.1C59.8,28,63.4,30.7,63.9,34.6z"></path></svg> </div> </div> </div> <div class="col-xs-24 col-md-12 hidden-xs"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Пояснение к ссылке" data-name="links.image.title" autocomplete="off" value="{opts.item.links.image.title}"> </div> </div> <div class="row"> <div class="col-xs-24 col-md-12"> <div class="input-group input-group-icon"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Ссылка к видео" data-name="links.video.value" autocomplete="off" value="{opts.item.links.video.value}"> <div class="input-icon"> <svg class="input-svg input-svg-video" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="input-svg-color" fill-rule="evenodd" clip-rule="evenodd" d="M97.942,26.338c-0.795-7.177-5.913-12.648-13.119-13.118 c-31.149-2.035-38.497-2.035-69.647,0C7.97,13.69,2.853,19.159,2.058,26.338c-2.418,21.825-2.417,25.499,0,47.324 C2.853,80.841,7.973,86.31,15.176,86.78c31.151,2.035,38.498,2.035,69.647,0c7.204-0.47,12.324-5.941,13.119-13.118 C100.359,51.837,100.36,48.163,97.942,26.338z M64.609,51.886L37.664,68.123c-0.699,0.421-1.672,0.432-2.382,0.03 c-0.71-0.4-1.282-1.101-1.282-1.916V33.763c0-0.815,0.572-1.516,1.282-1.917c0.71-0.401,1.602-0.39,2.301,0.031l26.985,16.237 c0.68,0.41,1.086,1.092,1.086,1.886C65.654,50.794,65.289,51.477,64.609,51.886z"></path></svg> </div> </div> </div> <div class="col-xs-24 col-md-12 hidden-xs"> <input oninput="{$Editable.component.autoCommitItems}" class="input input-l" type="text" placeholder="Пояснение к ссылке" data-name="links.video.title" autocomplete="off" value="{opts.item.links.video.title}"> </div> </div> <div class="hr pt-m"></div>',"","",function(t){
this.on("update",function(){this.editing=this.opts.item})});
riot.tag2("ux-contacts",'<div class="row"> <div class="col-xs-24 col-lg-23 col-lg-offset-2 p0"> <div class="row flex-row-center-stretch"> <ux-feedback></ux-feedback> <ux-contacts-content></ux-contacts-content> <ux-contacts-more></ux-contacts-more> </div> </div> </div>',"",'class="display-block"',function(e){}),riot.tag2("ux-contacts-content","<div class=\"pos-rel minH-100p p-m md-pr0 xs-p0\"> <btn-editable if=\"{$State.get('mode') === ⁗editing⁗}\" data=\"true\"></btn-editable> <div if=\"{!_.some(_.pick($store.resume.get('commons', 'contacts'), 'city', 'email', 'phone', 'skype'))}\" class=\"pos-centered text-center w100p pr-l\"> <button onclick=\"{openEditable}\" onupdate=\"none\" class=\"btn btn-l btn-editable btn-upper\" type=\"button\"><svg class=\"btn-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewbox=\"0 0 100 125\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\"><path class=\"btn-svg-color\" d=\"M87.754,45.284H54.716V12.246c0-2.605-2.111-4.716-4.716-4.716c-1.302,0-2.481,0.528-3.334,1.382 c-0.853,0.853-1.381,2.032-1.382,3.334v33.038l-33.038,0c-1.302,0-2.481,0.528-3.334,1.382C8.058,47.519,7.53,48.698,7.53,50 c0,2.605,2.111,4.716,4.716,4.716l33.038,0l0,33.038c0,2.605,2.111,4.716,4.716,4.716c2.604,0,4.716-2.112,4.716-4.716l0-33.038 h33.038c2.604,0,4.716-2.112,4.716-4.716C92.47,47.395,90.359,45.284,87.754,45.284z\"></path></svg>Добавить контакты</button> </div> <div onclick=\"{openEditable}\" onupdate=\"none\"> <div class=\"hidden-xs c-primary f-primary fontSize-20 fontWeight-bold mb-xs\">{$i18n(⁗resume.premium.template.My⁗)}</div> <div class=\"hidden-xs c-blackLight f-primary fontSize-30 fontWeight-8 mb-l\">{$i18n(⁗resume.premium.template.Contacts info⁗)}</div> <div if=\"{$store.resume.get('commons', 'contacts', 'city')}\" class=\"flex-row-left-center w100p pt30 xs-mb-m headline-icons\"> <div class=\"flex-centered {app.device.isPhone ? 'w100' : 'w80'} h80 ml--m\" data-scrollin-icon> <icon-city color=\"primary\" size=\"{app.device.isPhone ? 'l' : 'm'}\"></icon-city> </div> <div class=\"p h80 c-blackLight pt-s whiteSpace-normal\" data-scrollin-icon=\"\\{'stagger':60\\}\"> {$store.resume.get('commons', 'contacts', 'city', 'name')} </div> </div> <div if=\"{$store.resume.get('commons', 'contacts', 'phone', 'number')}\" class=\"pos-rel flex-row-left-center w100p xs-mb-m headline-icons\"> <div if=\"{$store.resume.get('commons', 'contacts', 'primary') == ⁗phone⁗}\" class=\"choose__contact\">{$i18n(⁗resume.premium.template.Choose⁗)}</div> <div class=\"flex-centered {app.device.isPhone ? 'w100' : 'w80'} h80 ml--m pt-xxs\" data-scrollin-icon> <icon-phone color=\"primary\" size=\"{app.device.isPhone ? 'l' : 'm'}\"></icon-phone> </div> <a href=\"{$store.resume.take.phoneLink()}\" class=\"display-block h80 c-blackLight f-primary textDecoration-none {app.device.isPhone ? 'fontSize-22' : 'fontSize-20'} fontWeight-bold pt-m\" data-scrollin-icon=\"\\{'stagger':60\\}\"> {$store.resume.take.phone()} </a> </div> <div if=\"{$store.resume.get('commons', 'contacts', 'email')}\" class=\"pos-rel flex-row-left-center w100p xs-mb-m headline-icons\" data-scrollin-icon> <div if=\"{$store.resume.get('commons', 'contacts', 'primary') == ⁗email⁗}\" class=\"choose__contact\">{$i18n(⁗resume.premium.template.Choose⁗)}</div> <div class=\"flex-centered {app.device.isPhone ? 'w100' : 'w80'} h80 ml--m\"> <icon-feedback color=\"primary\" size=\"{app.device.isPhone ? 'l' : 'm'}\"></icon-feedback> </div> <div class=\"h80 pt-m text-truncate minW-70p maxW-70p\" data-scrollin-icon=\"\\{'stagger':60\\}\"> <a href=\"mailto:{$store.resume.get('commons', 'contacts', 'email')}\" class=\"p link-primary link-underline {pointerEvents-none : $State.get('mode') === 'editing'} whiteSpace-normal\">{$store.resume.get('commons', 'contacts', 'email')}</a> </div> </div> <div if=\"{$store.resume.get('commons', 'contacts', 'skype')}\" class=\"pos-rel flex-row-left-center w100p xs-mb-m headline-icons\" data-scrollin-icon> <div if=\"{$store.resume.get('commons', 'contacts', 'primary') == ⁗skype⁗}\" class=\"choose__contact\">{$i18n(⁗resume.premium.template.Choose⁗)}</div> <div class=\"flex-centered {app.device.isPhone ? 'w100' : 'w80'} h80 ml--m pb-xxs\"> <icon-skype color=\"primary\" size=\"{app.device.isPhone ? 'l' : 'm'}\"></icon-skype> </div> <div class=\"h80 pt-m text-truncate minW-70p maxW-70p\" data-scrollin-icon=\"\\{'stagger':60\\}\"> <a href=\"skype:{$store.resume.get('commons', 'contacts', 'skype')}\" class=\"p link-primary {pointerEvents-none : $State.get('mode') === 'editing'} whiteSpace-normal\">{$store.resume.get('commons', 'contacts', 'skype')}</a> </div> </div> <div if=\"{$resume.social}\" class=\"mt-m\"> <ux-social-items classname=\"social social-{app.device.isPhone ? 'm' : 's'}\"></ui-social-items> </div> </div> </div>","",'class="component col-sm-12 col-md-12 col-lg-8 p-l md-plr-m pr0 xs-p0 {bg-snow : !app.device.isPhone} zIndex-1"',function(e){var t=this;t.openEditable=function(){return"editing"!==$State.get("mode")||void $Menu.show("contacts")}}),riot.tag2("ux-contacts-more",'<div class="contacts-cover"></div> <div class="pos-rel minH-100p p-m xs-p0"> <btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="true"></btn-editable> <div onclick="{openEditable}" onupdate="none"> <div class="hidden-xs opacity-70 f-primary fontSize-20 fontWeight-bold mb-xs">{$i18n(⁗resume.premium.template.Citizenship⁗)}</div> <div class="hidden-xs f-primary fontSize-30 fontWeight-8 mb-l">{$resume.lang == \'en\' ?  $i18n(⁗resume.premium.template.Relocation⁗) : $i18n(⁗resume.premium.template.Business trip, relocation⁗)}</div> <div class="pt25 xs-pt0"> <div class="w100p flex-column-left-center {app.device.isPhone ? \'mb-l\' : \'h80\'} headline-icons"> <div class="c-header f-primary" data-scrollin-icon>{$i18n(⁗resume.premium.template.Citizenship⁗)}</div> <div class="c-text" data-scrollin-icon="\\{\'stagger\':40\\}"> {$store.country.getTitleById($resume.commons.citizenship)} </div> </div> </div> <div class="w100p flex-column-left-center {app.device.isPhone ? \'mb-l\' : \'h80\'} headline-icons"> <div class="c-header f-primary" data-scrollin-icon>{$i18n(⁗resume.premium.template.Relocation⁗)}</div> <div class="c-text" data-scrollin-icon="\\{\'stagger\':40\\}"> {$store.dictionary.getTitleById($resume.commons.relocation, ⁗relocation⁗)} </div> </div> <div class="w100p flex-column-left-center {app.device.isPhone ? \'mb-l\' : \'h80\'} headline-icons"> <div class="c-header f-primary" data-scrollin-icon>{$i18n(⁗resume.premium.template.Business trip⁗)}</div> <div class="c-text" data-scrollin-icon="\\{\'stagger\':40\\}"> {$store.dictionary.getTitleById($resume.commons.businessTrip, ⁗businessTrip⁗)} </div> </div> <div class="w100p flex-column-left-center {app.device.isPhone ? \'mb-l\' : \'h80 mb-m\'} headline-icons"> <div class="c-header f-primary" data-scrollin-icon>{$i18n(⁗resume.premium.template.Travel time to work⁗)}</div> <div class="c-text" data-scrollin-icon="\\{\'stagger\':40\\}"> {$store.dictionary.getTitleById($resume.commons.travelTime, ⁗travelTime⁗)} </div> </div> <div if="{$store.resume.get(\'commons\', \'schedules\').length}" class="w100p flex-column-left-center headline-icons"> <div class="c-header f-primary" data-scrollin-icon>{$i18n(⁗resume.premium.template.Work schedule⁗)}</div> <div class="c-text text-lowercase text-uppercase-firstLetter" data-scrollin-icon="\\{\'stagger\':40\\}"> {get.schedules()} </div> </div> </div> </div>',"",'class="component col-sm-12 col-md-12 col-lg-8 p-l md-plr-m pr0 xs-p0 zIndex-1 hidden-sm"',function(e){var t=this;t.openEditable=function(){return"editing"!==$State.get("mode")||($Editable.show("more",{title:"График работы",citizenship:$resume.commons.citizenship,businessTrip:$resume.commons.businessTrip,relocation:$resume.commons.relocation,travelTime:$resume.commons.travelTime,schedules:$resume.commons.schedules,callback:function(e){$store.resume.select("sections",{name:"more"}).set("active",!0),_.each(e,function(e,t){$resume.commons[t]=e}),t.update({editable:!1})}}),void(t.editable=!0))},t.get={schedules:function(){return $resume.commons.schedules.map(function(e){return $store.dictionary.getTitleById(e,"schedules")}).join(", ")}}}),riot.tag2("ux-courses",'<h3 class="title">{$resume.courses && $resume.courses.title ? $resume.courses.title : $store.resume.placeholder.courses.title()}</h3> <btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.courses}"></btn-editable> <div onclick="{openEditable}" onupdate="none" class="{blur : !$resume.courses}"> <p if="{!$resume.courses || $resume.courses && $resume.courses.text}" class="mb-l pos-rel editing editing-text editing-courses-text" data-scrollin>{$resume.courses && $resume.courses.text ? $resume.courses.text : $store.resume.placeholder.courses.text}</p> <div> <div if="{$resume.courses && $resume.courses.items}" each="{item, i in _.sortArray($resume.courses.items, ⁗year⁗, ⁗desc⁗)}" class="pos-rel courses-item mtb-xl editing editing-text editing-courses-item" data-id="{item.id}"> <h3 class="c-primary mb-s headline-icons"><strong class="display-block float-left" data-scrollin-icon>{item.year}</strong><span class="display-block" data-scrollin-icon="\\{\'stagger\':60\\}"><span class="plr-xs">&ndash;</span>{item.title}</span></h3> <h3 class="c-black mb-s" data-scrollin><strong>{item.name}</strong></h3> </div> </div> </div>',"",'class="component"',function(e){var t=this;t.openEditable=function(e){return"editing"!==$State.get("mode")||void $Editable.open(e,"courses",t,{root:function(){return{title:null,text:null,items:null}},item:function(){return{id:_.newId(),name:null,title:null,year:(new Date).getFullYear()}}},[{field:"name",alert:"Название площадки или школы"},{field:"title",alert:"Введите название курса"}])}}),riot.tag2("ux-coverletter",'<div class="row coverletter__text"> <div class="col-xs-24 col-md-15 centered"> <div if="{$resume.commons.photo}" class="coverletter__photo" riot-style="background-image:url(\'{$resume.commons.photo}\')"></div> <div class="mb30 xs-mb0">{$resume.coverletter.text}</div> <button onclick="{hide}" class="hidden-xs btn btn-xl btn-{$resume.coverletter.color == \'1\' ? \'white-hover\' : \'primary\'} text-uppercase">Перейти к резюме</button> </div> </div>',"",'class="coverletter"',function(e){this.hide=function(){$root.trigger("mode","coverletter",!1)}}),riot.tag2("ux-education",'<h3 class="title">{$resume.education && $resume.education.title ? $resume.education.title : $store.resume.placeholder.education.title()}<span if="{$resume.education.level}" class="c-primary"><span class="plr-xs">&ndash;</span>{$store.education.getTitleById($resume.education.level)}</span></h3> <btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.education}"></btn-editable> <div onclick="{openEditable}" onupdate="none" class="{blur : !$resume.education}"> <p if="{!$resume.education || $resume.education && $resume.education.text}" class="mb-l pos-rel editing editing-text editing-edu-text" data-scrollin>{$resume.education && $resume.education.text ? $resume.education.text : $store.resume.placeholder.education.text}</p> <div> <div if="{$resume.education && $resume.education.items}" each="{item, i in _.sortArray($resume.education.items, ⁗year⁗, ⁗desc⁗)}" class="pos-rel education-item mtb-xl editing editing-text editing-edu-item" data-id="{item.id}"> <h3 if="{item.speciality}" class="c-primary mb-s headline-icons"><strong class="display-block float-left" data-scrollin-icon>{item.year}</strong><span class="display-block" data-scrollin-icon="\\{\'stagger\':60\\}"><span class="plr-xs">&ndash;</span>{item.speciality}</span></h3> <p class="mb-s" style="line-height:28px" data-scrollin>{item.title}</p> <h3 if="{item.faculty}" class="c-black mb-s" data-scrollin><strong>{item.faculty}</strong></h3> </div> </div> </div>',"",'class="component"',function(e){var t=this;t.openEditable=function(e){return"editing"!==$State.get("mode")||void $Editable.open(e,"education",t,{root:function(){return{title:null,text:null,level:"higher",items:null}},item:function(){return{id:_.newId(),title:null,faculty:null,speciality:null,year:(new Date).getFullYear()}}},[{field:"title",alert:"Введите название учебного заведения"}])}}),riot.tag2("ux-feedback",'<div class="p-m xs-p0 anim anim-group1 anim-scale-ease {\'pointerEvents-none\' : success}"> <div class="hidden-xs c-grayLight f-primary fontSize-20 fontWeight-bold mb-xs">{$i18n(⁗resume.premium.template.Contact or⁗)}</div> <div class="hidden-xs c-white f-primary fontSize-30 fontWeight-8 mb-l">{$i18n(⁗resume.premium.template.Invite to interview⁗)}</div> <div class="form mb-m"> <div class="form-item" data-invalid="{!data.name.valid}" data-scrollin> <label class="form-title">{$i18n(⁗resume.premium.template.Introduce / Company⁗)}</label> <input class="form-input" oninput="{commit}" name="name" onupdate="none" type="text" autocomplete="off" spellcheck="false"> </div> <div class="form-item" data-invalid="{!data.email.valid}" data-scrollin> <label class="form-title">Email</label> <input class="form-input" oninput="{commit}" name="email" onupdate="none" type="text" autocomplete="off" spellcheck="false"> </div> <div class="form-item" data-invalid="{!data.text.valid}" data-scrollin> <label class="form-title">{$i18n(⁗resume.premium.template.Message⁗)}</label> <textarea class="form-textarea" oninput="{commit}" name="text" onupdate="none" autocomplete="off" spellcheck="false"></textarea> </div> </div> <button onclick="{onSend}" onupdate="none" class="btn btn-{app.device.isPhone ? \'xl display-block centered\' : \'l\'} btn-primary">{$i18n(⁗resume.premium.template.Send message⁗)}</button> </div> <div class="pos-centered w100p text-center pointerEvents-none"> <div class="anim-group2 anim-scale" delay-show="xl"> <icon-feedback color="{app.device.isPhone ? \'primary\' : \'white\'}" size="{app.device.isPhone ? \'xl2\' : \'xl\'}"></icon-feedback> </div> <div class="anim-group2 anim-bt-soft f-primary plr-l pt-m xs-pb-l {app.device.isPhone ? \'c-primary fontSize-28\' : \'c-white fontSize-20\'}" delay-show="s" data-duration="l">{$i18n(⁗resume.premium.template.Thanks, your message was successfully⁗)}.</div> </div>',"","class=\"form-wrapper col-sm-12 col-md-12 col-lg-8 p-l pb-xl md-plr-m xs-p0 zIndex-1 {success ? 'showAnim-group2' : 'showAnim-group1'}\" data-color=\"{app.device.isPhone ? 'white' : 'black'}\"",function(e){var t=this;t.data={name:{valid:!0,value:""},email:{valid:!0,value:""},text:{valid:!0,value:""}},t.on("mount",function(){$afterlag.run(function(){$Resume.el.find("ux-feedback").find(".form-input, .form-textarea").on("focus blur",function(e){var s=$$(this).parent();"focusin"==e.type||"focus"==e.type?(s.addClass("focus"),app.device.isPhone&&(t.focus=$$(e.target),t.centered(app.sizes.height/2.5,400))):s.removeClass("focus")})})}),t.centered=function(e,s){var i=t.focus.offset().top;i<e?$Resume.screens.get("scroll").scrollBy(0,-i+e,s,IScroll.utils.ease.cubicOut):i>e&&$Resume.screens.get("scroll").scrollBy(0,-(i-e),s,IScroll.utils.ease.cubicOut)},t.onSend=function(){if(!app.demo&&"view"==$State.get("mode")){if(t.loading)return;var e=t.validator(t.data);if(!e)return void t.update();t.update({loading:!0}),app.request("addResumeInbox",{id:$resume._id,accountId:$resume.accountId,data:t.data}).then(function(){t.update({loading:!1,success:!0})},function(){t.update({loading:!1})})}},t.commit=function(e){t.data[e.target.getAttribute("name")].value=e.target.value},t.validator=function(e){return _.each(e,function(e,t){void 0!==e.valid&&(!e.value.length||"email"===t&&!_.isEmail(e.value)?e.valid=!1:e.valid=!0)}),_.every(_.pluck(_.values(e),"valid"))}}),riot.tag2("ux-hobby",'<h3 class="title">{$resume.hobby && $resume.hobby.title ? $resume.hobby.title : $store.resume.placeholder.hobby.title()}</h3> <btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.hobby}"></btn-editable> <div class="{blur : !$resume.hobby}"> <p onclick="{openEditable}" onupdate="none" data-target="text" if="{!$resume.hobby || $resume.hobby && $resume.hobby.text}" class="pos-rel editing editing-text editing-hobby-text" data-scrollin>{$resume.hobby && $resume.hobby.text ? $resume.hobby.text : $store.resume.placeholder.hobby.text}</p> <div onclick="{openEditable}" onupdate="none" data-target="hobby" class="pos-rel editing editing-text editing-hobby-items"> <div class="row hobby-items"> <div each="{item, i in $resume.hobby.items}" no-reorder class="col-xs-12 col-md-6"> <div class="hobby-item headline-icons"> <div class="hobby-icon icon-hobby icon-hobby-{item}" data-scrollin-icon="\\{\'stagger\':{(i * 40) + 40}\\}"></div> <div class="hobby-title" data-scrollin-icon="\\{\'stagger\':{(i * 40) + 30}\\}">{$store.hobby.getTitleById(item)}</div> </div> </div> </div> </div> </div>',"",'class="component"',function(e){var t=this;t.openEditable=function(e){return"editing"!==$State.get("mode")||void $Editable.open(e,"hobby",t,{root:function(){return{title:null,text:null,items:null}}},!1,{before:function(t){var s=e.currentTarget.getAttribute("data-target");s&&t.show[s].call()}})}}),riot.tag2("ux-jobs",'<div class="row"> <div class="col-xs-24 col-md-18 col-md-offset-6"> <div class="screen__inner"> <btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.jobs}"></btn-editable> <h3 class="title">{$resume.jobs && $resume.jobs.title ? $resume.jobs.title : $store.resume.placeholder.jobs.title()}<span if="{$resume.jobs && !_.isEmpty($resume.jobs.items)}" class="c-primary {display-block : app.device.isPhone}"><span class="plr-xs xs-pl0">&ndash;</span>{$store.resume.take.jobs.experience()}</span></h3> <div if="{!$resume.jobs || $resume.jobs && $resume.jobs.text}" onclick="{openEditable}" onupdate="none" class="{blur : !$resume.jobs}"> <div class="row mb-l"> <div class="col-xs-24 pb-xs"> <p class="editing editing-text editing-jobs-text" data-scrollin>{$resume.jobs && $resume.jobs.text ? $resume.jobs.text : $store.resume.placeholder.jobs.text}</p> </div> </div> </div> </div> </div> </div> <div onclick="{openEditable}" onupdate="none" class="row job-items"> <div class="col-xs-24 col-lg-22 col-lg-offset-2"> <div class="pt-xl pb-m plr-l sm-plr0 xs-pt-l xs-plr-xxs xs-pb-l bg-primary"> <div class="bg-section bg-primary"></div> <div if="{$State.get(\'mode\') === ⁗editing⁗ && (!$resume.jobs || !$resume.jobs.items)}" class="aspectRatio-169"> <div class="job-empty pos-centered pb-xl xs-pb-m"> <button class="btn btn-xl btn-editable btn-white btn-upper" type="button"><svg class="btn-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="btn-svg-color" d="M87.754,45.284H54.716V12.246c0-2.605-2.111-4.716-4.716-4.716c-1.302,0-2.481,0.528-3.334,1.382 c-0.853,0.853-1.381,2.032-1.382,3.334v33.038l-33.038,0c-1.302,0-2.481,0.528-3.334,1.382C8.058,47.519,7.53,48.698,7.53,50 c0,2.605,2.111,4.716,4.716,4.716l33.038,0l0,33.038c0,2.605,2.111,4.716,4.716,4.716c2.604,0,4.716-2.112,4.716-4.716l0-33.038 h33.038c2.604,0,4.716-2.112,4.716-4.716C92.47,47.395,90.359,45.284,87.754,45.284z"></path></svg>Добавить место работы</button> </div> <div class="job-empty-text">Подробнее расскажите о своем профессиональном опыте. Для потенциального работодателя важен результат вашей работы, постарайтесь ярче, желательно в цифрах, описать его.</div> </div> <div each="{item in $store.resume.take.jobs.items()}" class="jobs-item editing editing-jobs-item" data-id="{item.id}"> <div class="row pl-m pt-xxs sm-pl0 headline-icons"> <div class="col-md-14" data-scrollin-icon="\\{\'stagger\':60\\}"> <h3 class="job-title">{item.post}</h3> <h4 class="job-subtitle">{$store.resume.take.jobs.period(item)}</h4> </div> <div class="col-md-10"> <div class="job-year">{$store.resume.take.jobs.year(item)}</div> <h3 class="job-title text-right" data-scrollin-icon="\\{\'stagger\':120\\}">{item.title} <span if="{item.city}">&ndash; {item.city}</span></h3> </div> </div> <div class="row pl-m pt-xxs pb-xl sm-pl0"> <div class="col-xs-24 col-lg-22"> <div class="job-text" data-scrollin> {item.text} </div> </div> </div> </div> </div> </div> </div>',"",'class="component"',function(e){var t=this;t.openEditable=function(e){return"editing"!==$State.get("mode")||void $Editable.open(e,"jobs",t,{root:function(){return{title:null,text:null,experience:null,items:null}},item:function(){return{id:_.newId(),title:null,city:null,post:null,from:{month:"1",year:"2000"},to:{month:"1",year:"2000"},text:null,last:!1}}},[{field:"post",alert:"Введите должность"},{field:"title",alert:"Введите название компании"},{field:"city",alert:"Введите город"},{field:"text",alert:"Введите описание"}],{handler:function(e){return e.experience=$store.resume.take.jobs.experience(e.items),e.experience=e.experience>0&&String(e.experience)||null,e}})}}),riot.tag2("ux-languages",'<h3 class="title">{$resume.languages && $resume.languages.title ? $resume.languages.title : $store.resume.placeholder.languages.title()}</h3> <btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.languages}"></btn-editable> <div onclick="{openEditable}" onupdate="none" class="{blur : !$resume.languages}"> <p if="{!$resume.languages || $resume.languages && $resume.languages.text}" class="mb-l" data-scrollin>{$resume.languages && $resume.languages.text ? $resume.languages.text : $store.resume.placeholder.languages.text}</p> <div class="row"> <div class="editing editing-text editing-lang-items"> <div each="{item, i in ($resume.languages && $resume.languages.items ? $resume.languages.items : $store.resume.placeholder.languages.items )}" no-reorder class="col-xs-24 col-sm-24 col-md-{i % 2 == 0 ? \'11\' : \'13\'}"> <h3 class="{\'c-primary\' : item.title == \'native\'} mb-l headline-icons"><span class="display-block float-left" data-scrollin-icon>{$store.languages.getTitleById(item.title)}<span class="plr-xs">&ndash;</span></span> <strong class="display-block" if="{item.title == ⁗native⁗}" data-scrollin-icon="\\{\'stagger\':60\\}"> {$store.languages.native.getTitleById(item.value)} </strong> <strong if="{item.title != ⁗native⁗}" class="{item.value == ⁗1⁗ ? \'display-block c-grayDark\' : \'display-block\'}" data-scrollin-icon="\\{\'stagger\':60\\}"> {$store.languages.select.getTitleById(item.value)} </strong> </h3> </div> </div> </div> </div>',"",'class="component"',function(e){var t=this;t.openEditable=function(e){return"editing"!==$State.get("mode")||void $Editable.open(e,"languages",t,{root:function(){return{title:null,text:null,items:[{title:"native",value:"rus"},{title:"eng",value:"not"},{title:"deu",value:"not"},{title:"fra",value:"not"}]}}})}}),riot.tag2("ux-likes",'<div class="row"> <div class="col-xs-24 likes centered" data-gender="{$resume.commons.gender}"> <div class="likes__cover anim anim-group1 anim-scale"> <div if="{$resume.commons.photo}" class="likes__cover__photo" riot-style="background-image:url(\'{$resume.commons.photo}\')"></div> <div if="{$resume.config.likes.count && $resume.likes.length}" class="likes__cover__badge">{$resume.likes.length}</div> </div> <div class="likes__text mb-m anim anim-group1 anim-tb-ease">{$i18n(⁗resume.premium.template.If you liked my resume please supply Like⁗)}</div> <div class="anim anim-group1 anim-scale-ease"> <div onclick="{liked}" class="btn btn-xl2 btn-strong btn-white-hover">{$i18n(⁗resume.premium.template.Like⁗)}</div> </div> <div class="pos-centered-v flex-column-centered w100p pb-l pointerEvents-none"> <div class="ui-icon-check_circle_white w48 h48 mb-s anim-group2 anim-scale" delay-show="xl"></div> <div class="anim-group2 anim-bt-soft plr-l likes__text" delay-show="s" data-duration="l">{$i18n(⁗resume.premium.template.Thanks for your vote, he will be counted⁗)}.</div> </div> </div> </div>',"","class=\"display-block {isLiked ? 'showAnim-group2' : 'showAnim-group1'}\"",function(e){this.isLiked=!1,this.liked=function(){this.isLiked=!0,app.demo||app.request("addResumeLike",{id:$resume._id},{loader:!1,notify:!1})}}),riot.tag2("ux-name",'<btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$store.resume.get(⁗commons⁗, ⁗name⁗)}"></btn-editable> <div onclick="{openEditable}" onupdate="none" class="{opts.classname} {blur : !$store.resume.get(\'commons\', \'name\')}"> {$store.resume.get(⁗commons⁗, ⁗name⁗) ? $store.resume.get(⁗commons⁗, ⁗name⁗) + \' \' + $store.resume.get(⁗commons⁗, ⁗surname⁗) : $store.resume.placeholder.name} </div>',"",'class="component"',function(e){var t=this,s=$$(t.root);this.on("mount",function(){"editing"!==$State.get("mode")&&s.children().unwrap()}),t.openEditable=function(){return"editing"!==$State.get("mode")||void $Editable.show("name",{title:t.opts.title,data:{name:$store.resume.get("commons","name"),surname:$store.resume.get("commons","surname")},callback:function(e){$store.resume.select("commons","name").set(_.clean(e.name,"")),$store.resume.select("commons","surname").set(_.clean(e.surname,"")),t.update()}})}}),riot.tag2("ux-photo",'<div if="{$resume.commons.photo}" class="{photo-changer : $State.get(\'mode\') === \'editing\'}"> <div class="photo" riot-style="background-image:url(\'{$resume.commons.photo}\')" data-noise="{$State.get(\'photo\', \'noise\')}" data-filter="{$State.get(\'photo\', \'filter\')}"></div> <div if="{$State.get(\'mode\') === ⁗editing⁗}" class="photo-changer-bg"> <div class="photo-changer-title">Сменить фото</div> </div> </div> <div if="{!$resume.commons.photo}" class="photo-placeholder"> <div if="{$State.get(\'mode\') === ⁗editing⁗}" class="photo-placeholder-icon"> <svg class="photo-placeholder-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><g><path class="photo-placeholder-icon-svg-color" d="M527.4,2.94c-6.42,0-11.64,5.22-11.64,11.64V53.5c0,6.42,5.22,11.64,11.64,11.64c6.42,0,11.64-5.22,11.64-11.64V14.58 C539.04,8.16,533.82,2.94,527.4,2.94z M533.04,53.5c0,3.11-2.53,5.64-5.64,5.64s-5.64-2.53-5.64-5.64V14.58 c0-3.11,2.53-5.64,5.64-5.64s5.64,2.53,5.64,5.64V53.5z"></path></g><g><path class="photo-placeholder-icon-svg-color" d="M549.5,47.51v6.35c0,11.17-8.32,20.43-19.1,21.89v6.85h8.94c1.66,0,3,1.35,3,3c0,1.66-1.34,3-3,3h-23.88 c-1.65,0-3-1.34-3-3c0-1.65,1.35-3,3-3h8.94v-6.85c-10.77-1.46-19.1-10.72-19.1-21.89v-6.35c0-1.66,1.34-3,3-3s3,1.34,3,3v6.35 c0,8.88,7.22,16.1,16.1,16.1s16.1-7.22,16.1-16.1v-6.35c0-1.66,1.35-3,3-3C548.16,44.51,549.5,45.85,549.5,47.51z"></path></g><g><path class="photo-placeholder-icon-svg-color" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d=" M527.403-29.274"></path></g><g><path class="photo-placeholder-icon-svg-color" d="M95,50.004c0,15.618-11.046,29.433-26.266,32.85c-0.226,0.055-0.46,0.078-0.686,0.078c-1.428,0-2.715-0.983-3.042-2.434 c-0.374-1.685,0.679-3.354,2.364-3.729c12.396-2.785,21.39-14.042,21.39-26.765c0-15.126-12.31-27.436-27.436-27.436 c-9.938,0-19.081,5.367-23.941,14.042c-0.008,0.008-0.008,0.016-0.008,0.023c-0.507,1.373-1.935,2.247-3.432,1.997 c-1.037-0.172-2.106-0.257-3.167-0.257c-10.773,0-19.534,8.76-19.534,19.534c0,10.765,8.76,19.526,19.534,19.526 c10.641,0,19.323-8.565,19.518-19.159l-3.128,3.128c-1.225,1.225-3.198,1.217-4.415,0c-1.217-1.217-1.217-3.191,0-4.408 l8.464-8.472c0.585-0.585,1.381-0.913,2.208-0.913c0.827,0,1.623,0.328,2.208,0.913l8.464,8.472c1.225,1.217,1.225,3.191,0,4.408 c-0.608,0.608-1.404,0.913-2.2,0.913c-0.803,0-1.599-0.304-2.208-0.913l-3.152-3.144c-0.187,14.042-11.67,25.416-25.759,25.416 C16.561,83.673,5,72.112,5,57.906c0-14.213,11.561-25.774,25.774-25.774c0.655,0,1.303,0.023,1.958,0.078 c6.132-9.845,16.905-15.883,28.591-15.883C79.897,16.327,95,31.43,95,50.004z"></path></g></svg> <div class="photo-placeholder-title">Загрузить фото</div> </div> </div>',"",'onclick="{openEditable}" onupdate="none" class="display-block"',function(e){var t=this;t.openEditable=function(){return"editing"!==$State.get("mode")||void $Editable.show("photo",{title:t.opts.title,callback:function(e){app.request("setResumePhoto",{id:$store.resume.get("_id"),image:e},{loader:!1}).then(function(e){e&&e.image&&($store.resume.select("commons","photo").set(e.image+"?"+_.newId()),t.update())}),app.demo&&($store.resume.select("commons","photo").set(e),t.update())}})}}),riot.tag2("ux-salary",'<btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.salary}"></btn-editable> <div class="{blur : !$resume.salary}"> <div class="row"> <div onclick="{openEditable}" onupdate="none" data-screen="salary" class="col-xs-24 col-sm-12 col-md-24"> <div class="{opts.classname}"> {$resume.salary.amount ? _.numberFormat($resume.salary.amount, 0, ⁗.⁗, ⁗.⁗) : $store.resume.placeholder.salary.amount} <span class="salary__currency">{$store.currency.getTitleById($resume.salary.currency)}</span> <sup class="flex-centered pos-tl c-white bg-primary fontSize-14 lineHeight-1 borderRadius-xxxl plr-xs nowrap ml-s" style="left:100%; height:22px; padding-bottom:1px;">{$resume.salary.worktime ? $store.worktime.getTitleById($resume.salary.worktime) : $store.worktime.getTitleById($store.resume.placeholder.salary.worktime)}</sup> </div> </div> <div if="{$resume.salary.graph.active}" onclick="{$State.get(\'mode\') === ⁗editing⁗ ? openEditable : graph.open}" onupdate="none" data-screen="graph" class="col-xs-24 col-sm-12 col-md-24"> <div class="salary-graph-mini"> <span class="salary-graph-mini-bar">{$resume.salary.graph.items.join(⁗,⁗)}</span> <span class="salary-graph-mini-title">{$i18n(⁗resume.premium.template.Graph salary⁗)}</span> </div> </div> </div> </div>',"",'class="component"',function(e){var t=this;$$(t.root);t.graph={init:function(){var e=$Resume.el.find(".screen[data-section='commons']").find(".salary-graph-mini"),s=app.device.isPhone?app.sizes.width-157.5:220;s=(app.device.isPhone&&s>230?230:s)+"px",e.css("width",s),t.chart=e.find(".salary-graph-mini-bar").peity("bar",{width:s,height:"40px"})},open:function(){"editing"!==$State.get("mode")&&$Salary.graph.show()},refresh:function(){$resume.salary&&$resume.salary.graph&&$resume.salary.graph.active&&(t.chart||t.graph.init(),t.chart.text($resume.salary.graph.items.join(",")),t.chart.peity("bar",{fill:[$State.get("color")]}))}},t.on("updated",function(){t.graph.refresh()}),t.openEditable=function(e){return"editing"!==$State.get("mode")||void $Editable.show("salary",{active:$store.resume.select("sections").get({name:"salary"}).active,title:t.opts.title,salary:$resume.salary,screen:e.currentTarget.getAttribute("data-screen"),callback:function(e,s){$store.resume.select("sections",{name:"salary"}).set("active",e),$resume.salary=s,$resume.salary.active=e,t.update()}})}}),riot.tag2("ux-skills",'<h3 class="title">{$resume.skills && $resume.skills.title ? $resume.skills.title : $store.resume.placeholder.skills.title()}</h3> <btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.skills}"></btn-editable> <div onclick="{openEditable}" onupdate="none" class="{blur : !$resume.skills}"> <div class="row"> <div if="{$resume.skills && $resume.skills.header}" class="col-md-24 col-lg-12"> <div class="screen2-col-left"> <h2 class="lineHeight-xxxl c-primary pb-l sm-pb-xl md-pr-l editing editing-text editing-skills-header" data-scrollin>{$resume.skills && $resume.skills.header ? $resume.skills.header : $store.resume.placeholder.skills.header}</h2> </div> </div> <div if="{$resume.skills && $resume.skills.items || !$resume.skills}" class="col-md-21 {$resume.skills.header ? \'col-lg-12\' : \'col-lg-17 mt-m\'}"> <div class="screen2-col-right pb-l {\'pl-m\' : $resume.skills.header}"> <div class="skills-progress progress progress-m w100p editing editing-text editing-skills-progress"> <div each="{item in ($resume.skills && $resume.skills.items ? $resume.skills.items : (!$resume.skills ? $store.resume.placeholder.skills.items : []))}" no-reorder class="progress-item mb-m headline-icons"> <div class="progress-title f-primary" data-scrollin-icon>{item.title}</div> <div class="progress-score" data-scrollin-icon="\\{\'stagger\':60\\}">{item.value}%</div> <div class="progress-line" riot-style="width:{item.value}%"></div> </div> </div> </div> </div> <div if="{!$resume.skills || $resume.skills && $resume.skills.text}" class="col-xs-24 editing editing-text editing-skills-text" data-scrollin> <p class="clear">{$resume.skills && $resume.skills.text ? $resume.skills.text : $store.resume.placeholder.skills.text}</p> </div> </div> </div>',"",'class="component"',function(e){
var t=this;t.openEditable=function(e){if("editing"!==$State.get("mode"))return!0;for(var s=[],i=0;i<4;i++)s.push({title:"",value:"100"});$Editable.open(e,"skills",t,{root:function(){return{title:null,header:null,text:null,items:s}},item:function(){return{title:"",value:"100"}}})}}),riot.tag2("ux-social",'<btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.social}"></btn-editable> <div onclick="{openEditable}" onupdate="none" class="{blur : !$resume.social}"> <div class="pos-rel editing editing-text editing-social-items"> <p class="c-black text-uppercase f-primary fontWeight-bold mb-m">{$resume.social && $resume.social.title ? $resume.social.title : $store.resume.placeholder.social.title()}</p> <ux-social-items classname="{opts.classname}"></ui-social-items> </div> <ux-social-items-blank classname="{opts.classname}"></ui-social-items-blank> </div>',"",'class="component"',function(e){var t=this;t.openEditable=function(e){return"editing"!==$State.get("mode")||void $Editable.open(e,"social",t,{root:function(){return{title:null,items:[]}}})}}),riot.tag2("ux-social-items",'<a target="_blank" href="{$store.resume.select(\'social\', \'items\').get({\'title\': \'fb\'}).value}" if="{$store.resume.select(\'social\', \'items\').get({\'title\': \'fb\'}).value}" class="social-btn"> <svg class="social-btn-fb" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="fill-primary" d="M60.5 32.5c-1.7-.6-4.8-.7-6.5-.7-5.1 0-7.2 4.1-7.2 8.9v3.2h-3v6.4h3V68H53V50.3h6v-6.4h-6v-3.8c0-1.6 2.6-2.4 3.7-2.4 1 0 2 .2 2.9.5l.9-5.7"></path></svg> </a> <a target="_blank" href="{$store.resume.select(\'social\', \'items\').get({\'title\': \'vk\'}).value}" if="{$store.resume.select(\'social\', \'items\').get({\'title\': \'vk\'}).value}" class="social-btn"> <svg class="social-btn-vk" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="fill-primary" d="M56.7 49.5v-.1c2.3-1 3.5-3.1 3.5-5.6 0-5.6-5.2-6-9.5-6h-9.9v26h10.8c5.1 0 10.3-2 10.3-8 0-3.4-2-5.6-5.2-6.3zm-8.9-7h1.9c1.9 0 3.9.2 3.9 2.6 0 2.7-2 2.9-4.1 2.9h-1.8v-5.5h.1zM50 59h-2.2v-6.5h3c2.3 0 4.5.3 4.5 3.2 0 3.1-2.9 3.3-5.3 3.3z"></path></svg> </a> <a target="_blank" href="{$store.resume.select(\'social\', \'items\').get({\'title\': \'dk\'}).value}" if="{$store.resume.select(\'social\', \'items\').get({\'title\': \'dk\'}).value}" class="social-btn"> <svg class="social-btn-dk" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="fill-primary" d="M56.3 52.2c-2 .9-4.1 1.5-6.3 1.5-2.3 0-4.1-.6-6.2-1.5-.4-.2-.8-.3-1.3-.3-1.5 0-2.7 1.2-2.7 2.6 0 2.6 4.5 3.5 6.6 4l-5.3 4.9c-.5.5-.8 1.1-.8 1.8 0 1.4 1.2 2.6 2.7 2.6.7 0 1.4-.2 1.9-.7l5-4.7 5 4.7c.5.5 1.2.7 1.9.7 1.5 0 2.7-1.2 2.7-2.6 0-.7-.3-1.3-.8-1.8l-5.3-4.9c2.2-.4 6.6-1.5 6.6-4 0-1.3-1.2-2.6-2.7-2.6-.2-.1-.6 0-1 .3M50.1 34.3c-5.3 0-9.2 4-9.2 8.7 0 4.6 4 8.7 9.2 8.7 5.3 0 9.2-4 9.2-8.7 0-4.6-4-8.7-9.2-8.7zm0 12.3c-2.2 0-3.8-1.7-3.8-3.6 0-1.9 1.7-3.6 3.8-3.6 2.2 0 3.8 1.7 3.8 3.6 0 1.9-1.7 3.6-3.8 3.6z"></path></svg> </a> <a target="_blank" href="{$store.resume.select(\'social\', \'items\').get({\'title\': \'tw\'}).value}" if="{$store.resume.select(\'social\', \'items\').get({\'title\': \'tw\'}).value}" class="social-btn"> <svg class="social-btn-tw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="fill-primary" d="M63.8 41.8c1.5-.8 2.6-2.1 3.1-3.6-1.4.7-2.9 1.3-4.5 1.6-1.3-1.3-3.2-2-5.1-2-3.9 0-7 2.9-7 6.5 0 .5 0 1 .2 1.5-5.6-.4-10.9-2.8-14.5-6.9-.6 1-.9 2.1-.9 3.3 0 2.2 1.2 4.2 3.1 5.4-1.2 0-2.2-.3-3.2-.8v.1c-.1 3.1 2.3 5.7 5.6 6.3-.6.2-1.2.2-1.9.2-.4 0-.9 0-1.3-.1.9 2.6 3.6 4.5 6.5 4.5-2.5 1.8-5.5 2.8-8.7 2.8-.5 0-1.1 0-1.6-.1 3.2 1.9 6.9 2.9 10.8 2.9 8.1 0 14.9-4 18.2-10.9 1.1-2.4 1.8-4.9 1.8-7.5v-.9c1.4-.9 2.6-2 3.5-3.3-1.4.5-2.7.9-4.1 1z"></path></svg> </a> <a target="_blank" href="{$store.resume.select(\'social\', \'items\').get({\'title\': \'gl\'}).value}" if="{$store.resume.select(\'social\', \'items\').get({\'title\': \'gl\'}).value}" class="social-btn"> <svg class="social-btn-gl" enable-background="new 0 0 128 128" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><rect clip-rule="evenodd" fill="none" fill-rule="evenodd"></rect><path class="fill-primary" clip-rule="evenodd" d="M40.654,55.935v16.13 c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194 s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877 c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727 c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823 H128V56.742H113.912z" fill-rule="evenodd"></path></g></g></svg> </a> <a target="_blank" href="{$store.resume.select(\'social\', \'items\').get({\'title\': \'in\'}).value}" if="{$store.resume.select(\'social\', \'items\').get({\'title\': \'in\'}).value}" class="social-btn"> <svg class="social-btn-in" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="fill-primary" d="M 15 2 C 7.832 2 2 7.832 2 15 L 2 35 C 2 42.168 7.832 48 15 48 L 35 48 C 42.168 48 48 42.168 48 35 L 48 15 C 48 7.832 42.168 2 35 2 L 15 2 z M 38 10 C 39.105 10 40 10.895 40 12 C 40 13.105 39.105 14 38 14 C 36.895 14 36 13.105 36 12 C 36 10.895 36.895 10 38 10 z M 25 13 C 31.617 13 37 18.383 37 25 C 37 31.617 31.617 37 25 37 C 18.383 37 13 31.617 13 25 C 13 18.383 18.383 13 25 13 z M 25 15 C 19.486 15 15 19.486 15 25 C 15 30.514 19.486 35 25 35 C 30.514 35 35 30.514 35 25 C 35 19.486 30.514 15 25 15 z"></path> </svg> </a> <a target="_blank" href="{$store.resume.select(\'social\', \'items\').get({\'title\': \'lk\'}).value}" if="{$store.resume.select(\'social\', \'items\').get({\'title\': \'lk\'}).value}" class="social-btn"> <svg class="social-btn-lk" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="fill-primary" d="M40,0H10C4.486,0,0,4.486,0,10v30c0,5.514,4.486,10,10,10h30c5.514,0,10-4.486,10-10V10C50,4.486,45.514,0,40,0z M16,34.9 V42H8V19h8V34.9z M12,16.5c-2.4,0-4-1.7-4-3.8C8,10.6,9.6,9,12,9s3.9,1.6,4,3.7C16,14.8,14.5,16.5,12,16.5z M42,42h-8 c0,0,0-12.1,0-13s-0.1-4-3.5-4c-3,0-3.5,2.9-3.5,4s0,13,0,13h-8V19h8v3.1c0,0,1.6-3.1,6.3-3.1c4.8,0,8.7,3.3,8.7,10V42z"></path> </svg> </a>',"","if=\"{_.any(_.pluck($store.resume.get('social', 'items'), ⁗value⁗))}\" class=\"{opts.classname} display-block\"",function(e){}),riot.tag2("ux-social-items-blank",'<a target="_blank" href="#" class="social-btn"> <svg class="social-btn-fb" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="fill-primary" d="M60.5 32.5c-1.7-.6-4.8-.7-6.5-.7-5.1 0-7.2 4.1-7.2 8.9v3.2h-3v6.4h3V68H53V50.3h6v-6.4h-6v-3.8c0-1.6 2.6-2.4 3.7-2.4 1 0 2 .2 2.9.5l.9-5.7"></path></svg> </a> <a target="_blank" href="#" class="social-btn"> <svg class="social-btn-vk" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="fill-primary" d="M56.7 49.5v-.1c2.3-1 3.5-3.1 3.5-5.6 0-5.6-5.2-6-9.5-6h-9.9v26h10.8c5.1 0 10.3-2 10.3-8 0-3.4-2-5.6-5.2-6.3zm-8.9-7h1.9c1.9 0 3.9.2 3.9 2.6 0 2.7-2 2.9-4.1 2.9h-1.8v-5.5h.1zM50 59h-2.2v-6.5h3c2.3 0 4.5.3 4.5 3.2 0 3.1-2.9 3.3-5.3 3.3z"></path></svg> </a> <a target="_blank" href="#" class="social-btn"> <svg class="social-btn-dk" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="fill-primary" d="M56.3 52.2c-2 .9-4.1 1.5-6.3 1.5-2.3 0-4.1-.6-6.2-1.5-.4-.2-.8-.3-1.3-.3-1.5 0-2.7 1.2-2.7 2.6 0 2.6 4.5 3.5 6.6 4l-5.3 4.9c-.5.5-.8 1.1-.8 1.8 0 1.4 1.2 2.6 2.7 2.6.7 0 1.4-.2 1.9-.7l5-4.7 5 4.7c.5.5 1.2.7 1.9.7 1.5 0 2.7-1.2 2.7-2.6 0-.7-.3-1.3-.8-1.8l-5.3-4.9c2.2-.4 6.6-1.5 6.6-4 0-1.3-1.2-2.6-2.7-2.6-.2-.1-.6 0-1 .3M50.1 34.3c-5.3 0-9.2 4-9.2 8.7 0 4.6 4 8.7 9.2 8.7 5.3 0 9.2-4 9.2-8.7 0-4.6-4-8.7-9.2-8.7zm0 12.3c-2.2 0-3.8-1.7-3.8-3.6 0-1.9 1.7-3.6 3.8-3.6 2.2 0 3.8 1.7 3.8 3.6 0 1.9-1.7 3.6-3.8 3.6z"></path></svg> </a> <a target="_blank" href="#" class="social-btn"> <svg class="social-btn-tw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="fill-primary" d="M63.8 41.8c1.5-.8 2.6-2.1 3.1-3.6-1.4.7-2.9 1.3-4.5 1.6-1.3-1.3-3.2-2-5.1-2-3.9 0-7 2.9-7 6.5 0 .5 0 1 .2 1.5-5.6-.4-10.9-2.8-14.5-6.9-.6 1-.9 2.1-.9 3.3 0 2.2 1.2 4.2 3.1 5.4-1.2 0-2.2-.3-3.2-.8v.1c-.1 3.1 2.3 5.7 5.6 6.3-.6.2-1.2.2-1.9.2-.4 0-.9 0-1.3-.1.9 2.6 3.6 4.5 6.5 4.5-2.5 1.8-5.5 2.8-8.7 2.8-.5 0-1.1 0-1.6-.1 3.2 1.9 6.9 2.9 10.8 2.9 8.1 0 14.9-4 18.2-10.9 1.1-2.4 1.8-4.9 1.8-7.5v-.9c1.4-.9 2.6-2 3.5-3.3-1.4.5-2.7.9-4.1 1z"></path></svg> </a> <a target="_blank" href="#" class="social-btn"> <svg class="social-btn-gl" enable-background="new 0 0 128 128" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><rect clip-rule="evenodd" fill="none" fill-rule="evenodd"></rect><path class="fill-primary" clip-rule="evenodd" d="M40.654,55.935v16.13 c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194 s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877 c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727 c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823 H128V56.742H113.912z" fill-rule="evenodd"></path></g></g></svg> </a> <a target="_blank" href="#" class="social-btn"> <svg class="social-btn-in" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="fill-primary" d="M 15 2 C 7.832 2 2 7.832 2 15 L 2 35 C 2 42.168 7.832 48 15 48 L 35 48 C 42.168 48 48 42.168 48 35 L 48 15 C 48 7.832 42.168 2 35 2 L 15 2 z M 38 10 C 39.105 10 40 10.895 40 12 C 40 13.105 39.105 14 38 14 C 36.895 14 36 13.105 36 12 C 36 10.895 36.895 10 38 10 z M 25 13 C 31.617 13 37 18.383 37 25 C 37 31.617 31.617 37 25 37 C 18.383 37 13 31.617 13 25 C 13 18.383 18.383 13 25 13 z M 25 15 C 19.486 15 15 19.486 15 25 C 15 30.514 19.486 35 25 35 C 30.514 35 35 30.514 35 25 C 35 19.486 30.514 15 25 15 z"></path> </svg> </a>',"","if=\"{$State.get('mode') == ⁗editing⁗ && !app.device.isMobile && !_.any(_.pluck($store.resume.get('social', 'items'), ⁗value⁗))}\" class=\"{opts.classname} display-block\"",function(e){}),riot.tag2("ux-tags",'<btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.tags}"></btn-editable> <div onclick="{openEditable}" onupdate="none" class="{opts.classname} {blur : !$resume.tags}"> <div class="tag" each="{item in ($resume.tags ? $resume.tags : $store.resume.placeholder.tags)}" no-reorder>{item}</div> </div>',"",'class="component"',function(e){var t=this;t.openEditable=function(){return"editing"!==$State.get("mode")||($Editable.show("tags",{active:$store.resume.select("sections").get({name:"tags"}).active,title:t.opts.title,tags:$resume.tags,callback:function(e,s){$store.resume.select("sections",{name:"tags"}).set("active",e),$resume.tags=_.isEmpty(s)?null:s,t.update({editable:!1})}}),void(t.editable=!0))}}),riot.tag2("ux-text",'<btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{opts.cursor.get(opts.update)}"></btn-editable> <div onclick="{openEditable}" onupdate="none" class="{opts.classname} {blur : !opts.cursor.get(opts.update)}"> <div class="{\'editing editing-text editing-commons-text\' : opts.update != ⁗post⁗}">{opts.cursor.get(opts.update) ? opts.cursor.get(opts.update) : $store.resume.placeholder[opts.update]}</div> </div>',"",'class="component"',function(e){var t=this,s=$$(t.root);this.on("mount",function(){"editing"!==$State.get("mode")&&(t.opts.cursor.get(t.opts.update)?s.children().unwrap():s.remove())}),t.openEditable=function(){return"editing"!==$State.get("mode")||($Editable.show("text",{active:t.opts.activity?$store.resume.select("sections").get({name:t.opts.update}).active:null,title:t.opts.title,type:t.opts.type,update:t.opts.update,editing:t.opts.cursor.get(t.opts.update),autosuggest:t.opts.autosuggest,callback:function(e,s){null!==e&&$store.resume.select("sections",{name:t.opts.update}).set("active",e),t.opts.cursor.set(t.opts.update,s?s:null),app.device.isPhone||"about"!=t.opts.update?t.update({editable:!1}):($Resume.tags["ux-about"].update({editable:!1}),$Resume.tags["ux-about-large"].update({editable:!1}))}}),void(t.editable=!0))}}),riot.tag2("ux-text-large",'<div class="clear"></div> <div class="screen__inner pt-xl sm-pt-l"> <ux-text classname="p mb-l" center="true" update="about" cursor="{$store.resume.select()}" activity="true" title="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗about⁗}).title}" type="textarea"></ux-text> </div>',"",'if="{$store.resume.select(⁗sections⁗).get({⁗name⁗: ⁗about⁗}).active && $store.resume.isLargeAboutMe()}"',function(e){}),riot.tag2("ux-works",'<div class="row"> <div class="col-xs-24 col-md-18 col-md-offset-6"> <div class="screen__inner"> <btn-editable if="{$State.get(\'mode\') === ⁗editing⁗}" data="{$resume.works}"></btn-editable> <h3 class="title">{$resume.works && $resume.works.title ? $resume.works.title : $store.resume.placeholder.works.title()}</h3> <div if="{!$resume.works || $resume.works && $resume.works.text}" onclick="{openEditable}" onupdate="none" class="{blur : !$resume.works}"> <div class="row mb-l"> <div class="col-xs-24 pb-xs"> <p class="editing editing-text editing-works-text" data-scrollin>{$resume.works && $resume.works.text ? $resume.works.text : $store.resume.placeholder.works.text}</p> </div> </div> </div> </div> </div> </div> <div onclick="{openEditable}" onupdate="none" class="row work-items"> <div class="col-xs-24 col-lg-22 col-lg-offset-2"> <div class="pt-xl pb-m plr-l sm-plr0 xs-pt-l xs-plr-xxs xs-pb-l bg-primary"> <div class="bg-section bg-primary"></div> <div class="row pl-m pt-xxs sm-pl0"> <div if="{$State.get(\'mode\') === ⁗editing⁗ && (!$resume.works || !$resume.works.items)}" class="aspectRatio-169"> <div class="work-empty pos-centered pb-xl xs-pb-m"> <button class="btn btn-xl btn-editable btn-white btn-upper" type="button"><svg class="btn-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="btn-svg-color" d="M87.754,45.284H54.716V12.246c0-2.605-2.111-4.716-4.716-4.716c-1.302,0-2.481,0.528-3.334,1.382 c-0.853,0.853-1.381,2.032-1.382,3.334v33.038l-33.038,0c-1.302,0-2.481,0.528-3.334,1.382C8.058,47.519,7.53,48.698,7.53,50 c0,2.605,2.111,4.716,4.716,4.716l33.038,0l0,33.038c0,2.605,2.111,4.716,4.716,4.716c2.604,0,4.716-2.112,4.716-4.716l0-33.038 h33.038c2.604,0,4.716-2.112,4.716-4.716C92.47,47.395,90.359,45.284,87.754,45.284z"></path></svg>Добавить проекты</button> </div> <div class="work-empty-text">Расскажите о своих проектах, в каких проектах или работах вы учавствовали, каких достигли успехов, возможно указать ссылки на фото и видео материалы.</div> </div> <div each="{item, i in _.sortArray($resume.works.items, ⁗year⁗, ⁗desc⁗)}" class="works-item col-md-12 editing editing-works-item" data-id="{item.id}"> <div class="work-num hidden-xs">{i < 9 ? \'0\' + ( i + 1 ) : i + 1}.</div> <div class="row"> <div if="{isYears()}" class="col-md-4"> <h3 class="work-title" data-scrollin>{item.year}</h3> </div> <div class="{isYears() ? \'col-md-20\' : \'col-md-24\'}"> <div class="work-num visible-xs">{i < 9 ? \'0\' + ( i + 1 ) : i + 1}.</div> <h3 class="work-title" data-scrollin>{item.title}</h3> <div class="work-text" data-scrollin>{item.text}</div> <div class="work-item-links headline-icons"> <div class="work-item-links-container"> <a if="{item.links && item.links.url && item.links.url.value}" target="_blank" href="{item.links.url.value}" class="work-item-link" data-balloon="{item.links.url.title}" data-icon="url" data-scrollin-icon></a> <a if="{item.links && item.links.image && item.links.image.value}" target="_blank" href="{item.links.image.value}" class="work-item-link" data-balloon="{item.links.image.title}" data-icon="image" data-scrollin-icon="\\{\'stagger\':40\\}"></a> <a if="{item.links && item.links.video && item.links.video.value}" target="_blank" href="{item.links.video.value}" class="work-item-link" data-balloon="{item.links.video.title}" data-icon="video" data-scrollin-icon="\\{\'stagger\':80\\}"></a> </div> </div> </div> </div> </div> </div> </div> </div> </div>',"",'class="component"',function(e){var t=this;t.openEditable=function(e){return"editing"!==$State.get("mode")||void $Editable.open(e,"works",t,{root:function(){return{title:null,text:null,items:null}},item:function(){return{id:_.newId(),year:(new Date).getFullYear(),title:null,text:null,links:{url:{title:null,value:null},image:{title:null,value:null},video:{title:null,value:null}}}}},[{field:"title",alert:"Введите название проекта"},{field:"text",alert:"Введите описание проекта"}])},t.isYears=function(){return _.any(_.pluck($resume.works.items,"year"))}});
var app=app||{};app.define=function(t){var e,i=t.split("."),n=app;for("app"==i[0]&&(i=i.slice(1)),e=0;e<i.length;e++)"undefined"==typeof n[i[e]]&&(n[i[e]]={}),n=n[i[e]];return n},app.tag=function(t,e){if(window.riot){if(!e||!window.$afterlag)return _.filter(riot.vdom?riot.vdom:riot.util.vdom,function(e){if(e.root.nodeName.toLowerCase()==t)return e})[0];var i=app.tag(t);i&&i.isMounted?e(i):$afterlag.run(function(){var i=app.tag(t);i&&(i.isMounted?e(i):app.tag(t).one("updated",function(){e(i)}))})}},app.domain=function(){return location.protocol+"//"+location.hostname},window.Store=window.store||{},window.$store={},window.$afterlag={run:function(t,e){var i={delay:0,iterations:1};e&&_.extend(i,e);var n=new Afterlag(i);n.run(t)},xs:function(t,e){var i={iterations:2,timeout:200};e&&_.extend(i,e),$afterlag.run(t,i)},s:function(t,e){var i={iterations:3,timeout:300};e&&_.extend(i,e),$afterlag.run(t,i)},m:function(t,e){var i={iterations:5,timeout:500};e&&_.extend(i,e),$afterlag.run(t,i)},l:function(t,e){var i={iterations:7,timeout:700};e&&_.extend(i,e),$afterlag.run(t,i)},xl:function(t,e){var i={iterations:10,timeout:1e3};e&&_.extend(i,e),$afterlag.run(t,i)}},function(t){app.define("config"),app.define("effects"),app.define("sizes"),app.define("utils"),app.define("plugins"),app.define("device"),app.define("events"),app.define("loader"),app.define("$dom"),app.$dom={html:t("html"),body:t("body"),document:t(document),window:t(window),root:t("#app")},app.events={click:document&&"ontouchstart"in document.documentElement?"tap":"click"},app.keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32},window.KEY=app.keys,app.prefixed={transform:Modernizr.prefixed("transform"),"transform-origin":Modernizr.prefixed("transformOrigin"),"transition-duration":Modernizr.prefixed("transitionDuration")},$$=window.jQuery,window.moment&&moment.locale("ru"),t.fn.api=function(t){return this.data(t)?this.data(t):this.data(t,{}).data(t)}}($),function(t,e){e.init=function(i){if(i){var n,s=i.split("."),o=t;for(n=0;n<s.length;n++)o=o[s[n]];o&&"function"==typeof o.init?(o.init(),e.log("Initialize: <"+i+"> ready")):e.log("ERROR: <"+i+"> initialize")}},e.is=function(i,n){if(i){var s,o=i.split("."),r=t;for(s=0;s<o.length;s++)r=r[o[s]];r?n&&"function"==typeof n&&n():e.log("NOT found: <"+i+">")}},e.log=function(t){t&&("object"==typeof t?console.dir(t):console.log(t))},e.logger=function(t,i){t&&i&&("init"===t?e.log("Initialize: <"+i+"> ready"):"open"===t?e.log("OPEN: <"+i+">"):"close"===t?e.log("CLOSE: <"+i+">"):e.log(t+": <"+i+">"))},e.random=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},e.template=function(i,n,s){if(!t.templates[i])return void e.log("NOT found: <"+i+"> template");var o=Mustache.render(t.templates[i](),n?n:{}),r=$(o).appendTo(s?s:t.$dom.root);return r},e.copyArray=function(t){var i=null===t?null:e.isObject(t)?{}:[];for(var n in t)"object"==typeof t[n]&&"prototype"!==n?i[n]=e.copyArray(t[n]):i[n]=t[n];return i},e.sortArray=function(t,e,i){var n=_.sortBy(t,function(t){return t[e]});return"desc"===i?n.reverse():n},e.sortByDate=function(t,e,i){if(!window.moment)return t;var n=_.sortBy(t,function(t){return moment(t[e]).format("X")});return"desc"===i?n.reverse():n},e.isArray=function(t){if(t&&"[object Array]"===Object.prototype.toString.call(t))return!0},e.isFunction=function(t){if(t&&"function"==typeof t)return!0},e.fixTouchScroll=function(e,i){var n=null,s=null;e.on("touchmove MSPointerMove",function(e){if(0===s){var i=e.changedTouches[0].clientY;i<n?(n=0,e.preventDefault()):t.device&&t.device.isIOS?setTimeout(function(){n=i},1e3):n=i}}),i.on("scroll",function(){s=this.scrollTop})},e.raf=function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return e?e(t):window.setTimeout(t,1e3/60)},e.caf=function(t){var e=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;e(t),t=null},e.support={transitions:Modernizr.csstransitions},e.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e.transEndEventName=e.transEndEventNames[Modernizr.prefixed("transition")],e.animEndEventNames={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e.animEndEventName=e.animEndEventNames[Modernizr.prefixed("animation")],e.onEndTransition=function(t,i){var n=function(t){if(e.support.transitions){if(t.target!=this)return;this.removeEventListener(e.transEndEventName,n)}i&&"function"==typeof i&&i.call(this)};e.support.transitions?t.addEventListener(e.transEndEventName,n):n()},e.onEndAnimation=function(t,i){var n=function(t){if(e.support.transitions){if(t.target!=this)return;this.removeEventListener(e.animEndEventName,n)}i&&"function"==typeof i&&i.call(this)};e.support.transitions?t.addEventListener(e.animEndEventName,n):n()},e.onLoadImage=function(t,e){function i(){o||(o=!0,e&&e(!0))}function n(){e&&e(!1)}var s=new Image,o=!1;s.src=t,s.onerror=n,s.onload=i,s.complete&&i()},e.getSizeImage=function(t,e){function i(){o||(o=!0,e&&e(s.naturalWidth,s.naturalHeight))}function n(){e&&e(!1)}var s=new Image,o=!1;s.src=t,s.onerror=n,s.onload=i,s.complete&&i()},e.getBoundingClientRect=function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}},e.getScroll=function(t){var e=t.x*-1,i=t.y*-1,n=t.maxScrollX*-1,s=t.maxScrollY*-1;return{x:e,y:i,maxX:n,maxY:s}},e.throttle=function(t,e){var i=!0;return function(n){i&&(i=!1,setTimeout(function(){i=!0},e),t(n))}},e.debounce=function(t,e,i,n){3==arguments.length&&"boolean"!=typeof i&&(n=i,i=!1);var s;return function(){var o=arguments;n=n||this,i&&!s&&t.apply(n,o),clearTimeout(s),s=setTimeout(function(){!i&&t.apply(n,o),s=null},e)}},e.indexOf=function(t,e,i){for(var n=i||0,s=(t||[]).length;n<s;n++)if(t[n]==e)return n;return-1},e.inArray=function(t,i){return e.indexOf(t,i)!=-1},e.trim=function(t){return(t&&String(t)||"").replace(/^\s+|\s+$/g,"")},e.underscored=function(t){return e.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},e.deepExtend=function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]&&"object"==typeof i[n]?e.deepExtend(t[n],i[n]):t[n]=i[n]);return t},e.deepFindWhere=function(t,i,n,s){if(t instanceof Array)for(var o=0;o<t.length;o++)s=e.deepFindWhere(t[o],i,n,s);else for(var r in t)r==i&&t[r]==n&&(s=t),(t[r]instanceof Object||t[r]instanceof Array)&&(s=e.deepFindWhere(t[r],i,n,s));return s},e.numberFormat=function(t,e,i,n){if(isNaN(t)||null==t)return"";t=parseInt(t).toFixed(~~e),n="string"==typeof n?n:",";var s=t.split("."),o=s[0],r=s[1]?(i||".")+s[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+n)+r},e.clean=function(t,i){return t=e.trim(t),t?t:void 0!==i?i:null},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isEmail=function(t){return t.match(/.+@.+\..+/i)},e.newId=function(){return String(Math.round((new Date).getTime()/1e3))},e.isJSON=function(t){try{JSON.parse(t)}catch(t){return!1}return!0},e.opener=function(t){var e=window.open();e.opener=null,e.location=t},e.emailLinkProvider=function(t){if(t&&t.length){if(t.match(/gmail\.com/i))return"https://mail.google.com/mail/";if(t.match(/[mail|inbox|list|bk]\.ru/i))return"https://e.mail.ru/messages/inbox/";if(t.match(/[yandex|ya]\.ru/i))return"https://mail.yandex.ru/";if(t.match(/rambler\.ru/i))return"https://mail.rambler.ru/"}},e.getDateNow=function(){var t=new Date,e=t.getHours(),i=t.getMinutes(),n=t.getSeconds(),s=t.getMonth()+1,o=t.getDate(),r=t.getFullYear();return e<10&&(e="0"+e),i<10&&(i="0"+i),n<10&&(n="0"+n),s<10&&(s="0"+s),o<10&&(o="0"+o),r+"-"+s+"-"+o+" "+e+":"+i+":"+n},Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e},e.getDates=function(t,e){for(var i=new Array,n=t;n<=e;)i.push(new Date(n)),n=n.addDays(1);return i},e.hexToRgb=function(t,e){var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var n=0;n<i.length;n++)i[n]=parseInt(1==i[n].length?i[n]+i[n]:i[n],16);return void 0!==typeof e&&i.push(e),"rgba("+i.join(",")+")"},e.supportClipboard=function(){return!!(window.clipboardData&&window.clipboardData.setData||document.queryCommandSupported&&document.queryCommandSupported("copy"))},e.copyToClip=function(t){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",t);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var e=document.createElement("textarea");e.textContent=t,e.style.position="fixed",document.body.appendChild(e),e.select();try{return document.execCommand("copy")}catch(t){return console.warn("Copy to clipboard failed.",t),!1}finally{document.body.removeChild(e)}}},e.bbUpdate=function(t,e){t.on("update",function(t){var i=t.data&&t.data.transaction&&t.data.transaction.length&&t.data.transaction[0].path?t.data.transaction[0].path[0]:null,n=t.data&&t.data.transaction&&t.data.transaction.length?t.data.transaction[0].value:null;e(i,n,t)})},e.getCookie=function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},e.setCookie=function(t,e,i){i=i||{};var n=i.expires;if("number"==typeof n&&n){var s=new Date;s.setTime(s.getTime()+1e3*n),n=i.expires=s}n&&n.toUTCString&&(i.expires=n.toUTCString()),e=encodeURIComponent(e);var o=t+"="+e;for(var r in i){o+="; "+r;var a=i[r];a!==!0&&(o+="="+a)}document.cookie=o},window.moment&&(e.moment=window.moment),window._?_.extend(_,e):window._=e,t.utils=window._}(app,app.utils),function(){app.url=function(){return(app.config.domain?app.config.domain:"")+app.config.api},app.fetch=function(t){var e=[],n=[],s=t.split(", ");return new Promise(function(t,o){for(i=0;i<s.length;i++)_.isFunction(app.fetch.API[s[i]])&&e.push(s[i]);s.length!==e.length&&(n=_.difference(s,e)),Promise.all(e.map(app.fetch.API).concat(n.map(app.request))).then(function(e){t(e)})})},app.requestList=function(t,e,n){var s=[],e=e||[],n=n||[],o=t.split(", ");return new Promise(function(t,r){for(i=0;i<o.length;i++)s.push(o[i]);Promise.all(s.map(function(t,i){return app.request(t,e[i],n[i])})).then(function(e){t(e)},function(t){r(t)})})},app.request=function(t,e,i){return new Promise(function(n,s){if(!app.config.request||app.config.request.handler&&!app.config.request.handler(t))return void n(!0);var o=_.underscored(t).replace(/^(get|set|add|del)/g,"").replace(/_/g,"/"),r=null,a=app.config.request.options();if(i&&_.extend(a,i),t.match(/^get/)?r="GET":t.match(/^set/)?r="PUT":t.match(/^add/)?r="POST":t.match(/^del/)&&(r="DELETE"),!r)return void s("Error type request: "+t);"GET"===r&&e&&(o+="/"+e,e=null),a.loader&&window.$LoaderAjax&&$LoaderAjax.show();var l=new XMLHttpRequest;l.open(r,app.url()+o,!0),l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-Type","application/json");try{app.request.list&&app.request.list.method===t&&app.request.list.params==JSON.stringify(e)&&app.request.list.xhr.abort(),l.send(e?JSON.stringify(e):{})}catch(t){}l.onload=function(t){try{if(200==this.status){var e=JSON.parse(this.response);n("OK"===e.status&&e.result?e.result:e)}else{a.notify&&app.errHandler(this.status);var i=new Error(this.statusText);i.code=this.status,s(i)}}catch(t){}app.request.list={},a.loader&&window.$LoaderAjax&&$LoaderAjax.hide()},l.onerror=function(){s(new Error("Network Error")),a.loader&&window.$LoaderAjax&&$LoaderAjax.hide()};try{app.request.list={method:t,xhr:l,params:JSON.stringify(e)}}catch(t){}})},app.errHandler=function(t){401==t?window.$Notify?$Notify.show({color:"info",text:"Авторизируйтесь снова"}):alert("Авторизируйтесь снова"):window.$Notify?$Notify.show({color:"danger",text:"Ошибка проведения операции повторите ее чуть позже"}):alert("Ошибка проведения операции повторите ее чуть позже")};var t=function(t,e,i){app.request(app.config.logger.method,{data:{msg:t,line:i,url:e},device:app.device.get(),type:"error"},{loader:!1,notify:!1})},e=_.debounce(t,1e3,!0),n=null;window.onerror=function(t,i,s){if(app&&app.config&&app.config.logger&&app.config.logger.report){var o=t+""+i+s;o!==n&&(e(t,i,s),n=o)}}}(),function(t){t.history=[],t.resources=function(e,i,n){i=i||$.noop,n=n||$.noop;for(var s=[],o=0;o<e.length;o++)t.history.indexOf(e[o])<0&&s.push(e[o]);return s.length?void Modernizr.load({load:s,callback:function(e){t.history.push(e),n()},complete:i}):i()},t.images=function(t,e,i){var n=0;e=e||$.noop,i=i||$.noop,t.imagesLoaded({background:".bg-cover"}).always(e).progress(function(t){n++,i(n,t.images.length)})}}(app.loader),function(t,e){var i=function(){t.width=e.window.width(),t.height=parseInt(window.innerHeight,10),t.width<=735?t.size="small":t.width>=736&&t.width<=1068?t.size="medium":t.width>=1069&&t.width<=1441?t.size="large":t.width>=1442&&(t.size="xlarge")};e.window.on("resize.app orientationchange.app",i),i()}(app.sizes,app.$dom),function(t,e,i){t.support=Modernizr,t.isMobile=t.support.touch,"true"==e.root.attr("demo")&&(app.demo=!0,e.window.width()<1025&&(t.isMobile=!0,e.html.removeClass("m-no-touch").addClass("m-touch"))),e.html.addClass(t.isMobile?"d-mobile":"d-no-mobile"),t.isRetina=window.devicePixelRatio&&window.devicePixelRatio>1,e.html.addClass(t.isRetina?"d-retina":"d-no-retina");var n=function(){var i=app.sizes.width||e.window.width();t.isPhone=i<768,t.isTablet=i<1025&&i>767,t.orientation=t.isTablet&&i<1025&&i>991||t.isPhone&&i>480?"landscape":"portrait",e.html.addClass(t.isPhone?"d-phone":"d-no-phone").removeClass(t.isPhone?"d-no-phone":"d-phone").addClass(t.isTablet?"d-tablet":"d-no-tablet").removeClass(t.isTablet?"d-no-tablet":"d-tablet").addClass(t.isMobile&&"landscape"===t.orientation?"r-landscape":t.isMobile?"r-portrait":null).removeClass(t.isMobile&&"landscape"!==t.orientation?"r-landscape":t.isMobile?"r-portrait":null),!t.isMobile&&t.isTablet&&i>768&&e.html.addClass("r-landscape"),app.sizes.size&&app.sizes.size.match(/large/)?"large"===app.sizes.size?e.html.addClass("d-largeScreen").removeClass("d-xlargeScreen"):"xlarge"===app.sizes.size&&e.html.addClass("d-xlargeScreen").removeClass("d-largeScreen"):e.html.removeClass("d-largeScreen d-xlargeScreen"),t.is=t.isPhone?"phone":t.isTablet?"tablet":"desktop"};if(e.window.on((t.isMobile?"orientationchange":"resize")+".sizeCheck",n),n(),t.ua=navigator.userAgent,navigator.userAgent.match(/(iPhone)/i)&&(t.isPhone=!0),navigator.userAgent.match(/iPad/i)&&(e.html.addClass("d-ipad"),t.isIPad=!0),navigator.userAgent.match(/(iPhone|iPod touch)/i)&&(e.html.addClass("d-iphone"),t.isIPhone=!0),navigator.userAgent.match(/(iPad|iPhone|iPod touch)/i)){e.html.addClass("d-ios"),t.isIOS=!0;var s=navigator.userAgent.match(/.*CPU.*OS (\d)_(\d)/i);t.verOS=!(!s||!s[1])&&s[1]+(s[2]?"."+s[2]:"")}else e.html.addClass("d-no-ios");if(navigator.userAgent.match(/.*CPU.*OS 7_\d/i)&&(e.html.addClass("d-ios7"),t.isIOS7=!0),navigator.userAgent.match(/Android/i)){e.html.addClass("d-android"),t.isAndroid=!0;var s=navigator.userAgent.match(/Android (\d)\.(\d)/i);t.verOS=!(!s||!s[1])&&s[1]+(s[2]?"."+s[2]:"")}app.device.isMobile&&(t.os=t.isAndroid?"android":t.isIOS?"ios":"unknown"),e.html.hasClass("d-ipad d-ios7")&&e.window.on("resize orientationchange focusout",function(){window.scrollTo(0,0)}),t.isWin=navigator.platform.indexOf("Win")>-1,t.isMac=navigator.platform.indexOf("Mac")>-1,t.isLinux=navigator.platform.indexOf("Linux")>-1,e.html.addClass(t.isMac?"d-macOS":"d-no-macOS"),t.platform=t.isWin?"win":t.isMac?"mac":t.isLinux?"linux":"unknown",t.isStorage=void 0!==Storage;var o=t.ua;if(t.browser={version:(o.match(/.+(?:me|ox|on|rv|it|era|opr|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(o)||/opr/i.test(o),msie:/msie/i.test(o)&&!/opera/i.test(o)||/trident\//i.test(o),msie6:/msie 6/i.test(o)&&!/opera/i.test(o),msie7:/msie 7/i.test(o)&&!/opera/i.test(o),msie8:/msie 8/i.test(o)&&!/opera/i.test(o),msie9:/msie 9/i.test(o)&&!/opera/i.test(o),mozilla:/firefox/i.test(o),chrome:/chrome/i.test(o),safari:!/chrome/i.test(o)&&/webkit|safari|khtml/i.test(o),iphone:/iphone/i.test(o),ipod:/ipod/i.test(o),iphone4:/iphone.*OS 4/i.test(o),ipod4:/ipod.*OS 4/i.test(o),ipad:/ipad/i.test(o),android:/android/i.test(o),bada:/bada/i.test(o),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(o),msieMobile:/iemobile/i.test(o),safariMobile:/iphone|ipod|ipad/i.test(o),operaMobile:/opera mini|opera mobi/i.test(o),operaMini:/opera mini/i.test(o),mac:/mac/i.test(o),searchBot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(o)},t.isChrome=t.browser.chrome,e.html.addClass(t.isChrome?"d-chrome":"d-no-chrome"),t.isSafari=t.browser.safari,e.html.addClass(t.isSafari?"d-safari":"d-no-safari"),t.isFirefox=t.browser.mozilla,e.html.addClass(t.isFirefox?"d-firefox":"d-no-firefox"),t.isIE=t.browser.msie,e.html.addClass(t.isIE?"d-ie":null),t.isMobile&&window.FastClick&&"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1),!t.isPhone&&t.isRetina&&!t.isSafari){var r,a=e.body[0];e.window[0].addEventListener("scroll",function(){clearTimeout(r),a.getAttribute("class")&&a.getAttribute("class").match(/disable__hover/)||a.classList.add("disable__hover"),r=setTimeout(function(){a.classList.remove("disable__hover")},300)},!1)}app.device.get=function(){return i.extend(i.omit(app.device,["get","support","browser"]),{screen:app.sizes})}}(app.device,app.$dom,app.utils),function(){"function"!=typeof Object.assign&&!function(){Object.assign=function(t){"use strict";if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}}()}(),!function(t){function e(){}function i(t,e){return function(){t.apply(e,arguments)}}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function s(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void n._immediateFn(function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null===i)return void(1===t._state?o:r)(e.promise,t._value);var n;try{n=i(t._value)}catch(t){return void r(e.promise,t)}o(e.promise,n)}))}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var s=e.then;if(e instanceof n)return t._state=3,t._value=e,void a(t);if("function"==typeof s)return void c(i(s,e),t)}t._state=1,t._value=e,a(t)}catch(e){r(t,e)}}function r(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)s(t,t._deferreds[e]);t._deferreds=null}function l(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function c(t,e){var i=!1;try{t(function(t){i||(i=!0,o(e,t))},function(t){i||(i=!0,r(e,t))})}catch(t){if(i)return;i=!0,r(e,t)}}var u=setTimeout;n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,i){var n=new this.constructor(e);return s(this,new l(t,i,n)),n},n.all=function(t){var e=Array.prototype.slice.call(t);return new n(function(t,i){function n(o,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,function(t){n(o,t)},i)}e[o]=r,0===--s&&t(e)}catch(t){i(t)}}if(0===e.length)return t([]);for(var s=e.length,o=0;o<e.length;o++)n(o,e[o])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,i){i(t)})},n.race=function(t){return new n(function(e,i){for(var n=0,s=t.length;n<s;n++)t[n].then(e,i)})},n._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){u(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n._setImmediateFn=function(t){n._immediateFn=t},n._setUnhandledRejectionFn=function(t){n._unhandledRejectionFn=t},"undefined"!=typeof module&&module.exports?module.exports=n:t.Promise||(t.Promise=n)}(this),function(t,e,i,n,s){t.define("commons.EventEmitter");var o="EventEmitter:propagation",r=function(t){t&&(this.context=t)},a=r.prototype,l=function(){return this.hasOwnProperty("_events")||"object"==typeof this._events||(this._events={}),this._events},c=function(t,e){var i=t[0],n=t[1],s=t[2];if("string"!=typeof i&&"object"!=typeof i||null===i||Array.isArray(i))throw new TypeError("Expecting event name to be a string or object.");if("string"==typeof i&&!n)throw new Error("Expecting a callback function to be provided.");if(n&&"function"!=typeof n){if("object"!=typeof i||"object"!=typeof n)throw new TypeError("Expecting callback to be a function.");s=n}if("object"==typeof i)for(var o in i)e.call(this,o,i[o],s);"string"==typeof i&&(i=i.split(" "),i.forEach(function(t){e.call(this,t,n,s)},this))},u=function(t,e){var i,n,s;if(i=l.call(this)[t],i&&0!==i.length)for(i=i.slice(),this._stoppedImmediatePropagation=!1,n=0,s=i.length;n<s&&!this._stoppedImmediatePropagation&&!e(i[n],n);n++);},p=function(t,e,i){var n=-1;u.call(this,e,function(t,e){if(t.callback===i)return n=e,!0}),n!==-1&&t[e].splice(n,1)};a.on=function(){var t=l.call(this);return c.call(this,arguments,function(e,i,n){t[e]=t[e]||(t[e]=[]),t[e].push({callback:i,context:n})}),this},a.once=function(){return c.call(this,arguments,function(t,e,i){var n=function(s){e.call(i||this,s),this.off(t,n)};this.on(t,n,this)}),this},a.off=function(t,e){var i=l.call(this);if(0===arguments.length)this._events={};else if(!t||"string"!=typeof t&&"object"!=typeof t||Array.isArray(t))throw new TypeError("Expecting event name to be a string or object.");if("object"==typeof t)for(var n in t)p.call(this,i,n,t[n]);if("string"==typeof t){var s=t.split(" ");1===s.length?e?p.call(this,i,t,e):i[t]=[]:s.forEach(function(t){i[t]=[]})}return this},a.trigger=function(t,e,i){if(!t)throw new Error("trigger method requires an event name");if("string"!=typeof t)throw new TypeError("Expecting event names to be a string.");if(i&&"boolean"!=typeof i)throw new TypeError("Expecting doNotPropagate to be a boolean.");return t=t.split(" "),t.forEach(function(t){u.call(this,t,function(t){t.callback.call(t.context||this.context||this,e)}.bind(this)),i||u.call(this,o,function(i){var n=t;i.prefix&&(n=i.prefix+n),i.emitter.trigger(n,e)})},this),this},a.propagateTo=function(t,e){var i=l.call(this);i[o]||(this._events[o]=[]),i[o].push({emitter:t,prefix:e})},a.stopPropagatingTo=function(t){var e=l.call(this);if(!t)return void(e[o]=[]);var i,n=e[o],s=n.length;for(i=0;i<s;i++)if(n[i].emitter===t){n.splice(i,1);break}},a.stopImmediatePropagation=function(){this._stoppedImmediatePropagation=!0},a.has=function(t,e,i){var n=l.call(this),s=n[t];if(0===arguments.length)return Object.keys(n);if(!s)return!1;if(!e)return s.length>0;for(var o=0,r=s.length;o<r;o++){var a=s[o];if(i&&e&&a.context===i&&a.callback===e)return!0;if(e&&!i&&a.callback===e)return!0}return!1},t.commons.EventEmitter=r}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("commons.EventEmitterMicro"),t.commons.EventEmitterMicro=function(){this._events={}},t.commons.EventEmitterMicro.prototype={on:function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},once:function(t,e){function i(s){n.off(t,i),void 0!==s?e(s):e()}var n=this;this.on(t,i)},off:function(t,e){if(t in this._events!=!1){var i=this._events[t].indexOf(e);i!==-1&&this._events[t].splice(i,1)}},trigger:function(t,e){if(t in this._events!=!1)for(var i=this._events[t].length-1;i>=0;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},destroy:function(){for(var t in this._events)this._events[t]=null;this._events=null}}}(app,$,app.$dom,app.events,app.utils),app.define("help.about"),app.help.about={text:"<h3>О себе</h3><p>В этой графе вы должны максимально емко рассказать о своих личных и деловых качествах. Не забывайте, что это описание должно соотноситься с вакансией, на которую вы претендуете. Старайтесь не прибегать к шаблонным характеристикам из разряда «коммуникабельный», «стрессоустойчивый» и так далее. Ответьте на вопрос «Кто вы?», «Какой вы?», «В чем ваша индивидуальность?» так, чтобы работодатель захотел с вами встретиться. Если вы не знаете, что сюда писать, просто оставьте поле пустым, и оно не будет отображаться в вашем резюме.</p>"},app.define("help.appeal"),app.help.appeal={text:"<h3>Обращение</h3><p>В этой графе постарайтесь емко сделать обращение вашему потенциальному работадателю. Например, если вы Web-дизайнер: «Я графический дизайнер. В дизайне предпочитаю лаконичный стиль. В тексте — информационный. Убираю всё, что мешает увидеть суть.». Заинтересуйте своим обращением, исключив банальности, на нем будет часто останавливаться взгляд.</p>"},app.define("help.courses"),app.help.courses={text:"<h3>Курсы</h3><p>Постарайтесь выделить только те курсы, где полученные знания могут быть полезны в работе, на которую вы претендуете. То есть, если вы претендуете на позицию финансового аналитика, курс Нетологии «SMM в соц. сетях» указывать не надо, но если вы претендуете на позицию маркетолога — это будет большим плюсом.</p>",screen:"<h2>Например:</h2><p>Финансовое моделирование в Excel / Программирование на JAVA / Геймификация / Маркетинг в социальных сетях</p>"},app.define("help.education"),app.help.education={text:"<h3>Образование</h3><p>Здесь надо перечислить все учебные заведения, которые вы окончили или в которых еще учитесь (школу указывать надо только в том случае, если это единственное оконченное вами учебное заведение). Даты начала и конца обучения указывайте в резюме с точностью до месяца. Крайне важно обозначить квалификацию: профессию, ученую степень, наличие сертификата.</p><p>Если Вы совсем недавно закончили ВУЗ, и тема Вашего дипломного исследования напрямую связана с той вакансией, которая Вас интересует - укажите в резюме эту тему. Также же стоит указать сведения о дополнительном образовании, но только о том, что имеет непосредственное отношение к должности, на которую вы метите.</p>"},app.define("help.hobby"),app.help.hobby={text:"<h3>Мои увлечения</h3><p>Большинство работодателей не против увидеть список ваших хобби в резюме. Выделите и укажите не более 4-х основных увлечений. Также можете добавить текст с более подробным описанием о ваших хобби.</p>"},app.define("help.jobs"),app.help.jobs={text:"<h3>Название компании</h3><p>Указывайте бренд компании, а не название юридического лица. Не вынуждайте HR-менеджера сидеть в google и разбираться, в какой именно компании вы работали (подсказка: скорее всего, он делать этого не будет и просто отложит ваше резюме в сторону).</p><h3>Трудовой опыт</h3><p>Рекомендуется указывать стаж последних 5-7 лет работы. Профессиональный опыт нужно указывать хронологически, начиная с последнего места работы.</p><h3>Функциональные обязанности</h3><p>Пишите, что СДЕЛАЛИ, а не что ДЕЛАЛИ. Для потенциального работодателя важен лишь результат вашей работы. Можно работать в одной компании хоть всю жизнь и совершенно ничего не сделать, примеров полно. Или всего за год запустить новый продукт, создать новый отдел или усовершенствовать существующие процессы. Инициативность и активность действительно ценят, но не когда они написаны в графе «о себе», а когда об этом свидетельствует ваш опыт.</p>",screen:'<h2 class="not">Нельзя:</h2><p><strong>ООО “Купишуз” / ООО “Бош Бизнес”</strong>.<br>Cпециалист / младший помощник<br>Занимался поиском клиентов / Участвовал в сделках по привлечению финансирования.</p><h2 class="can">Можно:</h2><p><strong>Lamoda / Bosch</strong>.<br>Стажер / Аналитик / Junior Java Developer.<br>Привлек 17 новых клиентов с среднегодовым оборотом 160.000 руб. каждый / С моим участием было привлечено $500 млн. для 4 инвестиционных проектов.</p>'},app.define("help.languages"),app.help.languages={text:"<h3>Знание иностранного языка</h3><p>Указывайте в данном разделе только достоверную информацию, ведь степень владения иностранным языком легко проверяется на первом собеседовании. И помните: знание трёх слов на иностранном языке — не повод добавлять его в этот список.</p>"},app.define("help.photo"),app.help.photo={text:"<h3>Ваша фотография</h3><p>Фотография способна многое о вас рассказать и произвести хорошее впечатление на работодателя. Деловой костюм и фотография «как на паспорт» — не обязательное условие. Главное — адекватность и опрятный внешний вид.</p><p>Выберите ту фотографию, которая нравится вам, а если таковой нет, не поленитесь её сделать. Если есть возможность обратиться к проффесиональному фотографу, воспользуйтесь ей. Ну и не стесняйтесь спрашивать мнения друзей и родных — взгляд со стороны не бывает лишним.</p>",screen:""},app.define("help.post"),app.help.post={text:'<h3>Желаемая должность</h3><p>Здесь пишите коротко и ясно, на какую вакансию претендуете. Не нужно расплывчатых фраз. Избегайте общих слов типа «любая», «специалист», «руководящая». Вакансия должна быть одна! Если Вы адресуете свое резюме нескольким потенциальным работодателем, в каждом конкретном случае корректируйте его "под вакансию".</p>',screen:"<h2>Например:</h2><p>«Менеджер по продажам», «Стажер отдела маркетинга», «Бухгалтер», «Офис-менеджер», «Маркетолог», «Инженер КИПиА».</p>"},app.define("help.salary"),app.help.salary={text:"<h3>Заработная плата</h3><p>Укажите верхний или почти верхний порог желаемой оплаты труда в месяц. Добавьте график роста заработной платы на ближайщие 2 года. Любому работодателю будут интересны ваши абции по данному вопросу.</p>"},app.define("help.skills"),app.help.skills={text:"<h3>Основные компетенции</h3><p>Выделите основные направления в ваших специализациях, укажите силу их проффесиональных качеств, двигая ползунок от с 1 по 100%. Конечно это будет в первую очередь ваши субъективные ощущения, но они будут важны для работодателя.</p><p>Вам также не будет лишним, добавить текст в свободной форме о своих проф качествах и дополнить заголовок с емким тематическим обращением.</p>",screen:"<h2>Если вы Web-дизайнер</h2><p>Это могут быть ключевые направления:</p><p>Креативность, графический дизайн, векторная графика и т.д.</p>"},app.define("help.social"),app.help.social={text:'<h3>Аккаунты в соц. сетях</h3><p>Нельзя недооценивать силу интернета: с большой вероятностью HR-менеджер найдёт и просмотрит ваши профили в социальных сетях. Не будем усложнять ему жизнь, а себе обеспечим хорошую репутацию.</p><p>Убедитесь, что в открытом доступе на вашей страничке у вас нет неприличных фотографий с последнего похода в клуб. В общем, поменьше трэша и радикализма. Кстати, паблики, на которые вы подписаны, тоже видны всем. Время сделать серьезный шаг и отписаться от Лепры, БОРЩа и Православных Монархистов.</p><!--<p>И последнее, перед тем как вставить ссылку, лучше её преобразовать, как минимум потому что, в обратном случае, ссылка будет занимать много места и портить формат резюме. Как это сделать - <a href="#">читайте здесь</a>.</p>-->'},app.define("help.tags"),app.help.tags={text:"<h3>Ключевые навыки</h3><p>Согласно словарю Ушакова «Навык — это уменье, созданное привычкой» или «практическое уменье». Навыком можно считать владение программой / сервисом, необходимыми (или по крайней мере полезными) для вашей профессиональной деятельности.</p><p>Коммуникабельный, стрессоустойчивый, ответственный, опытный пользователь интернет — это не навыки!</p>",
screen:"<h2>Например:</h2><p>MS Office (можно в разбивке) / Photoshop / Bloomberg / C++ / Ruby / AutoCad / 1C / SAP / Консультант +</p>"},app.define("help.works"),app.help.works={text:"<h3>Проекты</h3><p>Подробнее расскажите о проектах в которых вы учавствовали. Проекты могут быть не только лично ваши, если вы учавствовали в команде, укажите какую роль вы выполняли. В графе описание проекта, постарайтесь вспомнить и сформулировать ваши проффесиональные достижения в каждом из проектов, без расплывчатых фраз, емко выделите важные для работодателя моменты.</p><p>Обязательно, при наличаии прилагаемых ссылок к вашим проектам, укажите их. На каждый проект вы можете добавить по 3 ссылки, это могут быть фото и видео материалы или просто ссылка на сторонний ресурс. Ссылки должны дополнять описание проектов и быть интересны работодателю.</p><p>Также укажите год завершенности проекта или если проект все еще в работе укажите текущий.</p>"},window.$18n={},$i18n=function(t){return i18n.localise(t)},$i18n.lang=function(t){i18n.setLanguage(t)},function(t,e,i,n,s){t.define("plugins.eventsEmitter"),t.plugins.eventsEmitter={init:function(t){s.extend(t,this.events)},events:{_events:{},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},once:function(t,e){function i(s){n.off(t,i),void 0!==s?e(s):e()}var n=this;this.on(t,i)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},trigger:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},destroyEvents:function(){var t=this;s.each(this._events,function(e,i){delete t._events[i]})}}}}(app,$,app.$dom,app.events,app.utils),app.plugins.marquee=function(t,e){var i=t.find(e.screens),n=$('<div class="'+e.spaceClass+'" />').prependTo(t),s=[],o=app.plugins.marqueeEffects({isPhone:e.phoneEmulate})[e.effect],r=(t.data("name"),{index:0,prevIndex:0,progress:0,size:0,scrolling:!1,enabled:!0,section:null,_events:{},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}}});i.each(function(t){var i=$(this),o=i.api("screen");o.state={isVisible:!1,isEndShow:!1,isStartShow:!1,isFullShow:!1,isFullHide:!0};var r={index:t,title:i[0].getAttribute("data-"+(e.dataAttr?e.dataAttr:"marquee")),block:i,fake:$('<div class="'+e.spaceClass+'__screen" />'),api:o,ratio:1,enable:!0};s.push(r),n.append(r.fake)});var a=function(){var i=0;r.size=e.vertical?t.height():app.sizes.width,$.each(s,function(n,s){if(e.vertical){var o=Math.max(s.block.outerHeight(),s.block.find(e.contentClass?"."+e.contentClass:".screen__frame").outerHeight());o>r.size?(s.block.addClass(e.longClass?e.longClass:"screen__long"),s.size=o):(s.block.removeClass(e.longClass?e.longClass:"screen__long"),s.size=t.height()),s.fake.width(app.sizes.width),s.fake.height(s.size)}else s.size=app.sizes.width,s.fake.width(s.size),s.fake.height(app.sizes.height);e.hideSections&&(!e.activeClass&&n>0||e.activeClass&&!s.block.hasClass(e.activeClass))&&s.block.css("display","none"),s.offset=i,s.ratio=s.size/r.size,i+=s.size})};a();var l=new IScroll(t[0],{marquee:!0,disableMouse:!1,mouseWheel:e.mousewheel,scrollX:!e.vertical,scrollY:e.vertical,bounce:!0,snap:"."+e.spaceClass+"__screen",eventPassthrough:!e.vertical||"horizontal",probeType:3,snapSpeed:e.duration,preventDefault:!0,scrollbars:!!e.vertical&&"custom",interactiveScrollbars:e.vertical&&!app.device.support.touch,fake:!0});r.setLimits=function(t){t=Math.min(Math.max(0,t),s.length-1);var i=t>=s.length-1,n=0==t;l[e.vertical?"minScrollY":"minScrollX"]=-s[t].offset+(n?0:s[t-1].size),l[e.vertical?"maxScrollY":"maxScrollX"]=-s[t].offset-(i?s[t].size-r.size:s[t].size),l.currentPage={x:0,y:0,pageX:0,pageY:0},l.currentPage[e.vertical?"y":"x"]=-s[t].offset,l.currentPage[e.vertical?"pageY":"pageX"]=t},r.update=function(){for(var t=-Math.round(l[e.vertical?"y":"x"]),i=0,n=0;n<s.length;n++)t>=s[n].offset&&(i=n);r.position=(t-s[i].offset)/s[i].size,r.progress=i+r.position,r.index!=i&&(r.prevIndex=r.index,r.index=i)},r.hideInvisibles=function(){for(var t=0;t<s.length;t++)t!=r.index&&t!=r.index+1&&(t>r.index+1&&o.show(s[t].block,0,r.size,s[t].ratio),t<r.index&&o.hide(s[t].block,1,r.size,s[t].ratio),e.hideSections&&(s[t].block[0].style.display="none"))},r.callScreensAPI=function(){var t=r.index>=s.length-1,i=1/s[r.index].ratio,n={top:0,bottom:0};if(n.top=r.position/i,n.bottom=r.position*s[r.index].ratio-(s[r.index].ratio-1),n.bottom>.6?(s[r.index].api.state.isVisible&&(s[r.index].api.state.isVisible=!1,s[r.index].block.triggerHandler("hide")),t||s[r.index+1].api.state.isVisible||(s[r.index+1].api.state.isVisible=!0,s[r.index+1].block.triggerHandler("show"))):n.top>.4&&(s[r.index]&&!s[r.index].api.state.isVisible&&(s[r.index].api.state.isVisible=!0,s[r.index].block.triggerHandler("show")),!t&&s[r.index+1].api.state.isVisible&&(s[r.index+1].api.state.isVisible=!1,s[r.index+1].block.triggerHandler("hide"))),t||(n.bottom>.1&&!s[r.index+1].api.state.isStartShow?(s[r.index+1].api.state.isStartShow=!0,s[r.index+1].block.triggerHandler("startShow")):n.bottom<.1&&s[r.index+1].api.state.isStartShow&&(s[r.index+1].api.state.isStartShow=!1),n.bottom>.9&&!s[r.index+1].api.state.isEndShow?(s[r.index+1].api.state.isEndShow=!0,s[r.index+1].block.triggerHandler("endShow")):n.bottom<.9&&s[r.index+1].api.state.isEndShow&&(s[r.index+1].api.state.isEndShow=!1)),s[r.index]&&n.bottom<.9&&!s[r.index].api.state.isEndShow?(s[r.index].api.state.isEndShow=!0,s[r.index].block.triggerHandler("endShow")):s[r.index]&&n.bottom>.9&&s[r.index].api.state.isEndShow&&(s[r.index].api.state.isEndShow=!1),s[r.index]&&n.bottom<.1&&!s[r.index].api.state.isStartShow?(s[r.index].api.state.isStartShow=!0,s[r.index].block.triggerHandler("startShow")):s[r.index]&&n.bottom>.1&&s[r.index].api.state.isStartShow&&(s[r.index].api.state.isStartShow=!1),s[r.index]&&n.top>=0&&n.bottom<=0){s[r.index].api.state.isFullShow||(s[r.index].api.state.isFullShow=!0,s[r.index].block.triggerHandler("fullShow"));for(var o=0;o<s.length;o++)o!=r.index&&(s[o].api.state.isFullShow=!1)}else for(var o=0;o<s.length;o++)s[o].api.state.isFullShow=!1;for(var a=[Math.floor(r.progress),Math.ceil(r.progress)],o=0;o<s.length;o++)o==a[0]||o==a[1]?(s[o].api.state.isFullHide=!1,e.hideSections&&(s[o].block[0].style.display="block"),r.section=s[o].block[0].getAttribute("data-"+(e.dataAttr?e.dataAttr:"marquee")),e.activeClass&&s[o].block.addClass(e.activeClass)):s[o].api.state.isFullHide||(e.hideSections&&(s[o].block[0].style.display="none"),s[o].block.triggerHandler("fullHide"),s[o].api.state.isFullHide=!0,e.activeClass&&s[o].block.removeClass(e.activeClass))},r.markNav=function(){e.navPrev&&e.navPrev[r.progress<=.5?"addClass":"removeClass"]("i-disabled"),e.navNext&&e.navNext[r.progress>=s.length-1.5?"addClass":"removeClass"]("i-disabled")},r.draw=function(){if(!o.move||s[r.index].ratio*r.position>=s[r.index].ratio-1){var t=1-Math.abs(s[r.index].ratio*r.position-s[r.index].ratio);r.index>=0&&o.hide(s[r.index].block,t,r.size,s[r.index].ratio),r.index<s.length-1&&o.show(s[r.index+1].block,t,r.size,s[r.index+1].ratio),0!==t&&1!==t||r._execEvent("change")}else r.index>=0&&o.move(s[r.index].block,s[r.index].ratio*r.position,r.size,s[r.index].ratio),r.index<s.length-1&&o.show(s[r.index+1].block,0,r.size,s[r.index+1].ratio);r.hideInvisibles(),r.markNav()},r.onScrollStart=function(){r.scrolling=!0},r.onScroll=function(){if(index=0,r.update(),r.draw(),r.callScreensAPI(),l.moved){for(var t=l[e.vertical?"y":"x"]-(e.vertical?e.phoneEmulate?-l.distY:l.pointY:l.pointX),i=0;i<s.length;i++)t<=-s[i].offset&&t>=-s[i].offset-s[i].size&&(index=i);r.setLimits(index)}else if(l.indicators&&l.indicators[0].moved){for(var i=0;i<s.length;i++)l[e.vertical?"y":"x"]-r.size/2<=-s[i].offset&&l[e.vertical?"y":"x"]+r.size/2>=-s[i].offset-s[i].size&&(index=i);r.setLimits(index)}},r.grabTimer=!1;var c=function(){clearTimeout(r.grabTimer),r.scrolling||(r.scrolling=!0)},u=function(){r&&clearTimeout(r.grabTimer),r&&r.scrolling&&(r.scrolling=!1)};if(l.on("beforeWheelSnap",function(){index=0;for(var t=0;t<s.length;t++)l[e.vertical?"y":"x"]-r.size/2<=-s[t].offset&&l[e.vertical?"y":"x"]+r.size/2>=-s[t].offset-s[t].size&&(index=t);l.absStartX=e.vertical?0:-s[index].offset,l.absStartY=-e.vertical?-s[index].offset:0,r.setLimits(index)}),r.onScrollEnd=function(){r.refresh()},r.refresh=function(){r.update(),r.draw(),r.callScreensAPI(),r.setLimits(r.index)},r.resize=function(){if(!r)return!1;a();var t=l.y;l.refresh(),t!==l.y&&l.scrollBy(0,t-l.y,0),r.refresh()},r.enable=function(){r.enabled=!0,l.enable(),r.enableKeyboard()},r.disable=function(){r.enabled=!1,l.disable(),r.disableKeyboard()},l.on("scrollStart",function(){return!!r&&void r.onScrollStart()}),l.on("scroll",function(){return!!r&&(r.onScroll(),void(l.moved&&c()))}),l.on("scrollEnd",function(){return!!r&&(r.onScrollEnd(),void u())}),l.on("grab",function(){if(!r)return!1;c(),r.grabTimer=setTimeout(function(){l&&l.reset(),u()},500);for(var t=0,i=l[e.vertical?"y":"x"]-l[e.vertical?"pointY":"pointX"],n=0;n<s.length;n++)i<=-s[n].offset&&i>=-s[n].offset-s[n].size&&(t=n);r.setLimits(t)}),app.device.isMobile||app.$dom.window.on("resize",r.resize),r.setLimits(0),r.scrollTo=function(t,i){i=void 0===i&&0!==i?550:i,e.hideSections&&(s[t].block[0].style.display="block"),l.goToPage(e.vertical?0:t,e.vertical?t:0,i,0!=i&&IScroll.utils.ease.cubicOut)},r.prev=function(t){if(r.scrolling)return!1;t=void 0===t?e.duration:t;var i=-l.y-s[r.index].offset;e.vertical&&i?l.scrollBy(0,Math.min(i,r.size),t,IScroll.utils.ease.cubicOut):e.vertical&&l.y<=-r.size?l.scrollBy(0,r.size,t,IScroll.utils.ease.cubicOut):r.index>0&&l.prev(t,IScroll.utils.ease.cubicOut)},r.next=function(t){if(r.scrolling)return!1;t=void 0===t?e.duration:t;var i=s[r.index].offset+s[r.index].size-(-l.y+r.size);i>.1*r.size&&e.vertical?l.scrollBy(0,-Math.min(i,r.size),t,IScroll.utils.ease.cubicOut):r.index<s.length-1&&l.next(t,IScroll.utils.ease.cubicOut)},r.get=function(t){return r[t]},r.hideScreen=function(t){e.controlInvisible&&h[t].enable&&(h[t].enable=!1,h[t].block.css("display","none"),h[t].fake.remove(),r.callScreensVisible(),r.resize())},r.showScreen=function(t){e.controlInvisible&&!h[t].enable&&(h[t].enable=!0,h[t].fake=$('<div class="'+e.spaceClass+'__screen" />'),n.find("."+e.spaceClass+"__screen:eq("+(t-1)+")").after(h[t].fake),r.callScreensVisible(),r.resize())},r.callScreensVisible=function(){for(var t=[],e=0,i=0;i<h.length;i++)h[i].enable&&(t.push(h[i]),t[e].index=e,e++);t.length!==s.length&&(s=t)},r.destroy=function(){t.find("."+e.spaceClass).remove(),t.removeData("marquee"),l.destroy(),l=null,r=null},e.vertical){var p=t.find(".iScrollVerticalScrollbar");p.addClass("ui-scroll").prepend('<div class="ui-scroll__bar" />'),p.find(".iScrollIndicator").addClass("ui-scroll__handle").prepend('<div class="ui-scroll__handle__inner" />')}e.navPrev&&e.navPrev.on("click",function(){r.prev(app.device.isPhone?500:700)}),e.navNext&&e.navNext.on("click",function(){r.next(app.device.isPhone?500:700)});var d="keydown.marquee-"+String(Math.round((new Date).getTime()/1e3))+(e.vertical?"v":"h");if(r.enableKeyboard=function(){app.device.support.touch||app.$dom.document.on(d,function(t){$(t.target).is("input,textarea,select")||(t.which==(e.vertical?38:37)&&r.prev(app.device.isPhone?500:700),t.which==(e.vertical?40:39)&&r.next(app.device.isPhone?500:700))})},r.disableKeyboard=function(){app.device.support.touch||app.$dom.document.off(d)},r.scroll=l,e.controlInvisible)for(var h=[],m=0;m<s.length;m++)h.push(s[m]);return t.data("marquee",{screens:s,onScrollStart:$.noop,onScrollEnd:$.noop,scrollTo:r.scrollTo,get:r.get,scroll:l,update:r.onScroll,resize:r.resize,enable:r.enable,disable:r.disable,destroy:r.destroy,enableKeyboard:r.enableKeyboard,disableKeyboard:r.disableKeyboard}),r},app.plugins.marqueeEffects=function(t){var e={},t=t||{},i=app.prefixed,n=t.isPhone===!0||app.device.isPhone;return"static"==t.method?(e.show=function(t,e,n,s,o){t[0].style[i.transform]="translateY("+Math.round((o||0)+n-e*n)+"px) translateZ(0)"},e.hide=function(t,e,n,s,o){t[0].style[i.transform]="translateY("+Math.round((o||0)+-(s-1)*n-e*n)+"px) translateZ(0)"},e.move=function(t,e,n){t[0].style[i.transform]="translateY("+Math.round(-e*n)+"px) translateZ(0)"}):(e.light={},e.light.show=function(t,e,n,s){t[0].style.opacity=1,t[0].style[i.transform]="translateY("+Math.round(n-e*n)+"px) translateZ(0)",0==e&&(t[0].style[i.transform]="translateY(110%)")},e.light.hide=function(t,e,n,s){t[0].style.opacity=(1-.4*e).toFixed(3),t[0].style[i.transform]="translateY("+Math.round(-(s-1)*n-e*n*.5)+"px) translateZ(0)",1==e&&(t[0].style[i.transform]="translateY(-110%)"),0==e&&(t[0].style[i.transform]="translateY("+Math.round(-(s-1)*n)+"px) translateZ(0)")},e.light.move=function(t,e,n){t[0].style.opacity=1,t[0].style[i.transform]="translateY("+Math.round(-e*n)+"px) translateZ(0)"},e.space={},e.space.show=function(t,e){t[0].style.opacity=.33+.67*e;var s="";0==e?s="translate3d(110%, 0, 0)":n?s="perspective(500px) translate3d("+(-8+8*e)+"%, 0, 0) rotateY("+(-6+6*e)+"deg) scale("+(.8+.2*e)+")":(s="perspective(500px) translate3d("+(-4+4*e)+"%, 0, 0) scale("+(.9+.1*e)+")",app.device.isFirefox||(s=s+"rotateY("+(-4+4*e)+"deg)")),t[0].style[i.transform]=s},e.space.hide=function(t,e){t[0].style.opacity=1,t[0].style[i.transform]="translate3d("+-100*e+"%, 0, 0)",1==e&&(t[0].style[i.transform]="translate3d(-110%, 0, 0)")},e.fold={},e.fold.show=function(t,e){t[0].style.opacity=1,t[0].style[i.transform]="translateY("+(100-100*e)+"%)"},e.fold.hide=function(t,e){t[0].style.opacity=1-.67*e,t[0].style[i.transform]="perspective(500px) translateY("+4*e+"%) rotateX("+3*-e+"deg) scale("+(1-.05*e)+")",1==e&&(t[0].style[i.transform]="translateY(-101%)")}),e},function(t,e,i,n,s){t.define("plugins.screens"),t.define("plugins.marquee.effects"),t.plugins.screens=function(t,i){this.active=!1,this.scope=e(t),this.options=i||{},this.state=null},t.plugins.screens.prototype={init:function(e){var i=this;if(!this.active){this.scope.on("touchmove MSPointerMove",function(t){t.preventDefault()}),this.scope.on("dragstart selectstart",function(){return!1});var n={vertical:this.options.vertical!==!1,screens:".screen",effect:this.options.vertical===!1?"space":"light",mousewheel:this.options.vertical!==!1&&(void 0===this.options.mousewheel||this.options.mousewheel),activeClass:this.options.activeClass?this.options.activeClass:!this.options.static&&"screen--active",spaceClass:this.options.vertical===!1?"horizontal__space":"vertical__space",longClass:this.options.vertical!==!1&&"screen--long",contentClass:this.options.vertical!==!1&&"screen__content",hideSections:this.options.hideSections!==!1,navPrev:this.options.navPrev,navNext:this.options.navNext,phoneEmulate:this.options.phoneEmulate,duration:this.options.vertical===!1?t.device.isPhone?375:450:500};this.options&&s.extend(n,this.options),this.options=n,this.items=[];var o=100;this.scope.find(n.screens).each(function(t){i.items.push({index:t,title:this.getAttribute("data-"+(n.dataAttr?n.dataAttr:"marquee"))}),n.vertical||(this.style.zIndex=o),o--}),this.marquee=n.static?t.plugins.marqueeStatic(this.scope,n):t.plugins.marquee(this.scope,n),this.marquee.enable(),this.marquee.scroll.on("scrollEnd",function(){i.state=i.marquee.section}),void 0!==e&&this.nav(e,0),this.embeds(),this.options.play&&(this.play=new t.plugins.marquee.playScreens(this,this.options.play),this.play.init()),this.active=!0}},nav:function(t,e){if(s.isNumber(t))t>this.items.length-1&&(t=this.items.length-1),this.marquee.scrollTo(t,void 0!==e?e:void 0),0==e&&this.marquee.refresh();else{if(!t)return;var i=s.findWhere(this.items,{title:t});i&&s.isNumber(i.index)&&(this.state=i.title,this.marquee.scrollTo(i.index,void 0!==e?e:void 0),0==e&&this.marquee.refresh())}},get:function(t){return this.marquee[t]},refresh:function(){this.marquee.resize()},refreshAll:function(){var t=this.marquee.index;this.destroy(),this.init(t)},embeds:function(){var n=this;if(t.device.isMobile||this.scope.on("mouseenter mouseleave",".country-list",function(t){"mouseenter"==t.type?n.marquee.scroll.disable():n.marquee.scroll.enable()}),t.device.isPhone){var o=null,r=null,a=s.debounce(this.refresh,300);i.window.on("resize.screens",function(){n.scope.scrollTop(0),n.options.resizeRefresh&&a.call(n)}),n.options.static&&this.scope.on("focus blur","input[type='text'], textarea",function(i){"focusin"==i.type||"focus"==i.type?(r=e(i.target),o="focus",l(t.sizes.height/2.5,400),setTimeout(function(){l(t.sizes.height/2.5,0)},300)):(o="blur",setTimeout(function(){"focus"==o?l(t.sizes.height/2.5,0):"blur"==o&&a.call(n)},500)),n.scope.scrollTop(0)});var l=function(t,e){var i=r.offset().top;i<0?n.marquee.scroll.scrollBy(0,-i+t,e,n.options.static?IScrollStatic.utils.ease.cubicOut:IScroll.utils.ease.cubicOut):i>t&&n.marquee.scroll.scrollBy(0,-(i-t),e,n.options.static?IScrollStatic.utils.ease.cubicOut:IScroll.utils.ease.cubicOut)}}},destroy:function(){this.scope.off(),this.marquee.scroll.off(),this.marquee.destroy(),this.options.play&&this.play.destroy(),i.window.off("resize.screens"),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.styles"),t.plugins.styles={ready:!1,init:function(i){if(!o.ready){this.el=e(i.elem),this.screens=i.screens,this.callback=i.callback,o.resizer(t.$dom.window[0].innerWidth);var n=s.debounce(o.resizer,100);t.$dom.window.on("resize.styles",function(){var t=n(this.innerWidth);t&&t.length&&o.callback&&o.callback(o.screen)}),o.ready=!0}},resizer:function(t){return s.filter(o.screens,function(e){if((e.minWidth&&e.maxWidth&&t>e.minWidth-1&&t<e.maxWidth+1||e.minWidth&&!e.maxWidth&&t>e.minWidth||e.maxWidth&&!e.minWidth&&t<e.maxWidth)&&o.screen!==e.title)if(e.reload&&o.ready&&o.screen!=e.title)window.location.reload();else{if(e.path&&o.screen||!o.screen&&e.refresh)return o.el.attr("href",e.path),o.screen=e.title,console.log("resize: "+e.title),o.screen;o.screen=e.title}})}};var o=t.plugins.styles}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.share"),t.plugins.share=function(t,i){t&&i&&(this.scope=e(t),this.options=i,this.init())},t.plugins.share.prototype={init:function(){var t=this,e=this.options;this.active||(this.scope.on("click",e.buttons,function(i){var n=i.currentTarget,o=e.dataAttr?"data-"+e.dataAttr:"data-social",r=n.getAttribute(o);if(r){var a=n.getAttribute("data-title")||e.share&&e.share.title||document.title,l=n.getAttribute("data-url")||e.url||window.location.href;"fb"==r?t.fb(l,s.isFunction(a)?a():a):"vk"==r?t.vk(l,s.isFunction(a)?a():a):"gl"==r?t.gl(l,s.isFunction(a)?a():a):"dk"==r?t.dk(l,s.isFunction(a)?a():a):"tw"==r&&t.tw(l,s.isFunction(a)?a():a)}}),this.active=!0)},vk:function(t,e,i,n){url="http://vkontakte.ru/share.php?",url+="url="+encodeURIComponent(t),url+="&title="+encodeURIComponent(e),i&&(url+="&image="+encodeURIComponent(i)),n&&(url+="&description="+encodeURIComponent(n)),url+="&noparse=true",this.popup(url)},dk:function(t,e){url="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1",url+="&st.comments="+encodeURIComponent(e),url+="&st._surl="+encodeURIComponent(t),this.popup(url)},fb:function(t,e,i,n){url="http://www.facebook.com/sharer.php?",url+="&p[title]="+encodeURIComponent(e),url+="&p[url]="+encodeURIComponent(t),i&&(url+="&p[images][0]="+encodeURIComponent(i)),n&&(url+="&p[summary]="+encodeURIComponent(n)),this.popup(url)},tw:function(t,e){url="http://twitter.com/share?",url+="text="+encodeURIComponent(e),url+="&url="+encodeURIComponent(t),url+="&counturl="+encodeURIComponent(t),this.popup(url)},ml:function(t,e,i,n){url="http://connect.mail.ru/share?",url+="url="+encodeURIComponent(t),url+="&title="+encodeURIComponent(e),i&&(url+="&imageurl="+encodeURIComponent(i)),n&&(url+="&description="+encodeURIComponent(n)),this.popup(url)},gl:function(t){url="https://plus.google.com/share?",url+="url="+encodeURIComponent(t),this.popup(url)},popup:function(t){window.open(t,"","width=600,height=400,left=350,top=170,status=no,toolbar=no,menubar=no")},destroy:function(){this.scope.off(),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.scroll.refreshFix"),t.plugins.scroll.refreshFix=function(t){t&&(this.active=!1,this.scroll=s.isElement(t)?t:t[0],this.reset(),this.init())},t.plugins.scroll.refreshFix.prototype={init:function(){this.active||(this.scroll.addEventListener("touchstart",this.touchstartHandler.bind(this),!1),this.scroll.addEventListener("touchmove",this.touchmoveHandler.bind(this),!1),this.active=!0)},touchstartHandler:function(t){1==t.touches.length&&(this.lastTouchY=t.touches[0].clientY,this.maybePreventPullToRefresh=0==window.pageYOffset)},touchmoveHandler:function(t){var e=t.touches[0].clientY,i=e-this.lastTouchY;if(this.lastTouchY=e,this.maybePreventPullToRefresh&&(this.maybePreventPullToRefresh=!1,i>0))return void t.preventDefault()},reset:function(){this.maybePreventPullToRefresh=!1,this.lastTouchY=0},destroy:function(){this.active&&(this.scroll.removeEventListener("touchstart",this.touchstartHandler),this.scroll.removeEventListener("touchmove",this.touchmoveHandler),this.reset(),this.active=!1)}}}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.scroll.slider"),t.plugins.scroll.slider=function(t,i){t&&(this.active=!1,this.scope=e(t),this.options=i,this.index=0,this.prevIndex=0,this.prevSlide=null,this.currentSlide=null,this.scrolling=!1,this.slides=[])},t.plugins.scroll.slider.prototype={init:function(i){var n=this;if(!this.active&&this.scope.length&&this.options.items){var o={navbar:{el:".section__slider__navbar",align:"right",pos:"top"},container:".section__slider__container",slide:".section__slider__item",slideId:"_id",select:".section__slider__navbar__select",dataSlide:"data-slide",dataItem:"data-item",hideSlides:!0};this.options&&s.extend(o,this.options),this.options=o,this.navbar=this.scope.find(o.navbar.el),this.container=this.scope.find(o.container),this.title=e('<span class="section__slider__navbar__title">').appendTo(this.navbar),this.navbar.attr({"data-select":!0,"data-align":o.navbar.align,"data-pos":o.navbar.pos}),this.container.find(o.slide).each(function(e){var i=$$(this);i.attr(o.dataItem,e+1),o.scroll&&(n.slides.push({index:e,id:o.items[e][o.slideId],title:o.items[e].title,el:i,scroll:new t.plugins.scroll.content(i,{autoScroll:!0})}),n.slides[e].scroll.init()),o.hideSlides&&e>0&&i.css("display","none")}),t.plugins.eventsEmitter&&t.plugins.eventsEmitter.init(this),this.select=e('<select class="section__slider__navbar__select">'),s.each(this.slides,function(t){n.select.append('<option value="'+t.id+'">'+t.title+"</option>")}),this.navbar.append(this.select),this.onSelect(),this.nav(void 0!==i?i:this.slides[0].id),this.active=!0}},onSelect:function(){var t=this;this.select.on("change",function(e){t.nav(e.currentTarget.value)})},nav:function(t){var e=this,i=s.findWhere(this.slides,{id:t});i&&(this.title[0].innerHTML=i.title,this.container[0].setAttribute(this.options.dataSlide,i.index+1),this.trigger("change",t,i.title),this.scrolling=!0,this.prevIndex=this.index,this.prevSlide=this.currentSlide,this.index=i.index,this.currentSlide=i,this.options.hideSlides&&(i.el.css("display","block"),this.prevSlide&&s.onEndTransition(this.container[0],function(){e.prevSlide.el.css("display","none"),e.refresh()})))},refresh:function(){this.options.scroll&&s.each(this.slides,function(t){t.scroll.refresh()})},destroy:function(){this.navbar&&this.navbar.empty(),this.options.scroll&&s.each(this.slides,function(t){t.scroll.destroy()}),this.destroyEvents(),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.scroll.content"),t.plugins.scroll.content=function(t,i){t&&(this.active=!1,this.scope=e(t),this.options=i)},t.plugins.scroll.content.prototype={init:function(){if(!this.active&&this.scope.length){var e={disableMouse:!1,mouseWheel:!0,scrollX:!1,scrollY:!0,click:!1,tap:!1,preventDefault:!0,eventPassthrough:"horizontal",forceBounds:!!t.device.isMobile,boundDeceleration:!!t.device.isMobile&&3.5,scrollbars:"custom",interactiveScrollbars:!t.device.support.touch,probeType:!t.device.support.touch&&3};this.options&&s.extend(e,this.options),t.device.isMobile&&(e.deceleration=6e-4),this.scroll=new IScroll(this.scope[0],e),e.keyboard&&!t.device.support.touch&&this.keyboard(),this.embeds(!(!t.device.isMobile||!e.autoScroll)),this.active=!0}},show:function(){this.scroll.enable()},hide:function(){this.scroll.disable()},scrollTop:function(){this.scroll.scrollTo(0,0)},refresh:function(){this.scroll.refresh()},keyboard:function(){var e=this.scroll,n="keydown.keyboards-scroll-"+String(Math.round((new Date).getTime()/1e3));paused=!1,duration=500;var s=function(t){return!paused&&(paused=!0,scrollTimer=setTimeout(function(){paused=!1},50),void e.scrollTo(0,t,duration,IScroll.utils.ease.cubicOut))},o=function(){var t=Math.min(0,e.y+100);s(t)},r=function(){var t=Math.max(e.maxScrollY,e.y-100);s(t)},a=function(){var t=Math.min(0,e.y+e.wrapperHeight);s(t)},l=function(){var t=Math.max(e.maxScrollY,e.y-e.wrapperHeight);s(t)},c=function(){s(0)},u=function(){s(e.maxScrollY)};e.enableKeyboardScroll=function(){t.device.support.touch||i.document.on(n,function(t){38==t.which&&o(),40==t.which&&r(),33==t.which&&a(),34==t.which&&l(),36==t.which&&c(),35==t.which&&u()})},e.disableKeyboardScroll=function(){t.device.support.touch||i.document.off(n)},e.enabled&&e.enableKeyboardScroll(),e.on("enable",function(){e.enableKeyboardScroll()}),e.on("disable",function(){e.disableKeyboardScroll()})},embeds:function(n){var o,r=this,a=this.scope,l=this.scroll,c=!1,u=null,p=null,d=s.debounce(this.refresh,300);l.enable(),i.window.on("resize.scrollable-content",function(){t.device.isMobile&&r.scope.scrollTop(0),n&&"focus"==u&&p&&setTimeout(function(){h(t.sizes.height/1.3,0)},150),d.call(r)}),n&&this.scope.on("focus blur","input[type='text'], textarea",function(i){"focusin"==i.type||"focus"==i.type?(p=e(i.target),u="focus",h(t.sizes.height/2.5,400)):u="blur",r.scope.scrollTop(0)}),t.device.isMobile||this.scope.on("mouseenter mouseleave",".country-list",function(t){"mouseenter"==t.type?l.disable():l.enable()});var h=function(t,e){var i=p.offset().top;i<t?l.scrollBy(0,-i+t,e,IScroll.utils.ease.cubicOut):i>t&&l.scrollBy(0,-(i-t),e,IScroll.utils.ease.cubicOut)},m=function(){clearTimeout(o),c||(a.addClass("i-scrolling"),c=!0)},f=function(){clearTimeout(o),c&&(a.removeClass("i-scrolling"),c=!1)};t.device.isMobile&&(l.on("grab",function(){m(),o=setTimeout(function(){f()},500)}),l.on("scrollEnd",function(){f()}))},destroy:function(){this.scope.off(),this.scroll.destroy(),i.window.off("resize.scrollable-content"),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),!function(t,e,i,n,s){function o(t,e){var i;return e?(i=r(t),{width:i.width,height:i.height}):{width:t.offsetWidth,height:t.offsetHeight}}t.define("dom.getDimensions");var r=s.getBoundingClientRect;t.dom.getDimensions=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){var e;if(t=t||window,t===window){if(e=window.pageXOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollLeft}t.define("dom.getScrollX"),t.dom.getScrollX=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){var e;if(t=t||window,t===window){if(e=window.pageYOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollTop}t.define("dom.getScrollY"),t.dom.getScrollY=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t,e){var i,n,s,o;if(e)return i=a(t),n=l(),s=c(),{top:i.top+s,right:i.right+n,bottom:i.bottom+s,left:i.left+n};for(o=r(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:o.width,height:o.height};t=t.offsetParent;)i.top+=t.offsetTop,i.left+=t.offsetLeft;return{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}t.define("dom.getPagePosition");var r=t.dom.getDimensions,a=s.getBoundingClientRect,l=t.dom.getScrollX,c=t.dom.getScrollY;t.dom.getPagePosition=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){var e,i,n,s;for(e in r){for(i=t[e]?t[e]:"",s=0;s<r[e].length;s++)n=r[e][s],n in t&&(i+=" "+n+"("+t[n]+")",delete t[n]);i=i.trim(),i&&(t[e]=i)}return t}t.define("dom.styles.combinePartialProperties");var r={transform:["matrix","translate","translateX","translateY","scale","scaleX","scaleY","rotate","skewX","skewY","matrix3d","translate3d","translateZ","scale3d","scaleZ","rotate3d","rotateX","rotateY","rotateZ","perspective"],filter:["blur","brightness","contrast","drop-shadow","grayscale","hue-rotate","invert","saturate","sepia"]};t.dom.styles.combinePartialProperties=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){var e,i,n,s,o;if("string"==typeof t)for(e={},i=t.split(";"),s=i.length,o=0;o<s;o+=1)n=i[o].indexOf(":"),n>0&&(e[i[o].substr(0,n).trim()]=i[o].substr(n+1).trim());else e=t;return e}t.define("dom.styles.cssToObject"),t.dom.styles.cssToObject=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(){this._supportsAvailable="CSS"in window&&"supports"in window.CSS,this._cssPrefixes=p,this._domPrefixes=d,this._evtPrefixes=h,this._styleProperties={},this._styleValues={},this._eventTypes={}}t.define("dom.styles.prefixer");var r={transitionend:{onwebkittransitionend:"webkitTransitionEnd",onmstransitionend:"MSTransitionEnd"},animationstart:{onwebkitanimationstart:"webkitAnimationStart",onmsanimationstart:"MSAnimationStart"},animationend:{onwebkitanimationend:"webkitAnimationEnd",onmsanimationend:"MSAnimationEnd"},animationiteration:{onwebkitanimationiteration:"webkitAnimationIteration",onmsanimationiteration:"MSAnimationIteration"},fullscreenchange:{onmsfullscreenchange:"MSFullscreenChange"},fullscreenerror:{onmsfullscreenerror:"MSFullscreenError"}},a=/(\([^\)]+\))/gi,l=/([^ ,;\(]+(\([^\)]+\))?)/gi,c=/(-webkit-|-moz-|-ms-)|^(webkit|moz|ms)/gi,u=/^(webkit|moz|ms)/gi,p=["-webkit-","-moz-","-ms-"],d=["Webkit","Moz","ms"],h=["webkit","moz","ms"],m=o.prototype;m.getEventType=function(t){var e,i;if(t=t.toLowerCase(),t in this._eventTypes)return this._eventTypes[t];if(this._checkEventType("on"+t))return this._eventTypes[t]=t;if(r[t])for(e in r[t])if(this._checkEventType(e))return this._eventTypes[t]=r[t][e];for(i=0;i<this._evtPrefixes.length;i++)if(this._checkEventType("on"+this._evtPrefixes[i]+t))return this._eventTypes[t]=this._evtPrefixes[i]+t,this._reduceAvailablePrefixes(i),this._eventTypes[t];return this._eventTypes[t]=t},m._checkEventType=function(t){return t in window||t in document},m.getStyleProperty=function(t){var e,i,n;if(t+="",t in this._styleProperties)return this._styleProperties[t].dom;for(t=this._toDOM(t),this._prepareTestElement(),i=t.charAt(0).toUpperCase()+t.substr(1),e="filter"===t?["WebkitFilter","filter"]:(t+" "+this._domPrefixes.join(i+" ")+i).split(" "),n=0;n<e.length;n++)if(void 0!==this._el.style[e[n]])return 0!==n&&this._reduceAvailablePrefixes(n-1),this._memoizeStyleProperty(t,e[n]),e[n];return this._memoizeStyleProperty(t,!1),!1},m._memoizeStyleProperty=function(t,e){var i=this._toCSS(t),n=e!==!1&&this._toCSS(e);this._styleProperties[t]=this._styleProperties[e]=this._styleProperties[i]=this._styleProperties[n]={dom:e,css:n}},m.getStyleCSS=function(t,e){var i;if(t=this.getStyleProperty(t),!t)return!1;if(i=this._styleProperties[t].css,"undefined"!=typeof e){if(e=this.getStyleValue(t,e),e===!1)return!1;i+=":"+e+";"}return i},m.getStyleValue=function(t,e){var i;return e+="",!!(t=this.getStyleProperty(t))&&(this._testStyleValue(t,e)?e:(i=this._styleProperties[t].css,e=e.replace(l,function(e){var n,s,o,r;if("#"===e[0]||!isNaN(e[0]))return e;if(s=e.replace(a,""),o=i+":"+s,o in this._styleValues)return this._styleValues[o]===!1?"":e.replace(s,this._styleValues[o]);
for(n=this._cssPrefixes.map(function(t){return t+e}),n=[e].concat(n),r=0;r<n.length;r++)if(this._testStyleValue(t,n[r]))return 0!==r&&this._reduceAvailablePrefixes(r-1),this._styleValues[o]=n[r].replace(a,""),n[r];return this._styleValues[o]=!1,""}.bind(this)),e=e.trim(),""!==e&&e))},m._testStyleValue=function(t,e){var i;if(this._supportsAvailable)return t=this._styleProperties[t].css,CSS.supports(t,e);this._prepareTestElement(),i=this._el.style[t];try{this._el.style[t]=e}catch(t){return!1}return this._el.style[t]&&this._el.style[t]!==i},m.stripPrefixes=function(t){return t=String.prototype.replace.call(t,c,""),t.charAt(0).toLowerCase()+t.slice(1)},m._reduceAvailablePrefixes=function(t){1!==this._cssPrefixes.length&&(this._cssPrefixes=[this._cssPrefixes[t]],this._domPrefixes=[this._domPrefixes[t]],this._evtPrefixes=[this._evtPrefixes[t]])},m._toDOM=function(t){return"float"===t.toLowerCase()?"cssFloat":(t=t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}),"Ms"===t.substr(0,2)&&(t="ms"+t.substr(2)),t)},m._toCSS=function(t){return"cssfloat"===t.toLowerCase()?"float":(u.test(t)&&(t="-"+t),t.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())},m._prepareTestElement=function(){this._el?(this._el.style.cssText="",this._el.removeAttribute("style")):this._el=document.createElement("_")},t.dom.styles.prefixer=new o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t,e){var i,n,s,o,c;if("string"!=typeof e&&"object"!=typeof e||Array.isArray(e))throw new TypeError("setStyle: styles must be an Object or String");e=a(e),e=l(e),i="";for(s in e)c=e[s],c||0===c?(n=r.getStyleCSS(s,c),n!==!1&&(i+=" "+n)):(o=r.getStyleProperty(s),"removeAttribute"in t.style?t.style.removeAttribute(o):t.style[o]="");return i.length&&(t.style.cssText+=i),t}t.define("app.dom.styles.setStyle");var r=t.dom.styles.prefixer,a=t.dom.styles.cssToObject,l=t.dom.styles.combinePartialProperties;t.dom.styles.setStyle=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t,e){if("function"!=typeof t)throw new TypeError(r);this.easingFunction=t,this.cssString=e||null}t.define("plugins.easing.Ease");var r="Ease expects an easing function.",a=o.prototype;a.getValue=function(t){return this.easingFunction(t,0,1,1)},t.plugins.easing.Ease=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t,e,i,n){function s(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function r(t){return 3*t}function a(t,e,i){return((s(e,i)*t+o(e,i))*t+r(e))*t}function l(t,e,i){return 3*s(e,i)*t*t+2*o(e,i)*t+r(e)}function c(e){for(var n=e,s=0;s<4;++s){var o=l(n,t,i);if(0===o)return n;var r=a(n,t,i)-e;n-=r/o}return n}this.get=function(s){return t===e&&i===n?s:a(c(s),e,n)}}t.define("plugins.easing.KeySpline"),t.plugins.easing.KeySpline=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t,e,i,n){var s=Array.prototype.slice.call(arguments),o=s.every(function(t){return"number"==typeof t});if(4!==s.length||!o)throw new TypeError(l+s);var c=new a(t,e,i,n),u=function(t,e,i,n){return c.get(t/n)*i+e},p="cubic-bezier("+s.join(", ")+")";return new r(u,p)}t.define("plugins.easing.createBezier");var r=t.plugins.easing.Ease,a=t.plugins.easing.KeySpline,l="Bezier curve expects exactly four (4) numbers. Given: ";t.plugins.easing.createBezier=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t,e){if(e=e||"end","number"!=typeof t||t<1)throw new TypeError(a+t);if("start"!==e&&"end"!==e)throw new TypeError(l+e);var i=function(i,n,s,o){var r=s/t,a=Math["start"===e?"floor":"ceil"](i/o*t);return n+r*a},n="steps("+t+", "+e+")";return new r(i,n)}t.define("plugins.easing.createStep");var r=t.plugins.easing.Ease,a="Step function expects a numeric value greater than zero. Given: ",l='Step function direction must be either "start" or "end" (default). Given: ';t.plugins.easing.createStep=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.easing.cssAliases");var o={linear:"cubic-bezier(0, 0, 1, 1)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","ease-out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","ease-in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","ease-in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","ease-out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","ease-in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","ease-in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","ease-out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","ease-in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","ease-in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","ease-out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","ease-in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","ease-in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","ease-out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","ease-in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","ease-in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","ease-out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","ease-in-out-expo":"cubic-bezier(1, 0, 0, 1)","ease-in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","ease-out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","ease-in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","ease-in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"};o.easeIn=o["ease-in"],o.easeOut=o["ease-out"],o.easeInOut=o["ease-in-out"],o.easeInCubic=o["ease-in-cubic"],o.easeOutCubic=o["ease-out-cubic"],o.easeInOutCubic=o["ease-in-out-cubic"],o.easeInQuad=o["ease-in-quad"],o.easeOutQuad=o["ease-out-quad"],o.easeInOutQuad=o["ease-in-out-quad"],o.easeInQuart=o["ease-in-quart"],o.easeOutQuart=o["ease-out-quart"],o.easeInOutQuart=o["ease-in-out-quart"],o.easeInQuint=o["ease-in-quint"],o.easeOutQuint=o["ease-out-quint"],o.easeInOutQuint=o["ease-in-out-quint"],o.easeInSine=o["ease-in-sine"],o.easeOutSine=o["ease-out-sine"],o.easeInOutSine=o["ease-in-out-sine"],o.easeInExpo=o["ease-in-expo"],o.easeOutExpo=o["ease-out-expo"],o.easeInOutExpo=o["ease-in-out-expo"],o.easeInCirc=o["ease-in-circ"],o.easeOutCirc=o["ease-out-circ"],o.easeInOutCirc=o["ease-in-out-circ"],o.easeInBack=o["ease-in-back"],o.easeOutBack=o["ease-out-back"],o.easeInOutBack=o["ease-in-out-back"],t.plugins.easing.cssAliases=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.easing.fn");var o=t.plugins.easing.createBezier,r=o(.25,.1,.25,1).easingFunction,a=o(.42,0,1,1).easingFunction,l=o(0,0,.58,1).easingFunction,c=o(.42,0,.58,1).easingFunction,u=function(t,e,i,n){return i*t/n+e},p=function(t,e,i,n){return i*(t/=n)*t+e},d=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},h=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},m=function(t,e,i,n){return i*(t/=n)*t*t+e},f=function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},g=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},_=function(t,e,i,n){return i*(t/=n)*t*t*t+e},v=function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},b=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},y=function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},w=function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},S=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},x=function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},k=function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},T=function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},$=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},E=function(t,e,i,n){return t===n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},M=function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},P=function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},C=function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},I=function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},A=function(t,e,i,n){var s=1.70158,o=0,r=i;return 0===t?e:1===(t/=n)?e+i:(o||(o=.3*n),r<Math.abs(i)?(r=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o))+e)},z=function(t,e,i,n){var s=1.70158,o=0,r=i;return 0===t?e:1===(t/=n)?e+i:(o||(o=.3*n),r<Math.abs(i)?(r=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/o)+i+e)},O=function(t,e,i,n){var s=1.70158,o=0,r=i;return 0===t?e:2===(t/=n/2)?e+i:(o||(o=n*(.3*1.5)),r<Math.abs(i)?(r=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/r),t<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o))+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o)*.5+i+e)},F=function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*(t/=n)*t*((s+1)*t-s)+e},D=function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*((t=t/n-1)*t*((s+1)*t+s)+1)+e},B=function(t,e,i,n,s){return void 0===s&&(s=1.70158),(t/=n/2)<1?i/2*(t*t*(((s*=1.525)+1)*t-s))+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},q=function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},R=function(t,e,i,n){return i-q(n-t,0,i,n)+e},j=function(t,e,i,n){return t<n/2?.5*R(2*t,0,i,n)+e:.5*q(2*t-n,0,i,n)+.5*i+e};t.plugins.easing.fn={linear:u,ease:r,easeIn:a,"ease-in":a,easeOut:l,"ease-out":l,easeInOut:c,"ease-in-out":c,easeInCubic:m,"ease-in-cubic":m,easeOutCubic:f,"ease-out-cubic":f,easeInOutCubic:g,"ease-in-out-cubic":g,easeInQuad:p,"ease-in-quad":p,easeOutQuad:d,"ease-out-quad":d,easeInOutQuad:h,"ease-in-out-quad":h,easeInQuart:_,"ease-in-quart":_,easeOutQuart:v,"ease-out-quart":v,easeInOutQuart:b,"ease-in-out-quart":b,easeInQuint:y,"ease-in-quint":y,easeOutQuint:w,"ease-out-quint":w,easeInOutQuint:S,"ease-in-out-quint":S,easeInSine:x,"ease-in-sine":x,easeOutSine:k,"ease-out-sine":k,easeInOutSine:T,"ease-in-out-sine":T,easeInExpo:$,"ease-in-expo":$,easeOutExpo:E,"ease-out-expo":E,easeInOutExpo:M,"ease-in-out-expo":M,easeInCirc:P,"ease-in-circ":P,easeOutCirc:C,"ease-out-circ":C,easeInOutCirc:I,"ease-in-out-circ":I,easeInBack:F,"ease-in-back":F,easeOutBack:D,"ease-out-back":D,easeInOutBack:B,"ease-in-out-back":B,easeInElastic:A,"ease-in-elastic":A,easeOutElastic:z,"ease-out-elastic":z,easeInOutElastic:O,"ease-in-out-elastic":O,easeInBounce:R,"ease-in-bounce":R,easeOutBounce:q,"ease-out-bounce":q,easeInOutBounce:j,"ease-in-out-bounce":j}}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){var e;if("step-start"===t)return r(1,"start");if("step-end"===t)return r(1,"end");if(e=l[t],!e)throw new Error(u.replace("%TYPE%",t));return new c(e,a[t])}t.define("plugins.easing.createPredefined");var r=t.plugins.easing.createStep,a=t.plugins.easing.cssAliases,l=t.plugins.easing.fn,c=t.plugins.easing.Ease,u='Easing function "%TYPE%" not recognized among the following: '+Object.keys(l).join(", ");t.plugins.easing.createPredefined=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(){a.call(this),this.lastFrameTime=null,this._animationFrame=null,this._active=!1,this._startTime=null,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._getTime=Date.now||function(){return(new Date).getTime()}}t.define("plugins.scroll.clock");var r,a=t.commons.EventEmitterMicro;(new Date).getTime(),r=o.prototype=new a(null),r.start=function(){this._active||this._tick()},r.stop=function(){this._active&&s.caf(this._animationFrame),this._animationFrame=null,this.lastFrameTime=null,this._active=!1},r.destroy=function(){this.stop(),this.off();var t;for(t in this)this.hasOwnProperty(t)&&(this[t]=null)},r.isRunning=function(){return this._active},r._tick=function(){this._active||(this._active=!0),this._animationFrame=s.raf(this._boundOnAnimationFrame)},r._onAnimationFrame=function(t){null===this.lastFrameTime&&(this.lastFrameTime=t);var e=t-this.lastFrameTime,i=0;if(e>=1e3&&(e=0),0!==e&&(i=1e3/e),this._firstFrame===!0&&(e=0,this._firstFrame=!1),0===i)this._firstFrame=!0;else{var n={time:t,delta:e,fps:i,naturalFps:i,timeNow:this._getTime()};this.trigger("update",n),this.trigger("draw",n)}this._animationFrame=null,this.lastFrameTime=t,this._active!==!1?this._tick():this.lastFrameTime=null},t.plugins.scroll.clock=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t,e,i,n){n=n||{},this._options=n,this._target=t,this._duration=1e3*e,this._delay=1e3*(n.delay||0),this._remainingDelay=this._delay,this._progress=0,this._clock=n.clock||new a,this._playing=!1,this._getTime=Date.now||function(){return(new Date).getTime()},this._isYoyo=n.yoyo,this._direction=1,this._loop=n.loop||0,this._loopCount=0,this._propsTo=i,this._propsFrom=n.propsFrom||{},this._storeTarget=s.clone(this._target),this._storePropsTo=this._propsTo,this._storePropsFrom=this._propsFrom,this._onStart=n.onStart||null,this._onUpdate=n.onUpdate||null,this._onDraw=n.onDraw||null,this._onComplete=n.onComplete||null;var o=n.ease||u;this._ease="function"==typeof o?new l(o):r(o),this._start=this._start.bind(this),this._update=this._update.bind(this),this._draw=this._draw.bind(this)}t.define("plugins.scroll.clip");var r=t.plugins.easing.createPredefined,a=t.plugins.scroll.clock,l=t.plugins.easing.Ease,c=t.commons.EventEmitter,u="ease",p="complete",d="pause",h="play",m=o.prototype=Object.create(c.prototype);m.play=function(){return this._playing||(this._playing=!0,0===this._delay||0===this._remainingDelay?this._start():(this._startTimeout=setTimeout(this._start,this._remainingDelay),this._delayStart=this._getTime())),this},m.pause=function(){return this._playing&&(this._startTimeout&&(this._remainingDelay=this._getTime()-this._delayStart,clearTimeout(this._startTimeout)),this._stop(),this.trigger(d,this._getDetails())),this},m.reset=function(){this._stop();var t;for(t in this._storeTarget)this._target[t]=this._storeTarget[t];return this._direction=1,this._loop=this._options.loop||0,this._loopCount=0,this.setProgress(0),this},m.isPlaying=function(){return this._playing},m.getTarget=function(){return this._target},m.setCurrentTime=function(t){return this.setProgress(1e3*t/this._duration),this.getCurrentTime()},m.getCurrentTime=function(){return this.getProgress()*this._duration/1e3},m.setProgress=function(t){return this._progress=Math.min(1,Math.max(0,t)),this._setStartTime(),this._playing||this._setDiff(),this._playing&&1===t?(this._completeProps(),this._onUpdate&&this._onUpdate.call(this,this._getDetails()),this._onDraw&&this._onDraw.call(this,this._getDetails()),this._complete()):(this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this._getDetails()),this._onDraw&&this._onDraw.call(this,this._getDetails())),this.getProgress()},m.getProgress=function(){return this._progress},m._setStartTime=function(){this._startTime=this._getTime()-this.getProgress()*this._duration},m._setDiff=function(){this._propsDiff={};var t=function(e,i,n,s){var o;for(o in e)"object"==typeof e[o]?(i[o]=i[o]||{},s[o]=s[o]||{},t(e[o],i[o],n[o],s[o])):"number"==typeof n[o]?(void 0!==i[o]?n[o]=i[o]:i[o]=n[o],s[o]=e[o]-n[o]):delete e[o]};t(this._propsTo,this._propsFrom,this._target,this._propsDiff)},m._getDetails=function(){return{target:this._target,progress:this.getProgress(),clip:this}},m._start=function(){this._startTimeout=null,this._remainingDelay=0,this._setStartTime(),this._clock.on("update",this._update),this._clock.on("draw",this._draw),this._clock.isRunning()||this._clock.start(),this._setDiff(),this._playing=!0,this._running=!0,this._onStart&&this._onStart.call(this,this._getDetails()),this.trigger(h,this._getDetails())},m._stop=function(){this._playing=!1,this._running=!1,this._clock.off("update",this._update),this._clock.off("draw",this._draw)},m._updateProps=function(){var t=this._ease.getValue(this._progress),e=function(i,n,s,o){var r;for(r in i)"number"!=typeof i[r]?e(i[r],n[r],s[r],o[r]):s[r]=n[r]+o[r]*t};e(this._propsTo,this._propsFrom,this._target,this._propsDiff)},m._completeProps=function(){var t=function(e,i){var n;for(n in e)"number"!=typeof e[n]?t(e[n],i[n]):i[n]=e[n]};t(this._propsTo,this._target)},m._complete=function(){this._isYoyo&&(this._loop>0&&this._loopCount<=this._loop||0===this._loop&&0===this._loopCount)?(this._propsFrom=1===this._direction?this._storePropsTo:this._storePropsFrom,this._propsTo=1===this._direction?this._storePropsFrom:this._storePropsTo,this.setProgress(0),this._direction*=-1,this._direction===-1&&++this._loopCount,this._start()):this._loopCount<this._loop?(++this._loopCount,this.target=this._storeTarget,this.setProgress(0),this._start()):(this._onComplete&&this._onComplete.call(this,this._getDetails()),this.trigger(p,this._getDetails()))},m._update=function(t){this._running&&(this._progress=(t.timeNow-this._startTime)/this._duration,this._progress>=1?(this._progress=1,this._running=!1,this._completeProps()):this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this._getDetails()))},m._draw=function(t){this._onDraw&&this._onDraw.call(this,this._getDetails()),this._running||(this._stop(),1===this._progress&&this._complete())},t.plugins.scroll.clip=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){r.call(this),this._options=s.extend(this.defaults,t||{}),this._clock=new this._options.clock,this._target=this._options.target,this.setRange(this._options.start,this._options.end),this.setDirection(this._options.direction),this._emitter=this._target,this._scrollChanged=!0,this._position=null,this._progress=0,this._emitter.on("scroll update",this._onScroll.bind(this)),this._clock.on("update",this._onUpdate.bind(this),this),this._clock.on("draw",this._onDraw.bind(this),this),this._clock.start()}t.define("plugins.scroll.ScrollTracker");var r=t.commons.EventEmitter,a=t.plugins.scroll.clock,l=o.prototype=Object.create(r.prototype);l.defaults={start:0,end:0,direction:"Y",clock:a,target:i.window},l.getRangeStart=function(){return this._rangeStart},l.setRangeStart=function(t){this._rangeStart=t,this._updateProgress()},l.getRangeEnd=function(){return this._rangeEnd},l.setRangeEnd=function(t){this._rangeEnd=t,this._updateProgress()},l.setRange=function(t,e){this._rangeStart=t,this._rangeEnd=e,this._updateProgress()},l.getDirection=function(){return this._direction},l.setDirection=function(t){this._direction=t.toUpperCase(),this._direction="X"===this._direction?"X":"Y",this._scrollChanged=!0},l.getPosition=function(){return this._position},l.getProgress=function(){return this._progress},l._updateProgress=function(){this._rangeStart===this._rangeEnd?this._progress=0:this._progress=(this._position-this._rangeStart)/(this._rangeEnd-this._rangeStart)},l._boundByRange=function(t){return this._rangeStart||this._rangeEnd?Math.min(Math.max(t,this._rangeStart),this._rangeEnd):t},l._targetScrollPosition=function(){var t;return this._target[0].getPosition?t=this._target[0].getPosition():(t="X"===this._direction?this._target[0].scrollX||this._target[0].scrollTop:this._target[0].scrollY||this._target[0].scrollTop,"function"==typeof t&&(t=t())),t||(t=0),t},l._updateScrollData=function(t){var e,i=this._lastTime||0;return t=s.clone(t),t.delta=t.time-i,t.position=this._boundByRange(this._targetScrollPosition()),e=null===this._position?t.position:this._position,t.positionDelta=t.position-e,t.lastPosition=e,this._position=t.position,this._lastTime=t.time,this._eventData=t},l._onScroll=function(t){this._scrollChanged=!0},l._onUpdate=function(t){var e=null===this._position;if(this._scrollChanged){if(this._updateScrollData(t),!e&&!this._eventData.positionDelta)return void(this._scrollChanged=!1);this._updateProgress(),this._eventData.progress=this._progress,this.trigger("update",this._eventData)}},l._onDraw=function(t){this._scrollChanged&&(this._scrollChanged=!1,this.trigger("draw",this._eventData),this._eventData=null)},t.plugins.scroll.ScrollTracker=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){r.call(this,t),this._poolSize=this._options.poolSize,this._pool=[],this._targetPosition=null}t.define("plugins.scroll.PooledScrollTracker");var r=t.plugins.scroll.ScrollTracker,a=o.prototype=Object.create(r.prototype);a.defaults.poolSize=20,a._updateScrollData=function(t){return t=r.prototype._updateScrollData.call(this,t),t.target={position:this._position,lastPosition:null===this._targetPosition?this._position:this._targetPosition,positionDelta:this._position-this._targetPosition},this._targetPosition=this._position,this._pushPoolData(t),this._eventData=s.clone(t),this._position=this._eventData.position=Math.round(this._eventData.position),this._eventData},a._pushPoolData=function(t){this._pool.push(t),this._poolSize&&this._pool.length>this._poolSize&&this._pool.shift()},t.plugins.scroll.PooledScrollTracker=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){r.call(this,t),this._sampleTime=this._options.sampleTime}t.define("plugins.scroll.SmoothScrollTracker");var r=t.plugins.scroll.PooledScrollTracker,a=100,l=o.prototype=Object.create(r.prototype);l.defaults.sampleTime=a,l.smoothing=!1,l._updateScrollData=function(t){return t=r.prototype._updateScrollData.call(this,t),this.smoothing=t.position!==t.target.position,this._position},l._pushPoolData=function(t){var e,i,n=this._sampleTime,s=0,o=0;if(r.prototype._pushPoolData.call(this,t),t.positionDelta){for(o=t.delta,i=this._pool.length-2;i>=0&&(e=this._pool[i],o>n&&(o=n),s+=e.position*o,n-=o,o=e.delta,0!==n);i--);n>0&&(s+=e.position*n,n=0),s+=t.position*(this._sampleTime/3),s/=4*this._sampleTime/3,Math.abs(Math.round(s)-Math.round(t.lastPosition))<2&&(s=t.position>t.lastPosition?Math.min(t.position,s+1):Math.max(t.position,s-1)),t.position=s,t.positionDelta=t.position-t.lastPosition,this._position=t.position}},l._onUpdate=function(t){this.smoothing&&(this._scrollChanged=!0),r.prototype._onUpdate.call(this,t)},t.plugins.scroll.SmoothScrollTracker=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t,e){l.call(this),this.el=s.isElement(t)?t:t[0],this._options=s.extend(this.defaults,e||{}),this._options.tracker?this.tracker=this._options.tracker:this._options.smooth?this.tracker=new a(s.pick(e,"target","start","end","direction")):this.tracker=new r(s.pick(e,"target","start","end","direction")),this.updateRange(),this.tracker.on("update",this._onUpdate.bind(this),this),this.tracker.on("draw",this._onDraw.bind(this),this),c.on("resize orientationchange",this.updateRange.bind(this))}t.define("plugins.scroll.ElementScrollTracker");var r=t.plugins.scroll.ScrollTracker,a=t.plugins.scroll.SmoothScrollTracker,l=t.commons.EventEmitter,c=i.window,u=t.dom,p=o.prototype=Object.create(l.prototype);p.defaults={startThreshold:0,endThreshold:0,startOffset:0,endOffset:0,smooth:!1},p.updateRange=function(t){var e,i,n,o,r,a=u.getPagePosition(this.el);this._options=s.extend(this._options,t||{}),this._startThreshold=this._options.startThreshold,this._endThreshold=this._options.endThreshold,this._startOffset=this._options.startOffset,this._endOffset=this._options.endOffset,"X"===this.tracker.getDirection()?(e=c.width(),i=a.left,n=a.right):(e=c.height(),i=a.top,n=a.bottom),o=i-this._startThreshold*e+this._startOffset,r=n-this._endThreshold*e+this._endOffset,r>o?this.tracker.setRange(o,r):this.tracker.setRange(r,o)},p.getRangeStart=function(){return this.tracker.getRangeStart()},p.getRangeEnd=function(){return this.tracker.getRangeEnd()},p.getDirection=function(){this.tracker.getDirection()},p.setDirection=function(t){this.tracker.setDirection(t)},p.getProgress=function(){return this.tracker.getProgress()},p.getPosition=function(){return this.tracker.getPosition()},p._onUpdate=function(t){this.trigger("update",t)},p._onDraw=function(t){this.trigger("draw",t)},t.plugins.scroll.ElementScrollTracker=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.scroll.ParallaxElement");var o=t.dom.styles,r=t.plugins.scroll.clip,a=t.plugins.scroll.ElementScrollTracker,l=t.device.isChrome,c=function(t,e,i,n,o){var l,c;n=s.extend(this.defaultClipOptions,n),o=s.extend(this.defaultScrollOptions,o),this.el=t,this._translateMultiplier=1,o.el?(l=o.el,o.el=null):l=this.el,this._scrollTracker=n.scrollTracker||new a(l,o),c=s.clone(n.propsFrom),n.clock=this._scrollTracker,n.onDraw=this._draw.bind(this),this._units=n.units,this._target=c,this._propsTo=e,this._propsOff=i,this._clipOptions=n,this._clip=new r(c,1,e,n),this.start()},u=c.prototype;u.defaultClipOptions={ease:"linear",units:{}},u.defaultScrollOptions={smooth:!0,startThreshold:1},u.start=function(){this._clip=new r(this._target,1,this._propsTo,this._clipOptions),this._scrollTracker.on("update",this._update.bind(this),this),this._update()},u.stop=function(){this._scrollTracker.off("update",this._update.bind(this),this)},u.reset=function(){this.stop(),this._clip=new r(this._target,1,this._propsOff,this._clipOptions),this._clip.setProgress(1)},u._update=function(t){var e=t?t.progress:this._scrollTracker.getProgress();this._clip.setCurrentTime(e)},u._draw=function(t){var e,i=s.clone(t.target);this._lastDrawData=t,i.translateY&&(i.translateY=i.translateY*this._translateMultiplier),i.translateX&&(i.translateX=i.translateX*this._translateMultiplier);for(e in this._units)e in i&&(i[e]+=this._units[e]);i.translateZ=i.translateZ||0,l&&this._clipOptions.hasOwnProperty("z")&&this._clipOptions.z===!1&&(i.translateZ=null),o.setStyle(this.el,i)},u.setTranslateMultiplier=function(t){this._translateMultiplier=t||1,this._lastDrawData&&this._draw(this._lastDrawData)},t.plugins.scroll.ParallaxElement=c}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.scroll.ParallaxController");var o=i.window,r=t.plugins.scroll.ParallaxElement,a=.65,l=function(e){this.options=e||{},t.device.isMobile||(this.els=[],this._multiplierEls=[],this.container=this.options.container?this.options.container&&s.isElement(this.options.container)?this.options.container:this.options.container[0]:document,this.options.items.forEach(this._initializeElement.bind(this)),this._translateMultiplier=1,this._updateTranslateMultiplier(),this.scroll=this.options.scroll||i.window,o.on("resize orientationchange",this._updateTranslateMultiplier.bind(this)))},c=l.prototype;c._updateTranslateMultiplier=function(){var t,e=o.width()<=1068?a:1;if(o.width()<=735)return void this.reset();if(!this._translateMultiplier||this._translateMultiplier!==e)for(this._translateMultiplier=e,t=this._multiplierEls.length-1;t>=0;t--)this._multiplierEls[t].setTranslateMultiplier(e)},c._initializeElement=function(t){var e,i,n,o;(t.selector||t.elem)&&(t.selector?e=this.container.querySelector(t.selector):t.elem&&(e=s.isElement(t.elem)?t.elem:t.elem[0]),e&&(i=t.clipOptions||{},n=t.scrollOptions||t.clockOptions||{},!i.propsTo&&"to"in t&&(i.propsTo={translateY:t.to},i.propsFrom={translateY:t.from||0},i.propsOff={translateY:t.off||0},i.units={translateY:"px"},t.hasOwnProperty("z")&&(i.z=t.z)),t.scrollTracker&&(i.scrollTracker=t.scrollTracker),this.options.scroll&&!n.target&&(n.target=this.options.scroll),function(s){setTimeout(function(){o=new r(e,i.propsTo,i.propsOff,i,n),s.els.push(o),t.useMediumMultiplier!==!1&&s._multiplierEls.push(o)},0)}(this)))},c.start=function(){if(!t.device.isMobile){var e;for(e=0;e<this.els.length;e++)this.els[e].start()}},c.stop=function(){var t;for(t=0;t<this.els.length;t++)this.els[t].stop()},c.reset=function(){var t;for(t=0;t<this.els.length;t++)this.els[t].reset()},c.destroy=function(){this.stop()},t.plugins.scroll.ParallaxController=l}(app,$,app.$dom,app.events,app.utils),!function(t,e,i,n,s){t.define("plugins.scroll.math"),t.plugins.scroll.math={lerp:function(t,e,i){return e+(i-e)*t},map:function(t,e,i,n,s){return this.lerp(this.norm(t,e,i),n,s)},norm:function(t,e,i){return(t-e)/(i-e)},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},randFloat:function(t,e){return Math.random()*(e-t)+t},randInt:function(t,e){return Math.floor(Math.random()*(e-t)+t)}}}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(){r.call(this),this.index=0,this.rafWhenVisible=this.rafWhenVisible||!1}t.define("plugins.scroll.BaseComponent");var r=t.commons.EventEmitterMicro,a=r.prototype,l=o.prototype=Object.create(r.prototype);o.prototype.constructor=o,l.destroy=function(){this.teardownEvents(),a.destroy.call(this)},l.setupEvents=function(){},l.teardownEvents=function(){},l.onSectionWillAppear=function(t,e){},l.activate=function(){},l.animateIn=function(){},l.onRequestAnimationFrame=function(){},l.deactivate=function(){},l.onScroll=function(t,e,i){},l.onSectionWillDisappear=function(t,e){},l.onResize=function(t,e,i){},l.onResizeWillBeCalledAfterDelay=function(t,e,i){},l.onBreakpoint=function(t,e,i,n){},t.plugins.scroll.BaseComponent=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(){var t=new a;return t}t.define("plugins.scroll.sharedClock");var r,a=t.plugins.scroll.clock;t.plugins.scroll.sharedClock={getInstance:function(){return r||(r=o()),r}}}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){r.call(this),this.options=t||{},this.min=this.options.min||0,this.max=this.options.max||1,this._boundHandleClockUpdate=this._handleClockUpdate.bind(this),this._boundHandleClockDraw=this._handleClockDraw.bind(this),this.options.easingFunction&&(this.easingFunction=this.options.easingFunction),this.clock=this.options.clock||new a,this.usesSharedClock=this.clock===a,this._isRunning=!1,this.specificity=this.options.specificity||4,this.friction=this.options.friction||10,this._targetValue=null,this._currentValue=null,this._shouldUpdate=!1,this._shouldEmitChange=!1}t.define("plugins.scroll.MotionEmitter");var r=t.commons.EventEmitterMicro,a=t.plugins.scroll.clock,l=o.prototype=Object.create(r.prototype);l.destroy=function(){this.trigger("destroy"),this.stop(),this.off(),this.usesSharedClock||this.clock.destroy();var t;for(t in this)this.hasOwnProperty(t)&&(this[t]=null);this._isRunning=!1},l.start=function(){this.clock&&!this._isRunning&&(this._bindEvents(),this._isRunning=!0,this.clock.start())},l.stop=function(){this.clock&&this._isRunning&&(this._unbindEvents(),this._isRunning=!1,this.usesSharedClock||this.clock.stop())},l.isRunning=function(){return this._isRunning},l.setProgress=function(t){this._targetValue!==t&&(this._targetValue=t,this._shouldUpdate=!0)},l.updateValue=function(t){null===this._currentValue&&(this._currentValue=this._targetValue);var e=1;if(this.easingFunction){var i=this.max-this.min,n=this.max-(this.max-this._targetValue)/i,s=this.max-(this.max-this._currentValue)/i,o=1-Math.abs(n-s),r=this.easingFunction(o,0,1,1);e=1+(r-o)}var a=1;t&&t.naturalFps!==t.fps&&(a=t.naturalFps/t.fps);var l=this._targetValue-this._currentValue,c=l*e*a*(1/this.friction),u=parseFloat((this._currentValue+c).toFixed(this.specificity));u===this._currentValue?this._currentValue=this._targetValue:this._currentValue=u,this._shouldEmitChange=!0},l._bindEvents=function(){this.clock.on("update",this._boundHandleClockUpdate),this.clock.on("draw",this._boundHandleClockDraw)},l._unbindEvents=function(){this.clock.off("update",this._boundHandleClockUpdate),this.clock.off("draw",this._boundHandleClockDraw)},l._handleClockUpdate=function(t){this._shouldUpdate&&this.updateValue(t),this._shouldEmitChange&&(t.progress=this._currentValue,this.trigger("update",t))},l._handleClockDraw=function(t){if(this._shouldEmitChange)return t.progress=this._currentValue,this.trigger("draw",t),this._targetValue===this._currentValue?(this._shouldUpdate=!1,void(this._shouldEmitChange=!1)):void(this._shouldUpdate=!0)},t.plugins.scroll.MotionEmitter=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(t){return t=t||{},"number"!=typeof t.min||"number"!=typeof t.max?null:(r.call(this,t),this.scroll=this.options.scroll||i.window,this.smooth=this.options.smooth||!1,void(this.options.overrideScroll&&this._bindScrollEvents()))}t.define("plugins.scroll.ScrollMotionEmitter");var r=t.plugins.scroll.MotionEmitter,a=o.prototype=Object.create(r.prototype);
a.updateValue=function(t){return this.smooth?r.prototype.updateValue.call(this,t):this._currentValue===this._targetValue?void(this._shouldEmitChange=!1):(this._currentValue=this._targetValue,void(this._shouldEmitChange=!0))},a.handleScroll=function(t){"number"!=typeof t&&(t=window.pageYOffset||(document.documentElement||document.body).scrollTop);var e;e=t<this.min?this.min:t>this.max?this.max:t,e=(e-this.min)/(this.max-this.min);var i=this;this._animationFrame=s.raf(function(){i.setProgress(e)})},a.destroy=function(){return this._boundHandleScroll&&(this.scroll.off("scroll",this._boundHandleScroll),s.caf(this._animationFrame)),r.prototype.destroy.call(this)},a._bindScrollEvents=function(){this._boundHandleScroll=this.handleScroll.bind(this),this.scroll.on("scroll",this._boundHandleScroll)},t.plugins.scroll.ScrollMotionEmitter=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.scroll.Animation");var o=(document.querySelectorAll,t.plugins.scroll.math.lerp),r=t.dom.getDimensions,a=t.dom.getPagePosition,l=t.plugins.scroll.ScrollMotionEmitter,c={pin:!1,duration:0,delay:0,scrollStart:!1,friction:4,translateTo:[0,0],translateFrom:[0,0],scaleTo:1,scaleFrom:1,rotateTo:0,rotateFrom:0,fadeTo:1,fadeFrom:1,blurTo:0,blurFrom:0,overrideScroll:!1,smooth:!0,scrollMotionEmitter:null},u=["blurTo","blurFrom"],p=["translateTo","translateFrom","scaleTo","scaleFrom","rotateTo","rotateFrom"],d=["fadeTo","fadeFrom"],h=function(t,e){this.el=t,this.options=this._overrideDefaultOptions(e),this.transforms={},this._update=this._update.bind(this),this._memoizeMetrics(),this._setEmitterBounds(),this._initScrollMotionEmitter(),this._setupEvents(),this._isAnimating=!1,this.handleScroll(window.pageYOffset||(document.documentElement||document.body).scrollTop)},m=h.prototype;m.destroy=function(){this._teardownEvents(),this.scrollMotionEmitter.destroy(),this.scrollMotionEmitter=null,this.el=null,this.options=null},m.setOption=function(t,e){this.options[t]=e,"duration"!==t&&"delay"!==t||this._setEmitterBounds()},m.handleScroll=function(t){this.scrollMotionEmitter.handleScroll(t)},m.getTransform=function(t){return this.transforms[t]},m.getOpacity=function(t){return this.opacity},m._overrideDefaultOptions=function(t){var e,i=Object.assign(s.clone(c),t);for(e in t)p.indexOf(e)>-1?this.hasTransform=!0:d.indexOf(e)>-1?this.hasFade=!0:u.indexOf(e)>-1&&(this.hasBlur=!0);return i},m._setEmitterBounds=function(){this.options.scrollStart||0===this.options.scrollStart?this._emitterMin=this.options.scrollStart:this._emitterMin=this.elTop-this.windowHeight+this.options.delay+this.options.translateFrom[1],this._emitterMax=this._emitterMin+this.options.duration,this.scrollMotionEmitter&&(this.scrollMotionEmitter.min=this._emitterMin,this.scrollMotionEmitter.max=this._emitterMax)},m._memoizeMetrics=function(){this.windowHeight=parseInt(window.innerHeight,10),this.elHeight=r(this.el).height,this.elTop=a(this.el).top},m._initScrollMotionEmitter=function(){this.options.scrollMotionEmitter?this.scrollMotionEmitter=this.options.scrollMotionEmitter:this.scrollMotionEmitter=new l({scroll:this.options.scroll,smooth:this.options.smooth,overrideScroll:this.options.overrideScroll,min:this._emitterMin,max:this._emitterMax,friction:this.options.friction}),this.scrollMotionEmitter.isRunning()||this.scrollMotionEmitter.start()},m._setupEvents=function(){this.scrollMotionEmitter.on("draw",this._update)},m._teardownEvents=function(){this.scrollMotionEmitter.off("draw",this._update)},m._setElementTransform=function(){if(this.hasTransform){this.transforms.translateY=o(this._progress,this.options.translateFrom[1],this.options.translateTo[1]),this.transforms.translateX=o(this._progress,this.options.translateFrom[0],this.options.translateTo[0]),this.transforms.rotate=o(this._progress,this.options.rotateFrom,this.options.rotateTo),this.transforms.scale=o(this._progress,this.options.scaleFrom,this.options.scaleTo);var e=1==this.transforms.scale?"":"scale("+this.transforms.scale+","+this.transforms.scale+") ",i=0==this.transforms.rotate?"":" rotate("+this.transforms.rotate+"deg)";this.el.style[t.prefixed.transform]=e+"translate3d("+this.transforms.translateX+"px,"+this.transforms.translateY+"px,0)"+i}},m._setElementOpacity=function(){this.hasFade&&(this.opacity=o(this._progress,this.options.fadeFrom,this.options.fadeTo),this.el.style.opacity=this.opacity)},m._setStatus=function(){this._progress>0&&this._progress<1&&!this._isAnimating?(this._isAnimating=!0,this.el.classList.remove("has-animated"),this.el.classList.remove("has-not-animated"),this.el.classList.add("is-animating")):this._progress>=1&&this._isAnimating?(this._isAnimating=!1,this.el.classList.remove("is-animating"),this.el.classList.remove("has-not-animated"),this.el.classList.add("has-animated")):this._progress<=0&&this._isAnimating&&(this._isAnimating=!1,this.el.classList.remove("is-animating"),this.el.classList.remove("has-animated"),this.el.classList.add("has-not-animated"))},m._update=function(t){isNaN(t.progress)||(this._progress=t.progress,this._setElementTransform(),this._setElementOpacity())},t.plugins.scroll.Animation=h}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.scroll.AnimationStarter");var o=t.plugins.scroll.Animation,r=t.plugins.scroll.math,a=function(t,e){this.hasAnimated=!1,e.stagger||(e.stagger=0),o.apply(this,arguments)},l=a.prototype=Object.create(o.prototype);l._update=function(t){isNaN(t.progress)||this.hasAnimated||((t.progress>this._progress||!this._progress)&&(this._progress=t.progress),this._progress>=1&&(this.hasAnimated=!0),this._setElementTransform(),this._setElementOpacity())},l._setElementOpacity=function(){if(this.hasFade){var t=r.map(this._progress,0,1,-this.options.stagger,40);t/=40,t=Math.max(0,t),this.opacity=r.lerp(t,this.options.fadeFrom,this.options.fadeTo),this.el.style.opacity=this.opacity}},l.destroy=function(){o.prototype.destroy.call(this)},t.plugins.scroll.AnimationStarter=a}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){function o(n){var n=n||{};this.element=n.container?n.container&&s.isElement(n.container)?n.container:n.container[0]:i.body[0],this.scroll=n.scroll||i.window,p.call(this);var o=t.sizes.size;this.currentBreakpoint=o,this.animations={},this.animateEls=e("[data-animate], [data-scrollin], [data-scrollin-icon]",this.element),this.windowHeight=t.sizes.height,this.scrollY=this.scroll.scrollTop(),this.friction=n.friction||9,this.getOptions(),this.rafWhenVisible=!0}t.define("plugins.scroll.AnimationController");var r=t.dom.getPagePosition,a=t.dom.getDimensions,l=(document.querySelectorAll,document.querySelector,t.plugins.scroll.Animation),c=t.plugins.scroll.ScrollMotionEmitter,u=t.plugins.scroll.AnimationStarter,p=t.plugins.scroll.BaseComponent,d=t.plugins.scroll.sharedClock.getInstance(),h=p.prototype,m=o.prototype=Object.create(p.prototype);o.prototype.constructor=o,m.getOptions=function(){this.options=this.element.getAttribute("data-sa-options"),this.options?this.options=JSON.parse(this.options):this.options={}},m.determineStartandDuration=function(){var t=r(this.element).top,e=a(this.element).height;this.scrollStart=Math.max(t-this.windowHeight,0),this.duration=t+e-this.scrollStart+(this.options.durationOffset||0)},m.start=function(){var t,e,n,o;for(this.determineStartandDuration(),t=0,e=this.animateEls.length;t<e;t++){if(n=this.animateEls[t],"none"==n.style.display)return;o=n.getAttribute("ID")||t,n.hasAttribute("data-scrollin")||n.hasAttribute("data-scrollin-icon")?this.isAboveFold(n)?(n.style.transform="none",n.style.opacity=1):this.animations[o]=this.createExperienceScrollAnimation(n):this.animations[o]=this.createScrollAnimation(n)}var r=this,a=s.debounce(this.onResize,300);i.window.on("orientationchange",function(){a.call(r)}),this.scroll.on("resize",function(){a.call(r)})},m.isAboveFold=function(t){return this.scrollY>r(t).top-this.windowHeight},m.grabTranslatesForBreakpoint=function(t){var e=this.currentBreakpoint.replace("x","").split("")[0];return t[e]},m.grabFadeForBreakpoint=function(t){if("number"==typeof t)return t;var e=this.currentBreakpoint.replace("x","").split("")[0];return t.l?(t.m||(t.m=t.l),t.s||(t.s=t.m),t[e]):1},m._getEmitterInstance=function(t){var e=this.element.getAttribute("ID");return this.emitters||(this.emitters={}),this.emitters[e]?this.emitters[e]:(this.emitters[e]=this._createEmitterInstance(t),this.emitters[e])},m._createEmitterInstance=function(t){var e=new c({scroll:this.scroll,smooth:!0,overrideScroll:!0,min:t.scrollStart,max:t.scrollStart+t.duration,friction:this.friction,clock:d});return e.start(),e},m.createScrollAnimation=function(t){var e=JSON.parse(t.getAttribute("data-animate"));return e=this.configureOptions(e),e.scrollMotionEmitter=this._getEmitterInstance(e),new l(t,e)},m.createExperienceScrollAnimation=function(t){var i,n,s,o,a,l;if(t.hasAttribute("data-scrollin-icon")){var c=e(t).closest(".headline-icons")[0];i=r(c).top,n=t.getAttribute("data-scrollin-icon"),s=!0}else i=r(t).top,n=t.getAttribute("data-scrollin"),s=!1;return n&&(n=n.replace(/'/gi,'"'),o=JSON.parse(n)),l={},l.fadeFrom=.1,l.translateFrom={l:[0,40],m:[0,40],s:[0,30]},l.duration=240,l.stagger=0,"small"==this.currentBreakpoint&&(l.duration=140),s&&(l.translateFrom={l:[0,30],m:[0,25],s:[0,25]},l.duration=110),o&&o.stagger&&(l.stagger=.4*o.stagger),l=this.configureOptions(l),a=1,l.duration=l.duration*a,l.translateFrom[1]=l.translateFrom[1]+l.stagger*a,l.scrollStart=i-this.windowHeight+l.translateFrom[1],l.scroll=this.scroll,new u(t,l)},m.createKeyboardSnapAnimation=function(t){var e=JSON.parse(t.getAttribute("data-animate"));return e=this.configureOptions(e),e.duration=a(this.element).height+100,new J(t,e)},m.createFlexibleImageAnimation=function(t){var e=JSON.parse(t.getAttribute("data-animate"));return e=this.configureOptions(e),new N(t,e)},m.configureOptions=function(t){return t.overrideScroll=!0,t.duration||(t.duration=this.duration),t.scrollStart||(t.scrollStart=this.scrollStart),t.translateTo&&(t.translateTo=this.grabTranslatesForBreakpoint(t.translateTo)),t.translateFrom&&(t.translateFrom=this.grabTranslatesForBreakpoint(t.translateFrom)),t.fadeTo&&(t.fadeTo=this.grabFadeForBreakpoint(t.fadeTo)),t.fadeFrom&&(t.fadeFrom=this.grabFadeForBreakpoint(t.fadeFrom)),t.friction||(t.friction=this.friction),t},m.destroy=function(){for(var t in this.animations)this.animations[t].el.setAttribute("style",""),this.animations[t].destroy();this.scroll.off(),i.window.off("orientationchange")},m.onSectionWillAppear=function(t,e){h.onSectionWillAppear.call(this,t,e)},m.onRequestAnimationFrame=function(){h.onRequestAnimationFrame.call(this);for(var t in this.animations)this.animations[t].handleScroll(this.scrollPosition)},m.onScroll=function(t,e,i){this.scrollY=e,h.onScroll.call(this,t,e,i)},m.onSectionWillDisappear=function(t,e){h.onSectionWillDisappear.call(this,t,e)},m.onResize=function(){this.windowHeight=t.sizes.height;for(var e in this.animations)this.animations[e]._teardownEvents(),this.animations[e].el=null,this.animations[e].options=null,this.animations[e]=null;this.animations={},this.emitters=null,this.start();for(var e in this.animations)this.animations[e].handleScroll(this.scrollPosition)},m.onBreakpoint=function(t,e,i,n){this.currentBreakpoint=t},t.plugins.scroll.AnimationController=o}(app,$,app.$dom,app.events,app.utils),function(t,e,i,n,s){t.define("plugins.scroll.animate"),t.plugins.scroll.animate=function(n){this.ready=!1,this.delay=n.delay,this.elems=n.elems?n.elems:".anim",this.scroll=n.scroll?e(n.scroll):i.window,this.scrollTracker=n.scroll?t.device.isIE&&n.scroll===i.window?document.documentElement:s.isElement(n.scroll)?n.scroll:n.scroll[0]:t.device.isIE?document.documentElement:i.window[0],this.scope=n.container?e(n.container):this.scroll,this.delta=n.delta?this.deltaValues.getValueByTitle(n.delta):null,this._items=n.items,this.onlyItems=n.onlyItems,this.eventResize=t.device.isMobile?"orientationchange":"resize",this.items=[]},t.plugins.scroll.animate.prototype={start:function(t){var e=this;if(this.ready&&!t||this.render(),this.items.length){this.scroll.on("scroll.animate",function(){e.scrolling||(e.scrolling=!0,e.raf=s.raf(function(){e.onScroll.call(e)}))});var n=s.debounce(this.render,1e3);i.window.on(this.eventResize+".scroll-animate",function(){n.call(e)})}},render:function(t){var e=this;if(this.ready=!1,this.scrollTop=this.getScrollY.call(this),t||s.isEmpty(this.items)){if(this.items=[],this._items){var i=0;s.each(this._items,function(t){!function(t){e.scope.find(t.elem).each(function(){e.each({elem:this,index:i,delta:t.delta,callback:t.callback}),i++})}(t)})}this.onlyItems||this.scope.find(this.elems).each(function(){e.each({elem:this})})}else s.each(this.items,function(t){t.anim||(t.offset=t.elem.offset())});this.ready=!0},each:function(i){var n=e(i.elem),s=i.delta||i.elem.getAttribute("data-delta");s=s?this.deltaValues.getValueByTitle(s):this.delta?this.delta:this.deltaValues.getValueByTitle("m");var o={elem:n,anim:!1,offset:n.offset(),delta:t.device.isMobile&&"portrait"===t.device.orientation?1.25*s:s,callback:i.callback?i.callback:null};this.iteration(this.scrollTop,o,i.index)||this.items.push(o)},onScroll:function(){if(this.ready){var t=this,e=this.getScrollY.call(this);this.items.forEach(function(i,n){t.iteration(e,i,n)}),this.scrolling=!1}},getScrollY:function(){return this.scrollTracker.scrollTop||this.scrollTracker.scrollY},iteration:function(e,i,n){return!i.anim&&e+t.sizes.height*i.delta>i.offset.top&&(i.anim=!0,i.callback?i.callback(i.elem,n):i.elem.addClass("animated"),!0)},destroy:function(){i.window.off(this.eventResize+".scroll-animate"),this.scroll.off("scroll.animate"),s.caf(this.raf),this.items.forEach(function(t,e){t.anim&&(t.anim=!1,t.elem.removeClass("animated"))}),this.ready=!1},deltaValues:{items:[{title:"xxs",value:1.25},{title:"xs",value:1},{title:"s",value:.733},{title:"m",value:.54},{title:"l",value:.38},{title:"xl",value:.25}],getValueByTitle:function(t){return s.findWhere(this.items,{title:t}).value}}}}(app,$,app.$dom,app.events,app.utils),function(){window.i18n.dictionary({ru:{resume:{premium:{template:{"Graph salary":"График роста","Desired salary growth schedule":"Желаемый график роста оплаты труда","You can compose your own schedule":"Вы можете составить свой произвольный график","I am in social media":"Я в социальных медиа","My projects":"Мои проекты","Main skills":"Основные компетенции",Education:"Образование",Specialty:"Специальность",Courses:"Курсы",Languages:"Владение языками",Experience:"Опыт работы","Until Now":"по настоящее время","My hobby":"Мои хобби","Contact or":"Связаться или",Feedback:"Связаться","Invite to interview":"Пригласить на интервью","Introduce / Company":"Представтесь / Компания",Message:"Сообщение","Send message":"Отправить",My:"Моя","Contacts info":"Контактная информация",Choose:"Предпочитаю",Citizenship:"Гражданство","Business trip, relocation":"Командировки, переезд","Business trip":"Командировки",Relocation:"Переезд","Work schedule":"График работы","Travel time to work":"Время до работы","If you liked my resume please supply Like":"Если вам понравилось мое резюме, пожалуйста, поставьте лайк",Like:"Мне нравиться","Thanks, your message was successfully":"Спасибо, ваше обращение было успешно отправлено","Thanks for your vote, he will be counted":"Спасибо за ваш голос, он будет учтен"}}}}})}(),$store.account=_.extend(new Baobab([]),{onPhotoUpload:function(){$Sections.photoUpload.show(function(t){app.request("setProfilePhoto",{image:t},{loader:!1}).then(function(e){e&&e.image&&$store.account.select("commons","photo").set(t)})})},onSaveData:function(t,e){var i=$store.account.get("commons","surname");t.select("surname").set(i&&i.length?i:t.get("surname")),$store.account.select("commons").set(t.get()),_.isFunction(e)&&e(),app.request("setProfile",{commons:t.get()})},take:{lastVisit:function(){var t=$store.account.get("visite"),e=moment(t).diff(moment(),"days");return 0===e?"сегодня в "+moment(t).format("HH:mm"):e===-1?"вчера в "+moment(t).format("HH:mm"):moment(t).format("D MMMM")+" в "+moment(t).format("HH:mm")},age:function(t){var e="ru",i=t,n=i.month<10?"0"+i.month:i.month,s=i.day<10?"0"+i.day:i.day,o=moment().diff(moment(i.year+"-"+n+"-"+s),"years");return o+="1"==o?"ru"==e?" год":" year":o>1&&o<5?"ru"==e?" года":"year":"ru"==e?" лет":" year"},phone:function(){var t=$store.account.get("commons","contacts","phone");return t&&t.number?"+"+t.code+" "+t.number:""}}}),function(){$store.data=_.extend(new Baobab([]),{onPhotoUpload:function(t,e){$Sections.photoUpload.show(function(i){app.request("setResumePhoto",{id:t,image:i},{loader:!1}).then(function(t){t&&t.image&&_.isFunction(e)&&e(t.image)})})},onSelect:function(e){$Sections.resume.select.show({plan:app.metrika.get("resume.select.default")||"free"}).then(function(i){t.onCreate(_.extend(i,{lang:e}))})},onCreate:function(t){if("free"==t.plan)$Sections.resume.edit.show({lang:t.lang||"ru",template:t.template});else if("premium"==t.plan)if("premium"!=$account.get("plan"))$Sections.plan.show("premium");else{var e=$store.resume.prepare.premium($resume.default.resume({ACCOUNT_ID:$account.get("_id"),plan:"premium",lang:t.lang||"ru",commons:$account.get("commons")}));app.request("addResume",{data:e},{loader:!1}).then(function(t){t.id&&(e._id=t.id,$store.data.push(e),$store.data.onEdit(t.id))})}},onEdit:function(t){var e=$store.data.get({_id:t});"premium"==e.plan?"premium"!=$account.get("plan")?$Sections.plan.show("premium"):$Loader.show({color:e.config&&e.config.color}).then(function(){History.pushState(null,null,"/private"),location.replace("/private/resume/"+t)}):$Sections.resume.edit.show({id:t})},onPreview:function(t){if("free"==t.plan){var e=null;$Sections.resume.preview.show({data:t,template:t.template}).then(function(){e()})}else app.utils.opener("/resume/"+t._id);return new Promise(function(t,i){e=t})},onRemove:function(e){$Alert.show({title:"Удалить резюме?",subtitle:"Вы уверены?",success:{callback:function(){app.request("delResume",{id:e}).then(function(){t.select({_id:e}).unset(),$Sections.resume.list.update()})}}})},onPrint:function(t){app.utils.opener("/resume/"+t+"?print=true")},onStat:function(t,e){$Sections.resume.stat.show(t,e)},onSendMail:function(t){$Sections.resume.sendmail.show(t)},onGetPdf:function(t,e){var e=e||{};$Sections.progress.show(function(){var i=t.post,n=t.template,s=$$('<div class="resume__preview resume__preview--shadow">').appendTo(app.$dom.body);$i18n.lang(t.lang),moment.locale(t.lang),window.$resume=window.$resume||$store.resume,$store.resume.set(t);var o=riot.mount(s[0],"resume-basic-template"+n)[0];o.one("updated",function(){app.request("addResumePdf",{id:t._id,template:t.template,stamp:"premium"!=$account.get("plan"),content:s.html()},{loader:!1}).then(function(t){if(t&&t.pdf){if(o.unmount(),moment.locale("ru"),e.skipGetFile)return void(_.isFunction(e.callback)&&$Sections.progress.hide(function(){e.callback()}));var n=new XMLHttpRequest;n.open("GET",t.pdf,!0),n.responseType="arraybuffer",n.onload=function(){var t=this.response;$Sections.progress.hide(function(){var e=new Blob([t],{type:"application/pdf"});saveAs(e,i?i:"MyResume.pdf")})},n.send()}})}),app.metrika.set("resume.create.control.pdf",!0)})},onPublic:function(e,i,n){app.request("setResumePublic",{id:e,public:i}).then(function(){t.select({_id:e},"public").set(i),_.isFunction(n)&&n()})},getItemsMenu:function(){return _.map(t.get(),function(t){return{_id:t._id,title:t.post||"Новое резюме"}})},dropMenu:[{title:"Редактировать",callback:function(e){t.onEdit(e)}},{hidden:!app.device.isPhone,title:"Статистика",callback:function(e,i){t.onStat(e,i)}},{title:"Отправить на почту",callback:function(e){t.onSendMail(e)}},{title:"Сохранить в PDF",callback:function(e,i){t.onGetPdf(i)}},{title:"Создать копию",callback:function(e){function i(e,i){"free"==e.plan&&"premium"==i?(e=$store.resume.prepare.premium(e),e.percent=$store.resume.percentage.calc("premium",e)):"premium"==e.plan&&"free"==i&&(e.config.color="#0084ff",e.percent=$store.resume.percentage.calc("free",e)),e.plan=i,app.request("addResume",{data:e}).then(function(i){i&&i.id&&(e._id=i.id,t.push(e),$Sections.resume.list.update())})}var n=t.select({_id:e}).deepClone();n&&("premium"==$account.get("plan")?$Alert.show({title:"В каком формате создать копию?",subtitle:"Выберите формат резюме",success:{title:"Premium",callback:function(){i(n,"premium")}},cancel:{title:"Free",callback:function(){i(n,"free")}}}):i(n,n.plan))}},{hidden:app.device.isMobile,title:"Распечатать",callback:function(e){t.onPrint(e)}},{title:"Удалить",callback:function(e){t.onRemove(e)}}]});var t=$store.data}(),function(){$store.inbox=_.extend(new Baobab([]),{counterAll:function(){return t.get().length},counterNewAll:function(){return _.where(t.get(),{new:!0}).length},getCounterNewByResumeId:function(e){return _.where(t.get(),{resumeId:e,new:!0}).length},getCounterByResumeId:function(e){return _.where(t.get(),{resumeId:e}).length},getItemByResumeId:function(t){return $store.inbox.select({resumeId:t,new:!0}).get("_id")},getItemsByResumeId:function(e){return _.where(t.get(),{resumeId:e})},onViewed:function(e,i){var n=t.select({_id:i});n.get("new")&&(n.select("new").set(!1),e.push(i))}});var t=$store.inbox}(),$store.likes=_.extend(new Baobab([]),{counterAll:function(){return _.flatten(_.pluck($store.likes.get(),"likes")).length}}),$store.month=_.extend(new Baobab([{_id:"1",title:{en:"January",ru:"Январь"}},{_id:"2",title:{en:"February",ru:"Февраль"}},{_id:"3",title:{en:"March",ru:"Март"}},{_id:"4",title:{en:"April",ru:"Апрель"}},{_id:"5",title:{en:"May",ru:"Май"}},{_id:"6",title:{en:"June",ru:"Июнь"}},{_id:"7",title:{en:"July",ru:"Июль"}},{_id:"8",title:{en:"August",ru:"Август"}},{_id:"9",title:{en:"September",ru:"Сентябрь"}},{_id:"10",title:{en:"October",ru:"Октябрь"}},{_id:"11",title:{en:"November",ru:"Ноябрь"}},{_id:"12",title:{en:"December",ru:"Декабрь"}}]),{getItems:function(t){return _.map($store.month.get(),function(e){return{_id:e._id,title:e.title[t||"ru"]}})},getTitleById:function(t,e){return $store.month.get({_id:t},"title",e||$store.resume.get("lang"))}}),$store.paymentMethod=_.extend(new Baobab([{method:"yamoney",title:"Яндекс.Деньги",text:"Оплатить электронными деньгами платежной системы яндекс денег.",value:"PC",pos:2},{method:"bankcard",title:"Банковcкой картой",text:"Оплата всеми пластиковыми картами Visa и MasterCard.",value:"AC",pos:1},{method:"mobile",title:"Со счета мобильного",text:"Оплатить со счета мобильного телефона сотовых операторов: Мегафон, МТС, Билайн, Tele2.",value:"MC",pos:3}]),{getValueByMethod:function(t){return _.findWhere($store.paymentMethod.get(),{method:t}).value}}),$store.paymentPeriod=_.extend(new Baobab([{period:"month1",title:"1 месяц",price:"369"},{period:"month3",title:"3 месяца",price:"869",sale:"-20%"},{period:"month6",title:"6 месяцев",price:"1369",sale:"-40%"},{period:"year1",title:"на 1 год",price:"1769",sale:"-60%"},{period:"year2",title:"на 2 года",price:"3569",sale:"-60%"}]),{getTitleByPeriod:function(t){return _.findWhere($store.paymentPeriod.get(),{period:t}).title},getPriceByPeriod:function(t){return _.findWhere($store.paymentPeriod.get(),{period:t}).price},getSaleByPeriod:function(t){return _.findWhere($store.paymentPeriod.get(),{period:t}).sale}}),$store.colors=_.extend(new Baobab([{_id:"#0084ff",title:"blueLight",titles:{en:"Modern",ru:"Модный"}},{_id:"#265cdc",title:"blue",titles:{en:"Blue",ru:"Cиний"}},{_id:"#74b027",title:"green",titles:{en:"Green",ru:"Зеленый"}},{_id:"#0bb5b7",title:"emerald",titles:{en:"Emerald",ru:"Изумрудный"}},{_id:"#ff7272",title:"pink",titles:{en:"Pink",ru:"Гламурный"}},{_id:"#d93663",title:"red",titles:{en:"Crimson",ru:"Малиновый"}},{_id:"#c1a16b",title:"brown",titles:{en:"Business",ru:"Деловой"}},{_id:"#ea7f07",title:"orange",titles:{en:"Orange",ru:"Оранжевый"}},{_id:"#ab81cd",title:"violetLight",titles:{en:"Violet light",ru:"Лиловый"}},{_id:"#5856d6",title:"violet",titles:{en:"Violet",ru:"Фиолетовый"}}]),{getItems:function(t){return _.map($store.colors.get(),function(e){return{_id:e._id,title:e.titles[t||$store.resume.get("lang")]}})},getTitleById:function(t){return _.findWhere($store.colors.get(),{_id:t}).title}}),$store.coverletter=_.extend(new Baobab([{_id:"1",color:"black",title:"Белым по черному"},{_id:"2",color:"white",title:"Черным по белому"}]),{getTitleById:function(t){return _.findWhere($store.coverletter.get(),{_id:t}).title},getColorById:function(t){return _.findWhere($store.coverletter.get(),{_id:t}).color}}),$store.fonts=_.extend(new Baobab([{_id:"futura",title:{en:"Basic",ru:"Базовый"}},{_id:"avant",title:{en:"Classic",ru:"Классический"}},{_id:"gotham",title:{en:"Modern",ru:"Современный"}},{_id:"proxima",title:{en:"Respectable",ru:"Респектабельный"}},{_id:"myriad",title:{en:"Intelligent",ru:"Интеллигентный"}}]),{getItems:function(t){return _.map($store.fonts.get(),function(e){return{_id:e._id,title:e.title[t||$store.resume.get("lang")]}})},getTitleById:function(t,e){return $store.fonts.get({_id:t},"title",e||$store.resume.get("lang"))}}),$store.hobby=_.extend(new Baobab([{_id:"airplane",title:"Путешествия",value:27353},{_id:"basketball",title:"Баскетбол",value:40611},{_id:"books",title:"Чтение",value:4062},{_id:"camera",title:"Фото/видео",value:1999599},{_id:"car",title:"Автомобили",value:347560},{_id:"palette",title:"Рисование",value:23534},{_id:"comedy",title:"Театр",value:27906},{_id:"cooking",title:"Кулинария",value:22545},{_id:"cyclist",title:"Велосипед",value:2286},{_id:"dancer",title:"Танцы",value:150088},{_id:"happy",title:"Шоппинг",value:5173},{_id:"mirrors",title:"Клубы",value:23979},{_id:"movie",title:"Кино",value:909743},{_id:"musical",title:"Музыка",value:1605498},{_id:"poker",title:"Азартные игры",value:6535},{_id:"running",title:"Бег",value:5867},{_id:"snowboard",title:"Сноуборд",value:16734},{_id:"soccer",title:"Футбол",value:793657},{_id:"sport",title:"Лыжи",value:12032},{_id:"swimmer",title:"Плавание",value:10735},{_id:"typewriter",title:"Писательство",value:5882},{_id:"volleyball",title:"Волейбол",value:61144},{_id:"programming",title:"Программирование",value:10038},{_id:"weightlifting",title:"Тренажерный зал",value:7819},{_id:"tennis",title:"Теннис / Сквош",value:20252},{_id:"bowling",title:"Боулинг",value:12713},{_id:"yoga",title:"Йога",value:38675},{_id:"hunting",title:"Охота",value:35739},{_id:"boxing",title:"Бокс",value:113534},{_id:"fencing",title:"Фехтование",value:5399},{_id:"needlework",title:"Рукоделие",value:13249},{_id:"skydiving",title:"Прыжки с парашютом",value:4365},{_id:"pets",title:"Домашние животные",value:24673},{_id:"boardgames",title:"Настольные игры",value:36111},{_id:"bath",title:"Баня",value:28067},{_id:"computergames",title:"Компьютерные игры",value:9987},{_id:"singing",title:"Пение",value:1851},{_id:"decoration",title:"Декор",value:7587},{_id:"surfing",title:"Серфинг",value:4231},{_id:"chess",title:"Шахматы",value:139555},{_id:"horsebackriding",title:"Верховая езда",value:1609},{_id:"icehockey",title:"Хоккей",value:132542},{_id:"collecting",title:"Собирательство",value:1086},{_id:"floristics",title:"Флористика",value:2962},{_id:"billiards",title:"Бильярд",value:22939},{_id:"skateboarding",title:"Скейтбординг",value:1078},{_id:"rollers",title:"Ролики",value:15993},{_id:"mindgames",title:"Интеллектуальные игры",value:6647},{_id:"poetry",title:"Поэзия",value:3672},{_id:"hikes",title:"Походы / каякинг",value:2991},{_id:"rockclimbing",title:"Альпинизм",value:1434}]),{getTitleById:function(t){return _.findWhere($store.hobby.get(),{_id:t}).title}}),$store.photoFilter=_.extend(new Baobab([{_id:"off",title:"Отключен"},{_id:"grayscale",title:"Grayscale"},{_id:"sepia",title:"Sepia"},{_id:"noir",title:"Noir"},{_id:"fade",title:"Fade"},{_id:"chrome",title:"Chrome"},{_id:"process",title:"Process"},{_id:"transfer",title:"Transfer"},{_id:"auto",title:"Auto"}]),{getTitleById:function(t){return _.findWhere($store.photoFilter.get(),{_id:t}).title}}),$store.demo={_id:"588becda9f1df3915186566b",public:!0,plan:"premium",template:"1",lang:"ru",post:"Web-Designer, Art-director, Illustrator",percent:"97",commons:{photo:"/preview/images/prof/6.jpg",name:"Виктория",surname:"",gender:"female",birthday:{day:"25",month:"7",year:"1986",hidden:!0},citizenship:"113",businessTrip:"ready",relocation:"no_relocation",relocationCity:null,travelTime:"any",specialization:[],employments:[],schedules:["fullDay","remote"],contacts:{city:{id:"1",name:"Москва"},metro:null,email:"victory@gmail.com",phone:{id:"ru",code:"7",number:"(900) 500-5550"},primary:"email",site:"http://web-projects.me",skype:"myskype"}},salary:{amount:"125000",currency:"1",worktime:"1",graph:{active:!0,items:[8e4,1e5,125e3,15e4,175e3,195e3]},active:!0},tags:["Adobe Photoshop","InDesign","Illustrator","Sketch App","MS PowerPoint","HTML5","JavaScript","jQuery","UI/UX"],appeal:"Я графический дизайнер. В дизайне предпочитаю лаконичный стиль. В тексте — информационный. Убираю всё, что мешает увидеть суть.",about:"Высокий уровень ответсвенности, исполнительности, умение работать с людьми, высокий уровень социальной коммуникации. Открытость, порядочность, честность, любовь к порядку, педантичность, аккуратность, любовь к мелочам и деталям.\n\n Широкий круг интересов: иностранные языки, программирование, психология. Свободное время провожу с семьей или за чтением книг.",likes:_.range(97),social:{title:"Я в социальных медиа",items:[{title:"fb",value:"http://facebook.com"},{title:"vk",value:"http://vk.com"},{title:"in",value:"http://instagram.com"},{title:"lk",value:"http://linkedin.com"}]},works:{title:"Мои проекты",text:"Наличие деловых контактов с представителями различных сфер таких как бизнесмены, журналисты, работники творческих профессий (продюсеры, художники, скульпторы, музыканты, и пр.)",items:[{id:"1",year:"2015",title:"YellStore",text:"Idea, design UI/UX, Single Page App on JS, jQuery, Ajax, catching on client side, templates with mustache, css transform/transition, SVG, responsive, smacss, bem, gulp. Later in the task of writing Rest Full API on backend.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{id:"2",year:"2014",title:"ResumeKraft",text:"Idea, design UI/UX, ModPerl, frontend only native JS, HTML5, canvas, Ajax, catching on client side, css transform/transition, responsive, smacss, gulp.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{id:"3",year:"2014",title:"JQ test",text:"Idea, design UI/UX, JS, jQuery, Ajax, css transform/transition, responsive, less, gulp.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{id:"4",year:"2013",title:"SalesVR",text:"ModPerl, catching on server side, JS (jQuery), bootstrap, fontawesome.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{id:"5",year:"2012",title:"UpleCEO",text:"Perl, JS (jQuery), bootstrap, fontawesome, connection APIs: YandexMetrica, YandexWebmaster, Sape, eTXT.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}},{id:"6",year:"2010",title:"UpleCRM",text:"Idea, design UI/UX, Perl, JS (jQuery), connection API YandexDirect. 18 modules.",links:{url:{title:"Портфолио",value:"http://behance.net"},image:{title:"Еще материалы",value:"http://dribbble.com"},video:{title:"Видео материалы",value:"http://vimeo.com"}}}]},skills:{title:"Основные компетенции",header:"Работаю в Illustrator, Adobe Photoshop и InDesign. Мой профиль — айдентика, web и promo. Разработка UI/UX.",text:"С любовью справляюсь с командой. Разработка дизайна интерфейсов для мобильных приложений на базе iOS, android. Создание иконок для приложений, дизайн сайтов. Дизайн деловой документации, дизайн полиграфической продукции, дизайн рекламных макетов. Разработка рекламных кампаний, фирменных стилей.",
items:[{title:"Креативность",value:"90"},{title:"Управление проектами",value:"95"},{title:"Графический дизайн",value:"79"},{title:"Векторная графика",value:"86"}]},education:{title:"Образование",level:"higher",text:"Люблю учиться и повышать свои профессиональные навыки.",items:[{id:"1",title:"Российская академия народного хозяйства и государственной службы при Президенте РФ, Москва",faculty:"Инновационно-технологического бизнеса",speciality:"Инновационный менеджмент",year:"2013"},{id:"2",title:"Международная академия бизнеса и управления (МУБиУ), Москва",faculty:"Институт дизайна и рекламы",speciality:"Дизайн архитектурной среды",year:"2011"}]},courses:{title:"Курсы",text:"Тяга к исследовательской деятельности, постоянному образованию, поиску и внедрению нестандартных решений.",items:[{id:"1",name:"Тренинговое Агентство «Мастер-Класс», Москва",title:"Семинар «Эффективная рекламная деятельность фирмы»",year:"2008"},{id:"2",name:"Тренинговое Агентство «Мастер-Класс», Москва",title:"Тренинг «Эффективное руководство сотрудниками»",year:"2008"},{id:"3",name:"DIGITAL PAINTING / Painter, Москва",title:"Школа Real Time",year:"2006"}]},languages:{title:"Владение языками",text:"Широкий круг интересов: иностранные языки, программирование, психология. Профессиональную деятельность считаю высшей степенью самореализации.",items:[{title:"native",value:"rus"},{title:"eng",value:"can_pass_interview"},{title:"deu",value:"not"},{title:"fra",value:"basic"}]},jobs:{title:"Работа в компаниях",text:"Стабильность и ответственность, способность закрывать участки работ гарантируя полную надежность и прозрачность процесса, принимать ответственные решения, грамотно мотивировать людей, снижать риски и достигать поставленных целей.",experience:"76",items:[{id:"1",title:"Технопарк Сколково, ООО",city:"Москва",post:"Специалист по коммуникациям",from:{month:"4",year:"2014"},to:{month:"1",year:"2000"},text:"— Разработка дизайна промо-презентаций и презентаций для внутрикорпоративного использования\n— Разработка дизайна печатной и сувенирной продукции компании\n— Разработка дизайна электронных рассылок\n— Участие в разработке дизайна печатной продукции для Startup Village и Startup Tour\n— Авторский надзор за визуальной концепцией печатной продукции и рекламными кампаниями мероприятий (IASP 2016 Moscow, Открытые инновации)\n— Создание дизайна и контента страниц сайта компании",last:!0},{id:"2",title:"ООО НПП «Тензосенсор»",city:"Москва",post:"Финансовый директор",from:{month:"2",year:"2011"},to:{month:"12",year:"2013"},text:"Взаимодействовала со Сколково в рамках развития проекта\nКоординировала работу финансового подразделения компании (2 человека)\nГотовила финансовую отчетность по проектам\nПредставляла компанию и её разработки на российских и зарубежных выставках (Финляндия, Франция, США)\nРазработала контент и дизайн-макеты рекламной продукции компании (презентации, буклеты)\nСоздала контент сайта компании и его дизайн\nРазработала дизайн логотипа компании\nПисала новости компании для публикации на сайте компании",last:!1},{id:"3",title:"ООО НТЦ «Интрофизика»",city:"Москва",post:"Заместитель директора по маркетингу",from:{month:"7",year:"2010"},to:{month:"1",year:"2011"},text:"Участие в подготовке конкурсной документации НИОКР, в разработке стратегии компании относительно участия в тендерах.\nПодготовка аналитических отчетов о деятельности компании, подготовка отчетов об исследовании рынка и потенциале внедрения продуктов компании на рынок с учетом текущих тенденций развития.\nМатематические расчеты, построение прогнозных данных.",last:!1}]},hobby:{title:"Мои хобби",text:"Много читаю разнообразной литературы, путешествую, вдохновляюсь культурой в зарубежных странах. Люблю обучаться новому.",items:["airplane","comedy","swimmer","musical"]},coverletter:{text:"Привет ;)\nЯ графический дизайнер. В дизайне предпочитаю лаконичный стиль. В тексте — информационный. Убираю всё, что мешает увидеть суть.",color:"1"},sections:[{name:"salary",title:"Желаемая зарплата",control:!0,active:!0},{name:"tags",title:"Ключевые навыки",control:!0,active:!0},{name:"appeal",title:"Заголовок-обращение",control:!0,active:!0},{name:"about",title:"О себе текст",control:!0,active:!0},{name:"social",title:"Аккаунты в соц. сетях",control:!0,active:!0},{name:"works",title:"Мои проекты",screen:!0,control:!0,active:!0},{name:"skills",title:"Основные компетенции",screen:!0,control:!0,active:!0},{name:"education",title:"Образование",screen:!0,control:!0,active:!0},{name:"courses",title:"Курсы",screen:!0,control:!0,active:!0},{name:"languages",title:"Владение языками",screen:!0,control:!0,active:!0},{name:"jobs",title:"Работа в компаниях",screen:!0,control:!0,active:!0},{name:"hobby",title:"Мои хобби",screen:!0,control:!0,active:!0},{name:"contacts",title:"Контакты",screen:!0,control:!1,active:!0},{name:"more",title:"Командировки",screen:!0,control:!1,active:!0},{name:"feedback",title:"Обратная связь",screen:!0,control:!1,active:!0},{name:"coverletter",title:"Сопроводительное письмо",screen:!0,control:!1,active:!1}],config:{color:"#0084ff",font:"futura",photo:{minWidth:440,maxHeight:620,noise:!1,filter:"off"},pdf:{logotype:!0},likes:{active:!0,count:!0},animate:!0,stat:!1}},$store.country=_.extend(new Baobab([{_id:"113",title:"Россия"},{_id:"2112",title:"Абхазия"},{_id:"5",title:"Украина"},{_id:"6",title:"Австралия"},{_id:"40",title:"Казахстан"},{_id:"7",title:"Австрия"},{_id:"9",title:"Азербайджан"},{_id:"2357",title:"Албания"},{_id:"16",title:"Беларусь"},{_id:"2368",title:"Алжир"},{_id:"2376",title:"Ангола"},{_id:"2354",title:"Андорра"},{_id:"235",title:"Аргентина"},{_id:"13",title:"Армения"},{_id:"2110",title:"Афганистан"},{_id:"303",title:"Бангладеш"},{_id:"2361",title:"Бахрейн"},{_id:"5047",title:"Белиз"},{_id:"18",title:"Бельгия"},{_id:"200",title:"Болгария"},{_id:"2228",title:"Боливия"},{_id:"2358",title:"Босния и Герцеговина"},{_id:"243",title:"Бразилия"},{_id:"306",title:"Буркина Фасо"},{_id:"21",title:"Великобритания"},{_id:"114",title:"Венгрия"},{_id:"2371",title:"Венесуэла"},{_id:"203",title:"Вьетнам"},{_id:"2586",title:"Габон"},{_id:"202",title:"Гвинея"},{_id:"27",title:"Германия"},{_id:"2435",title:"Государство Палестина"},{_id:"213",title:"Греция"},{_id:"28",title:"Грузия"},{_id:"30",title:"Дания"},{_id:"311",title:"Демократическая Республика Конго"},{_id:"2730",title:"Доминиканская Республика"},{_id:"305",title:"Египет"},{_id:"33",title:"Израиль"},{_id:"209",title:"Индия"},{_id:"2108",title:"Индонезия"},{_id:"2365",title:"Иордания"},{_id:"2232",title:"Ирак"},{_id:"2227",title:"Иран"},{_id:"36",title:"Ирландия"},{_id:"302",title:"Исландия"},{_id:"37",title:"Испания"},{_id:"38",title:"Италия"},{_id:"2109",title:"Йемен"},{_id:"245",title:"Камбоджа"},{_id:"45",title:"Канада"},{_id:"210",title:"Катар"},{_id:"236",title:"Кипр"},{_id:"50",title:"Китай"},{_id:"2113",title:"Колумбия"},{_id:"2380",title:"Кооперативная Республика Гайана"},{_id:"2362",title:"Королевство Саудовская Аравия"},{_id:"2363",title:"Кувейт"},{_id:"57",title:"Латвия"},{_id:"48",title:"Кыргызстан"},{_id:"2111",title:"Ливан"},{_id:"2106",title:"Ливия"},{_id:"59",title:"Литва"},{_id:"2355",title:"Лихтенштейн"},{_id:"206",title:"Люксембург"},{_id:"2359",title:"Македония"},{_id:"238",title:"Малайзия"},{_id:"2798",title:"Мальдивская Республика"},{_id:"2353",title:"Мальта"},{_id:"2372",title:"Марокко"},{_id:"2229",title:"Мексика"},{_id:"62",title:"Молдавия"},{_id:"2356",title:"Монако"},{_id:"2231",title:"Монголия"},{_id:"2487",title:"Мьянма"},{_id:"2375",title:"Намибия"},{_id:"240",title:"Нигерия"},{_id:"65",title:"Нидерланды"},{_id:"204",title:"Новая Зеландия"},{_id:"207",title:"Норвегия"},{_id:"208",title:"ОАЭ"},{_id:"2364",title:"Оман"},{_id:"316",title:"Пакистан"},{_id:"2587",title:"Панама"},{_id:"2395",title:"Перу"},{_id:"74",title:"Польша"},{_id:"241",title:"Португалия"},{_id:"2752",title:"Республика Бенин"},{_id:"2491",title:"Республика Гана"},{_id:"2504",title:"Республика Зимбабве"},{_id:"2669",title:"Республика Камерун"},{_id:"2453",title:"Республика Кения"},{_id:"312",title:"Республика Конго"},{_id:"2636",title:"Республика Коста-Рика"},{_id:"2454",title:"Республика Кот-д’Ивуар"},{_id:"2635",title:"Республика Куба"},{_id:"2398",title:"Республика Либерия"},{_id:"2370",title:"Республика Маврикий"},{_id:"2488",title:"Республика Мадагаскар"},{_id:"2378",title:"Республика Нигер"},{_id:"3666",title:"Республика Никарагуа"},{_id:"2446",title:"Республика Северный Судан"},{_id:"2367",title:"Республика Сейшельские острова"},{_id:"2374",title:"Республика Сенегал"},{_id:"2369",title:"Реюньон"},{_id:"234",title:"Румыния"},{_id:"5048",title:"Сент-Винсент и Гренадины"},{_id:"146",title:"Сербия"},{_id:"233",title:"Сингапур"},{_id:"317",title:"Сирия"},{_id:"318",title:"Словакия"},{_id:"2105",title:"Словения"},{_id:"85",title:"США"},{_id:"86",title:"Таджикистан"},{_id:"300",title:"Таиланд"},{_id:"148",title:"Тайвань"},{_id:"244",title:"Тунис"},{_id:"93",title:"Туркменистан"},{_id:"97",title:"Узбекистан"},{_id:"94",title:"Турция"},{_id:"4635",title:"Уганда"},{_id:"2810",title:"Уругвай"},{_id:"2360",title:"Филиппины"},{_id:"100",title:"Финляндия"},{_id:"101",title:"Франция"},{_id:"2103",title:"Хорватия"},{_id:"5046",title:"Черногория"},{_id:"199",title:"Чехия"},{_id:"2396",title:"Чили"},{_id:"108",title:"Швейцария"},{_id:"149",title:"Швеция"},{_id:"239",title:"Шотландия"},{_id:"2511",title:"Шри-Ланка"},{_id:"242",title:"Эквадор"},{_id:"109",title:"Эстония"},{_id:"2520",title:"Эфиопия"},{_id:"211",title:"ЮАР"},{_id:"110",title:"Южная Корея"},{_id:"2524",title:"Южная Осетия"},{_id:"2440",title:"Ямайка"},{_id:"111",title:"Япония"}]),{getTitleById:function(t){return _.findWhere($store.country.get(),{_id:t}).title}}),function(){for(var t=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC)","cd","243"],["Congo (Republic)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin","mf","590",2],["Saint Pierre and Miquelon","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1]],e=0;e<t.length;e++){var i=t[e];t[e]={_id:i[1],title:i[0],code:i[2]}}$store.countryCode=t}(),$store.dictionary={businessTrip:new Baobab([{_id:"ready",title:{en:"Prepared for business trips",ru:"Возможно"}},{_id:"sometimes",title:{en:"Prepared for occasional business trips",ru:"Возможно иногда"}},{_id:"never",title:{en:"Not prepared for business trips",ru:"Никогда"}}]),relocation:new Baobab([{_id:"no_relocation",title:{en:"Not willing to relocate",ru:"Не готов"}},{_id:"relocation_possible",title:{en:"Willing to relocate",ru:"Готов к переезду"}},{_id:"relocation_desirable",title:{en:"I want to relocate",ru:"Хочу переехать"}}]),travelTime:new Baobab([{_id:"any",title:{en:"Doesn't matter",ru:"Не имеет значения"}},{_id:"less_than_hour",title:{en:"Up to one hour",ru:"Не более часа"}},{_id:"from_hour_to_one_and_half",title:{en:"Up to 90 minutes",ru:"Не более полутора часов"}}]),employments:new Baobab([{_id:"full",title:{en:"Full-time",ru:"Полная занятость"}},{_id:"part",title:{en:"Part-time",ru:"Частичная занятость"}},{_id:"project",title:{en:"Project/temporary work",ru:"Проектная работа"}},{_id:"volunteer",title:{en:"Volunteering",ru:"Волонтерство"}},{_id:"probation",title:{en:"Work placement",ru:"Стажировка"}}]),schedules:new Baobab([{_id:"fullDay",title:{en:"Full day",ru:"Полный день"}},{_id:"shift",title:{en:"Shift schedule",ru:"Сменный график"}},{_id:"flexible",title:{en:"Flexible schedule",ru:"Гибкий график"}},{_id:"remote",title:{en:"Remote working",ru:"Удаленная работа"}},{_id:"flyInFlyOut",title:{en:"Rotation based work",ru:"Вахтовый метод"}}]),contactsPrimary:new Baobab([{_id:"any",title:{en:"Any",ru:"Любой"}},{_id:"email",title:{en:"Email",ru:"Электронная почта"}},{_id:"phone",title:{en:"Mobile phone",ru:"Мобильный телефон"}},{_id:"skype",title:{en:"Skype",ru:"Skype"}}]),experience:new Baobab([{_id:"noExperience",title:{en:"No experience",ru:"Нет опыта"}},{_id:"between1And3",title:{en:"From 1 year to 3 years",ru:"От 1 года до 3 лет"}},{_id:"between3And6",title:{en:"3 to 6 years",ru:"От 3 до 6 лет"}},{_id:"moreThan6",title:{en:"More than 6 years",ru:"Более 6 лет"}}]),get:function(t,e){if(t)return _.map($store.dictionary[t].get(),function(t){return{_id:t._id,title:t.title[e||$store.resume.get("lang")]}})},getTitleById:function(t,e,i){if(e&&t)return $store.dictionary[e].get({_id:t},"title",i||$store.resume.get("lang"))}},$store.education=_.extend(new Baobab([{_id:"higher",parent:"0",title:{en:"Higher",ru:"Высшее"}},{_id:"bachelor",parent:"higher",title:{en:"Bachelor",ru:"Бакалавр"}},{_id:"master",parent:"higher",title:{en:"Master",ru:"Магистр"}},{_id:"candidate",parent:"higher",title:{en:"Candidate of Sciences",ru:"Кандидат наук"}},{_id:"doctor",parent:"higher",title:{en:"Doctor of Sciences",ru:"Доктор наук"}},{_id:"unfinished_higher",parent:"0",title:{en:"Incomplete higher",ru:"Неоконченное высшее"}},{_id:"special_secondary",parent:"0",title:{en:"Vocational secondary",ru:"Среднее специальное"}},{_id:"secondary",parent:"0",title:{en:"Secondary",ru:"Среднее"}}]),{getItems:function(t){return _.map($store.education.get(),function(e){return{_id:e._id,parent:e.parent,title:e.title[t||$store.resume.get("lang")]}})},getTitleById:function(t,e){return $store.education.get({_id:t},"title",e||$store.resume.get("lang"))}}),$store.langs=_.extend(new Baobab([{_id:"ru",title:"Русский"},{_id:"en",title:"Английский"}]),{getTitleById:function(t){return _.findWhere($store.langs.get(),{_id:t}).title}}),$store.languages=_.extend(new Baobab([{_id:"native",title:{en:"Native language",ru:"Родной язык"}},{_id:"eng",title:{en:"English",ru:"Английский"}},{_id:"deu",title:{en:"German",ru:"Немецкий"}},{_id:"fra",title:{en:"French",ru:"Французский"}}]),{getItems:function(t){return _.map($store.languages.get(),function(e){return{_id:e._id,title:e.title[t||$store.resume.get("lang")]}})},getTitleById:function(t,e){return $store.languages.get({_id:t},"title",e||$store.resume.get("lang"))}}),$store.languages.select=_.extend(new Baobab([{_id:"not",title:{en:"No knowledge",ru:"Не владею"}},{_id:"basic",title:{en:"Basic knowledge",ru:"Базовые знания"}},{_id:"can_read",title:{en:"I read literature",ru:"Читаю литературу"}},{_id:"can_pass_interview",title:{en:"Can attend an interview",ru:"Могу проходить интервью"}},{_id:"fluent",title:{en:"I am a fluent speaker",ru:"Свободно владею"}}]),{getItems:function(){return _.map($store.languages.select.get(),function(t){return{_id:t._id,title:t.title[$store.resume.get("lang")]}})},getTitleById:function(t){return $store.languages.select.get({_id:t},"title",$store.resume.get("lang"))}}),$store.languages.native=_.extend(new Baobab([{_id:"ron",title:"Румынский"},{_id:"oss",title:"Осетинский"},{_id:"mns",title:"Мансийский"},{_id:"kbd",title:"Кабардино-черкесский"},{_id:"ita",title:"Итальянский"},{_id:"nld",title:"Голландский"},{_id:"ell",title:"Греческий"},{_id:"hrv",title:"Хорватский"},{_id:"nor",title:"Норвежский"},{_id:"fin",title:"Финский"},{_id:"eus",title:"Баскский"},{_id:"amh",title:"Амхарский"},{_id:"dag",title:"Дагестанский"},{_id:"fas",title:"Персидский"},{_id:"dan",title:"Датский"},{_id:"nog",title:"Ногайский"},{_id:"ces",title:"Чешский"},{_id:"mon",title:"Монгольский"},{_id:"dar",title:"Даргинский"},{_id:"vls",title:"Фламандский"},{_id:"hin",title:"Хинди"},{_id:"crs",title:"Креольский (Сейшельские острова)"},{_id:"hye",title:"Армянский"},{_id:"zlm",title:"Малазийский"},{_id:"pan",title:"Панджаби"},{_id:"bak",title:"Башкирский"},{_id:"aze",title:"Азербайджанский"},{_id:"ara",title:"Арабский"},{_id:"est",title:"Эстонский"},{_id:"abk",title:"Абхазский"},{_id:"kur",title:"Курдский"},{_id:"abq",title:"Абазинский"},{_id:"kum",title:"Кумыкский"},{_id:"nep",title:"Непальский"},{_id:"tur",title:"Турецкий"},{_id:"fra",title:"Французский"},{_id:"tuk",title:"Туркменский"},{_id:"rus",title:"Русский"},{_id:"lez",title:"Лезгинский"},{_id:"pus",title:"Пушту"},{_id:"tly",title:"Талышский"},{_id:"bos",title:"Боснийский"},{_id:"gle",title:"Ирландский"},{_id:"srp",title:"Сербский"},{_id:"krl",title:"Карельский"},{_id:"isl",title:"Исландский"},{_id:"krc",title:"Карачаево-балкарский"},{_id:"bod",title:"Тибетский"},{_id:"vie",title:"Вьетнамский"},{_id:"por",title:"Португальский"},{_id:"uzb",title:"Узбекский"},{_id:"chm",title:"Марийский"},{_id:"pol",title:"Польский"},{_id:"tgk",title:"Таджикский"},{_id:"tyv",title:"Тувинский"},{_id:"tgl",title:"Тагальский"},{_id:"mke",title:"Македонский"},{_id:"kom",title:"Коми"},{_id:"che",title:"Чеченский"},{_id:"swa",title:"Суахили"},{_id:"swe",title:"Шведский"},{_id:"ukr",title:"Украинский"},{_id:"heb",title:"Иврит"},{_id:"kor",title:"Корейский"},{_id:"chv",title:"Чувашский"},{_id:"hun",title:"Венгерский"},{_id:"bul",title:"Болгарский"},{_id:"bua",title:"Бурятский"},{_id:"udm",title:"Удмуртский"},{_id:"ben",title:"Бенгальский"},{_id:"bel",title:"Белорусский"},{_id:"slv",title:"Словенский"},{_id:"deu",title:"Немецкий"},{_id:"cat",title:"Каталанский"},{_id:"slk",title:"Словацкий"},{_id:"lbe",title:"Лакский"},{_id:"zho",title:"Китайский"},{_id:"tat",title:"Татарский"},{_id:"sah",title:"Якутский"},{_id:"san",title:"Санскрит"},{_id:"uig",title:"Уйгурский"},{_id:"jpn",title:"Японский"},{_id:"ind",title:"Индонезийский"},{_id:"inh",title:"Ингушский"},{_id:"khm",title:"Кхмерский (Камбоджийский)"},{_id:"tam",title:"Тамильский"},{_id:"mya",title:"Бирманский"},{_id:"spa",title:"Испанский"},{_id:"ava",title:"Аварский"},{_id:"som",title:"Сомалийский"},{_id:"eng",title:"Английский"},{_id:"lit",title:"Литовский"},{_id:"afr",title:"Африкаанс"},{_id:"lao",title:"Лаосский"},{_id:"kir",title:"Кыргызский"},{_id:"kas",title:"Кашмирский"},{_id:"sqi",title:"Албанский"},{_id:"kat",title:"Грузинский"},{_id:"lat",title:"Латинский"},{_id:"kaz",title:"Казахский"},{_id:"lav",title:"Латышский"},{_id:"urd",title:"Урду"},{_id:"epo",title:"Эсперанто"},{_id:"tha",title:"Тайский"}]),{getTitleById:function(t){return _.findWhere($store.languages.native.get(),{_id:t}).title}}),$store.resume=_.extend(new Baobab({},{autoCommit:!0}),{prepare:{demo:function(){return $store.demo&&$store.resume.set($store.demo),$store.resume.get()},import:function(t){if(t&&t.resume){var e=t.options||{},i=t.resume,n=t.account;return i.public=!!e.public,i.plan=e.plan||"free",i.template="7",i.commons.photo=e.photo||i.commons.photo,n&&(i.accountId=n._id,i.commons.name=n.commons.name,i.commons.surname=n.commons.surname,i.commons.contacts=n.commons.contacts,i.commons.birthday.hidden=n.commons.birthday.hidden),"premium"==i.plan?(i=$store.resume.prepare.premium(i),i.percent=$store.resume.percentage.calc("premium",i)):i.percent=$store.resume.percentage.calc("free",i),i}return t},premium:function(t,e){if(t){var i=_.deepExtend({appeal:null,works:null,skills:null,hobby:null,salary:{graph:{active:!1,items:["50000","50000","50000","50000","50000","50000"]}},coverletter:{text:null,color:"1"},likes:[],sections:[{name:"salary",title:"Желаемая зарплата",control:!0,active:!0},{name:"tags",title:"Ключевые навыки",control:!0,active:!0},{name:"appeal",title:"Заголовок-обращение",control:!0,active:!0},{name:"about",title:"О себе текст",control:!0,active:!0},{name:"social",title:"Аккаунты в соц. сетях",control:!0,active:!0},{name:"works",title:"Мои проекты",screen:!0,control:!0,active:!0},{name:"skills",title:"Основные компетенции",screen:!0,control:!0,active:!0},{name:"education",title:"Образование",screen:!0,control:!0,active:!0},{name:"courses",title:"Курсы",screen:!0,control:!0,active:!0},{name:"languages",title:"Владение языками",screen:!0,control:!0,active:!0},{name:"jobs",title:"Работа в компаниях",screen:!0,control:!0,active:!0},{name:"hobby",title:"Мои хобби",screen:!0,control:!0,active:!0},{name:"contacts",title:"Контакты",screen:!0,control:!1,active:!0},{name:"more",title:"Командировки",screen:!0,control:!1,active:!0},{name:"feedback",title:"Обратная связь",screen:!0,control:!1,active:!0},{name:"coverletter",title:"Сопроводительное письмо",screen:!0,control:!1,active:!1}],config:{color:"#0084ff",font:"futura",photo:{minWidth:440,maxHeight:620,noise:!1,filter:"off"},likes:{active:!0,count:!0},animate:!1}},t);if(e){if($store.resume.set(i),"demo"===e){var n=i.lang;if($store.resume.select("commons","name").set("ru"==n?"Ваше имя":"Your name"),$store.resume.select("commons","surname").set("ru"==n?"Фамилия":"Surname"),$store.resume.select("commons","birthday","hidden").set(!0),$store.resume.select("commons","contacts","email").set("ru"==n?"ваша@почта.ru":"your@gmail.com"),$store.resume.select("commons","contacts","phone").set({number:"ru"==n?"Мобильный телефон":"Mobile phone number"}),$store.resume.get("salary","active")||$store.resume.select("sections",{name:"salary"},"active").set(!1),$store.resume.select("percent").set($store.resume.percentage.calc("premium",$store.resume.get())),$store.resume.select("commons","contacts","skype").set("mySkype"),$store.resume.select("social").set({title:"ru"==n?"Укажите присутствие в социальных медиа":"Share links in social media",items:[{title:"fb",value:"http://facebook.com"},{title:"vk",value:"http://vk.com"},{title:"in",value:"http://instagram.com"},{title:"lk",value:"http://linkedin.com"}]}),$store.resume.select("config","photo","filter").set("auto"),$store.resume.get("salary","active")){var s=[],o=$store.resume.get("salary","amount");s.push(parseInt(.7*o)),s.push(parseInt(.8*o)),s.push(parseInt(.9*o)),s.push(parseInt(o)),s.push(parseInt(1.15*o)),s.push(parseInt(1.3*o)),$store.resume.select("salary","graph","active").set(!0),$store.resume.select("salary","graph","items").set(s)}$store.resume.select("education","text").set("ru"==n?"Расскажите подробней о своем образовании":"Write more about your education"),$store.resume.select("languages","text").set("ru"==n?"Возможно добавить больше информации о владении языков":"It is possible to add more about language proficiency"),$store.resume.select("jobs","text").set("ru"==n?"Расскажите подробней о своей карьерном пути":"Write more about your career path"),$store.resume.get("courses")&&$store.resume.select("courses","text").set("ru"==n?"Расскажите подробней о дополнительном образовании, возможно о полученнии сертификатов":"Write more about the additional education, possibly about obtaining certificates")}return $store.resume.get()}return i}return t}},default:{resume:function(t){return{accountId:t.ACCOUNT_ID||null,public:!0,plan:t.plan||"free",template:t.template||"7",lang:t.lang||"ru",post:null,create:moment().format(),update:moment().format(),commons:t.commons||null,salary:{amount:"50000",currency:"1",worktime:"1",active:!0},tags:null,about:null,social:null,education:null,courses:null,languages:null,jobs:null,percent:$store.resume.percentage.calc(t.plan||"free",{commons:t.commons})}}},percentage:{keys:{free:[{name:"post",points:3},{name:"commons.photo",points:5},{name:"commons.name",points:3},{name:"commons.surname",points:3},{name:"commons.citizenship",points:3},{name:"commons.contacts.city",points:3},{name:"commons.contacts.email",points:3},{name:"commons.contacts.phone.number",points:3},{name:"commons.contacts.skype",points:3},{name:"salary.active",points:5},{name:"about",points:10},{name:"jobs",items:5,points:25},{name:"education",items:2,points:10},{name:"courses",items:2,points:10},{name:"tags",points:10},{name:"languages",points:10}],premium:[{name:"post",points:3},{name:"commons.photo",points:5},{name:"commons.name",points:3},{name:"commons.surname",points:3},{name:"commons.citizenship",points:3},{name:"commons.contacts.city",points:3},{name:"commons.contacts.email",points:3},{name:"commons.contacts.phone.number",points:3},{name:"commons.contacts.skype",points:3},{name:"salary.graph.active",points:5},{name:"salary",section:!0,points:5},{name:"about",section:!0,points:5},{name:"appeal",section:!0,points:3},{name:"tags",section:!0,points:10},{name:"social",section:!0,points:5},{name:"works",section:!0,points:8},{name:"works.text",section:!0,points:2},{name:"jobs",section:!0,points:8},{name:"jobs.text",section:!0,points:2},{name:"skills",section:!0,points:6},{name:"skills.header",section:!0,points:2},{name:"skills.text",section:!0,points:2},{name:"education",section:!0,points:8},{name:"education.text",section:!0,points:2},{name:"courses",section:!0,points:8},{name:"courses.text",section:!0,points:2},{name:"languages",section:!0,points:8},{name:"languages.text",section:!0,points:2},{name:"hobby",section:!0,points:4},{name:"hobby.text",section:!0,points:1},{name:"coverletter.text",section:!0,points:5}]},calc:function(t,e,i){if(!e)return 0;var n=e._cursors?e:new Baobab(e),s=0;if("free"==t){var o=$store.resume.percentage.keys.free,r=_.reduce(_.pluck(o,"points"),function(t,e){return t+e},0);_.each(o,function(t){if(n.get(t.name.split(".")))if(t.items){
var e=n.get(t.name,"items");e&&e.length&&(s+=e.length>t.items?t.points:e.length*(t.points/t.items))}else s+=t.points})}else if("premium"==t){var o=$store.resume.percentage.keys.premium,r=_.reduce(_.pluck(o,"points"),function(t,e){return t+e},0);_.each(o,function(t){n.get(t.name.split("."))&&(t.section&&!t.name.match(/\./)?n.get("sections",{name:t.name},"active")&&(s+=t.points):s+=t.points)})}var a=Math.floor(s/r*100);return a=a>100?100:a,i?void i(a):a}},take:{color:function(t){var t=t||$store.resume.get();return t&&t.config&&t.config.color?t.config.color:"#0084ff"},citizenship:function(){return $store.country.getTitleById($store.resume.get("commons","citizenship"))},phone:function(){var t=$store.resume.get("commons","contacts","phone");return t&&t.number?(t.code?"+"+t.code+" ":"")+t.number:""},phoneLink:function(){var t=$store.resume.get("commons","contacts","phone");return t&&t.code&&t.number?"tel:+"+(t.code+""+t.number).replace(/[\s|\-|\(|\)]/g,""):""},relocation:function(){var t=$store.resume.get("lang"),e=$store.resume.get("commons","relocation"),i=$store.resume.get("commons","gender");return"ru"==t?"no_relocation"==e?"female"==i?"не готова к переезду":"не готов к переезду":"relocation_possible"==e?"female"==i?"готова к переезду":"готов к переезду":$store.dictionary.getTitleById(e,"relocation"):$store.dictionary.getTitleById(e,"relocation")},businessTrip:function(){return $store.dictionary.getTitleById($store.resume.get("commons","businessTrip"),"businessTrip")},birthday:{date:function(){var t=$store.resume.get("commons","birthday"),e=t.month<10?"0"+t.month:t.month,i=t.day<10?"0"+t.day:t.day;return moment(t.year+"-"+e+"-"+i).format("D MMMM YYYY")},age:function(){var t=$store.resume.get("lang"),e=$store.resume.get("commons","birthday"),i=e.month<10?"0"+e.month:e.month,n=e.day<10?"0"+e.day:e.day,s=moment().diff(moment(e.year+"-"+i+"-"+n),"years");return s+="1"==s?"ru"==t?" год":" year":s>1&&s<5?"ru"==t?" года":"year":"ru"==t?" лет":" year"}},salary:{amount:function(t){return _.numberFormat(t||$store.resume.get("salary","amount"),0,".",".")},currency:function(t){return $store.currency.getTitleById(t||$store.resume.get("salary","currency"))},worktime:function(t,e){return $store.worktime.getTitleById(t||$store.resume.get("salary","worktime"),e)}},education:{level:function(){return $store.education.getTitleById($store.resume.get("education","level"))},items:function(){return _.sortArray($store.resume.get("education","items"),"year","desc")}},courses:{items:function(){return _.sortArray($store.resume.get("courses","items"),"year","desc")}},jobs:{items:function(){return $store.resume.take.jobs.sort($store.resume.get("jobs","items"))},experience:function(t){if(t){if(_.isEmpty(t))return null;var e=(new Date).getDate();return _.reduce(t,function(t,i){var n=0;return n=i.last?moment().diff(i.from.year+"-"+(i.from.month<10?"0"+i.from.month:i.from.month)+"-"+(e<10?"0"+e:e),"month"):moment(i.to.year+"-"+(i.to.month<10?"0"+i.to.month:i.to.month)+"-"+(e<10?"0"+e:e)).diff(i.from.year+"-"+(i.from.month<10?"0"+i.from.month:i.from.month)+"-"+(e<10?"0"+e:e),"month"),t+(n>0?n:0)},0)}return $store.resume.take.jobs.calc({lang:$store.resume.get("lang"),months:$store.resume.get("jobs","experience"),short:!0})},period:function(t,e){var i=$store.resume.get("lang"),n=(new Date).getDate(),s=0,o=$store.month.getTitleById(t.from.month)+" "+t.from.year;if(t.last)var r="ru"==i?"по настоящее время":"Until Now",s=moment().diff(t.from.year+"-"+(t.from.month<10?"0"+t.from.month:t.from.month)+"-"+(n<10?"0"+n:n),"month");else{var r=$store.month.getTitleById(t.to.month)+" "+t.to.year;s=moment(t.to.year+"-"+(t.to.month<10?"0"+t.to.month:t.to.month)+"-"+(n<10?"0"+n:n)).diff(t.from.year+"-"+(t.from.month<10?"0"+t.from.month:t.from.month)+"-"+(n<10?"0"+n:n),"month")}return $store.resume.take.jobs.calc({lang:i,months:s>0?s:0,short:e,t:r,f:o})},calc:function(t){var t=t||{},e=t.lang,i=t.months&&parseInt(t.months),n=t.short,s=t.t,o=t.f,r=0;return i>0&&(r=Math.floor(i/12),"1"==r?r+="ru"==e?" год":" year":r>1&&r<5?r+="ru"==e?" года":" year":r<1?r="":r+="ru"==e?" лет":" years"),i&&(i-=12*Math.floor(i/12),i+="1"==i?"ru"==e?" месяц":" month":i>1&&i<5?"ru"==e?" месяца":" months":"ru"==e?" месяцев":" months"),r?n?r+(parseInt(i)>0?", "+i:""):o+" — "+s+" ("+r+(parseInt(i)>0?", "+i:"")+")":i?n?i:o+" — "+s+" ("+i+")":n?void 0:o+" — "+s},year:function(t){return t.last?(new Date).getFullYear():t.to.year},sort:function(t){return _.sortBy(t,function(t){return $store.resume.take.jobs.year(t)}).reverse()}},coverletter:{color:function(){return $store.coverletter.getColorById($store.resume.get("coverletter","color"))}}},isLargeAboutMe:function(){if(app.device.isPhone)return!1;var t=$store.resume.get("about");return!!(t&&t.length&&t.length>800)},placeholder:{name:"Александр Иванов",post:"Web-Designer, Art-director, Illustrator",salary:{amount:"125000",currency:"1",worktime:"1"},tags:["Adobe Photoshop","Ajax","Bootstrap","CSS3","Gulp","HTML5","JavaScript","jQuery","JSON","Less","MySQL"],appeal:"Award winning interdisciplinary Designer & Art director. Currently pursuing a perfect blend of style and function for a wide range of interactive product design.",about:"Your brand is how your customers see your business. It’s shaped by the way you represent yourself – professionally, socially and visually. It’s what makes you unique. It’s what makes you desirable. It’s shorthand for everything that brings your business together.",social:{title:function(){return $i18n("resume.premium.template.I am in social media")}},works:{title:function(){return $i18n("resume.premium.template.My projects")},shortname:{en:"Projects",ru:"Проекты"},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},skills:{title:function(){return $i18n("resume.premium.template.Main skills")},shortname:{en:"Skills",ru:"Навыки"},header:"We’re full service which means we’ve got you covered on design and content right through to digital.",text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa.",items:[{title:"Development",value:"90"},{title:"Design",value:"95"},{title:"Marketing",value:"79"},{title:"WordPress",value:"86"}]},education:{title:function(){return $i18n("resume.premium.template.Education")},shortname:{en:"Education",ru:"Учеба"},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa. Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},courses:{title:function(){return $i18n("resume.premium.template.Courses")},shortname:{en:"Courses",ru:"Курсы"},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa. Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},languages:{title:function(){return $i18n("resume.premium.template.Languages")},shortname:{en:"Langs",ru:"Языки"},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae.",items:[{title:"native",value:"4"},{title:"en",value:"2"},{title:"de",value:"1"},{title:"fr",value:"1"}],help:{text:"Здесь вы можете более подробно написать уровень владения языком и/или указать сертификаты и баллы за них."}},jobs:{title:function(){return $i18n("resume.premium.template.Experience")},shortname:{en:"Jobs",ru:"Карьера"},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},hobby:{title:function(){return $i18n("resume.premium.template.My hobby")},shortname:{en:"Hobby",ru:"Хобби"},text:"Vivamus eu neque ut sem malesuada consectetur sed sed felis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. ullam et eros ornare, porttitor urna sed, auctor lacus. Morbi viverra lorem at neque tincidunt consequat. Aenean massa."},contacts:{shortname:{en:"Contacts",ru:"Контакты"}}}}),$store.currency=_.extend(new Baobab([{_id:"1",title:"₽"},{_id:"2",title:"$"},{_id:"3",title:"€"}]),{getTitleById:function(t){return _.findWhere($store.currency.get(),{_id:t}).title}}),$store.worktime=_.extend(new Baobab([{_id:"1",title:{en:"full-time",ru:"full-time"}},{_id:"2",title:{en:"part-time",ru:"Частичная"}},{_id:"3",title:{en:"project work",ru:"Проектная"}}]),{getItems:function(t){return _.map($store.worktime.get(),function(e){return{_id:e._id,title:e.title[t||$store.resume.get("lang")]}})},getTitleById:function(t,e){return $store.worktime.get({_id:t},"title",e||$store.resume.get("lang"))}}),$store.visits=_.extend(new Baobab({}),{request:function(t,e){var e=e||{};return new Promise(function(i,n){app.request("getResumeVisits",t).then(function(t){if(t.visits&&!_.isEmpty(t.visits)){var n={visits:0,hits:0},s={labels:[],counts:[],hits:[]},o=_.getDates((new Date).addDays(e.table?-13:-20),new Date);_.each(o,function(i){var o=i.getDate(),r=i.getMonth()+1,a=i.getFullYear();o<10&&(o="0"+o),r<10&&(r="0"+r);var l=_.findWhere(t.visits,{_id:a+"-"+r+"-"+o});e.table&&!l&&(s.labels.push(moment(i).format("D MMMM YYYY")),s.counts.push(0),s.hits.push(0)),l&&(s.labels.push(moment(i).format(e.table?"D MMMM YYYY":"D MMM")),s.counts.push(l.counts),s.hits.push(l.hits),n.visits+=l.counts,n.hits+=l.hits)});var r={desktop:_.findWhere(t.devices,{_id:"desktop"}),tablet:_.findWhere(t.devices,{_id:"tablet"}),phone:_.findWhere(t.devices,{_id:"phone"})};return r.desktop=r.desktop?r.desktop.percentage:0,r.phone=r.phone?r.phone.percentage:0,r.tablet=r.tablet?r.tablet.percentage:0,i({all:n,visits:s,devices:r})}return i(null)},function(t){return n(t)})})}});