!function(e,t,i,s,n){e.define("plugins.animate"),e.plugins.animate=function(e,i){var s=this;this.groups=[],this.active=!1,this.options=i,this.scope=t(e),this.scope.find("*").each(function(){var e=this.getAttribute("class");if(e&&e.match(/anim-group/)){var t=e.match(/anim-group(\d+)/)[1],i=e.match(/anim-delay-(\w+)/),o=n.findWhere(s.groups,{num:t}),a={elem:this,delay:i&&i.length&&i[1]?s.delay.getNumByTitle(i[1]):"0"};o?o.items.push(a):s.groups.push({num:t,items:[a]})}})},e.plugins.animate.prototype={show:function(e){var t=this;this.groups.length&&(n.each(n.sortArray(this.groups,"num"),function(i,s){!function(){if(t.groups[s+1]){var o=null,a=null;t.options&&t.options.showAfter?(o=n.sortArray(i.items,"delay","asc"),a=o[t.options.showAfter-1].elem):(o=n.sortArray(i.items,"delay","desc"),a=o[0].elem),a&&n.onEndTransition(a,function(){t.scope.addClass("showAnim-group"+(1*i.num+1)),t.groups.length==1*i.num+1&&n.isFunction(e)&&e()})}}(i,s),0==s&&t.scope.addClass("showAnim-group"+i.num)}),this.active=!0)},hide:function(e){var t=this;if(this.groups.length){if(this.options&&this.options.hide&&"noanimate"==this.options.hide&&(this.scope.addClass("transitionAll-none"),setTimeout(function(){t.scope.removeClass("transitionAll-none")},50)),this.scope.removeClass(n.map(n.pluck(this.groups,"num"),function(e){return"showAnim-group"+e}).join(" ")),n.isFunction(e)){var i=n.sortArray(this.groups[0].items,"delay","desc")[0].elem;n.onEndTransition(i,function(){e()})}this.active=!1}},delay:{items:[{title:"xs",num:"1"},{title:"s",num:"2"},{title:"m",num:"3"},{title:"l",num:"4"},{title:"xl",num:"5"}],getNumByTitle:function(e){return n.findWhere(this.items,{title:e}).num}}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.chartRadial"),e.plugins.chartRadial=function(e,i){e&&(this.active=!1,this.scope=t(e),this.options=i,this.items=[],this.rendered=!1,this.init())},e.plugins.chartRadial.prototype={init:function(){if(!this.active){var i={animate:!e.device.isPhone,lineWidth:e.device.isPhone?16.5:24,colors:["#0084ff","#ff2d55","#ffc43a"],container:"chart__radial__graph",graphItem:"chart__radial__graph",labels:"chart__radial__labels",labelItem:"chart__radial__label",labelTitle:"chart__radial__label__title",labelColor:"chart__radial__label__color",labelDash:e.device.isPhone?"&nbsp; &ndash; &nbsp;":"&nbsp; &mdash; &nbsp;"};this.options&&n.extend(i,this.options),this.options=i,this.$graph=t('<div class="'+i.container+'">').appendTo(this.scope),this.$graphItem=t("<div>"),this.$graph.append(this.$graphItem,this.$graphItem.clone(),this.$graphItem.clone()),this.$graph.find("div").each(function(e,s){t(this).addClass(i.graphItem+(e+1))}),this.$labels=t('<div class="'+i.labels+'">').appendTo(this.scope),this.$labelItem=t('<div class="'+i.labelItem+'"><div class="'+i.labelColor+'"></div>'+i.labelDash+'<span class="'+i.labelTitle+'"></span></div>'),this.$labels.append(this.$labelItem,this.$labelItem.clone(),this.$labelItem.clone()),this.active=!0}},render:function(e){var i=this;!e||e&&e.length<3||(this.rendered?n.each(this.items,function(t,i){t.reset(),t.start(n.isNumber(e[i].value)?e[i].value:n.isNumber(e[i])?e[i]:0)}):(this.$graph.children("div").each(function(t,s){i.items.push(i.build(this,e[t].value,{color:i.options.colors[t],autostart:!0}))}),this.$labels.children("div").each(function(s){var n=t(this);n.find("."+i.options.labelColor).css("backgroundColor",i.options.colors[s]),n.find("."+i.options.labelTitle).text(e[s].title)}),this.rendered=!0))},build:function(e,t,i){function s(e){b||(g.percent=f?t:v,g.percent==e?a(g.percent):(b=!0,S.percent=e,TweenLite.to(g,x,S)))}function n(){a(g.percent)}function o(){b=!1}function a(e){var t=d/2;e=Math.max(e,.005),c.clearRect(0,0,d,d),c.beginPath(),c.globalAlpha=.2,c.arc(t,t,t-p/2,0,2*Math.PI),c.stroke(),c.beginPath(),c.arc(t,t,t-p/2,0-Math.PI/2,2*Math.PI*e/100-Math.PI/2),c.globalAlpha=1,c.stroke()}function r(){a(v)}var l=document.createElement("canvas"),c=l.getContext("2d"),d=e.offsetWidth,h=i||{},p=this.options.lineWidth,u=h.color||"#fff",f=!this.options.animate||!1,v=h.from||0,m=t,g={percent:v},b=!1,x=this.options.animate?2:0,S={ease:"easeInOutCubic",onUpdate:n,onComplete:o};return l.width=l.height=d,e.appendChild(l),c.lineWidth=p,c.lineCap="round",c.strokeStyle=u,f&&(h.autostart=!0),h.autostart?s(m):r(),{start:s,reset:r}},destroy:function(){this.scope.empty(),this.items=[],this.rendered=!1,this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.define"),e.plugins.define=function(e){this.__name__=e,window[e]={}},e.plugins.define.prototype={module:function(e,t){var i,s=e.split("."),n=window[this.__name__],o=s.length;for(i=0;i<o;i++)"undefined"==typeof n[s[i]]&&(n[s[i]]={}),o-1==i&&t&&(n[s[i]]=t),n=n[s[i]];return n}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.eventsEmitter"),e.plugins.eventsEmitter={init:function(e){n.extend(e,this.events)},events:{_events:{},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var i=this._events[e].indexOf(t);i>-1&&this._events[e].splice(i,1)}},trigger:function(e){if(this._events[e]){var t=0,i=this._events[e].length;if(i)for(;t<i;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},destroyEvents:function(){var e=this;n.each(this._events,function(t,i){delete e._events[i]})}}}}(app,$,app.$dom,app.events,app.utils),app.plugins.marqueeEffects=function(e){var t={},i=app.prefixed;return"static"==e?(t.show=function(e,t,s,n,o){e[0].style[i.transform]="translateY("+Math.round((o||0)+s-t*s)+"px) translateZ(0)"},t.hide=function(e,t,s,n,o){e[0].style[i.transform]="translateY("+Math.round((o||0)+-(n-1)*s-t*s)+"px) translateZ(0)"},t.move=function(e,t,s){e[0].style[i.transform]="translateY("+Math.round(-t*s)+"px) translateZ(0)"}):(t.light={},t.light.show=function(e,t,s,n){e[0].style.opacity=1,e[0].style[i.transform]="translateY("+Math.round(s-t*s)+"px) translateZ(0)",0==t&&(e[0].style[i.transform]="translateY(110%)")},t.light.hide=function(e,t,s,n){e[0].style.opacity=(1-.4*t).toFixed(3),e[0].style[i.transform]="translateY("+Math.round(-(n-1)*s-t*s*.5)+"px) translateZ(0)",1==t&&(e[0].style[i.transform]="translateY(-110%)"),0==t&&(e[0].style[i.transform]="translateY("+Math.round(-(n-1)*s)+"px) translateZ(0)")},t.light.move=function(e,t,s){e[0].style.opacity=1,e[0].style[i.transform]="translateY("+Math.round(-t*s)+"px) translateZ(0)"},t.space={},t.space.show=function(e,t){e[0].style.opacity=.33+.67*t;var s="";0==t?s="translate3d(110%, 0, 0)":app.device.isPhone?s="perspective(500px) translate3d("+(-8+8*t)+"%, 0, 0) rotateY("+(-6+6*t)+"deg) scale("+(.8+.2*t)+")":(s="perspective(500px) translate3d("+(-4+4*t)+"%, 0, 0) scale("+(.9+.1*t)+")",app.device.isFirefox||(s=s+"rotateY("+(-4+4*t)+"deg)")),e[0].style[i.transform]=s},t.space.hide=function(e,t){e[0].style.opacity=1,e[0].style[i.transform]="translate3d("+-100*t+"%, 0, 0)",1==t&&(e[0].style[i.transform]="translate3d(-110%, 0, 0)")},t.fold={},t.fold.show=function(e,t){e[0].style.opacity=1,e[0].style[i.transform]="translateY("+(100-100*t)+"%)"},t.fold.hide=function(e,t){e[0].style.opacity=1-.67*t,e[0].style[i.transform]="perspective(500px) translateY("+4*t+"%) rotateX("+3*-t+"deg) scale("+(1-.05*t)+")",1==t&&(e[0].style[i.transform]="translateY(-101%)")}),t},app.plugins.marquee=function(e,t){var i=e.find(t.screens),s=$('<div class="'+t.spaceClass+'" />').prependTo(e),n=[],o=app.plugins.marqueeEffects()[t.effect],a=(e.data("name"),{index:0,prevIndex:0,progress:0,size:0,scrolling:!1,enabled:!0,section:null,_events:{},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var i=this._events[e].indexOf(t);i>-1&&this._events[e].splice(i,1)}},_execEvent:function(e){if(this._events[e]){var t=0,i=this._events[e].length;if(i)for(;t<i;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}}});i.each(function(e){var i=$(this),o=i.api("screen");o.state={isVisible:!1,isEndShow:!1,isStartShow:!1,isFullShow:!1,isFullHide:!0};var a={index:e,title:i[0].getAttribute("data-"+(t.dataAttr?t.dataAttr:"marquee")),block:i,fake:$('<div class="'+t.spaceClass+'__screen" />'),api:o,ratio:1,enable:!0};n.push(a),s.append(a.fake)});var r=function(){var e=0;a.size=t.vertical?app.sizes.height:app.sizes.width,$.each(n,function(i,s){if(t.vertical){var n=Math.max(s.block.outerHeight(),s.block.find(t.contentClass?"."+t.contentClass:".screen__frame").outerHeight());n>a.size?(s.block.addClass(t.longClass?t.longClass:"screen__long"),s.size=n):(s.block.removeClass(t.longClass?t.longClass:"screen__long"),s.size=app.sizes.height),s.fake.width(app.sizes.width),s.fake.height(s.size),i>0&&t.hideSections&&s.block.css("display","none")}else s.size=app.sizes.width,s.fake.width(s.size),s.fake.height(app.sizes.height);s.offset=e,s.ratio=s.size/a.size,e+=s.size})};r();var l=new IScroll(e[0],{marquee:!0,disableMouse:!1,mouseWheel:t.mousewheel,scrollX:!t.vertical,scrollY:t.vertical,bounce:!0,snap:"."+t.spaceClass+"__screen",eventPassthrough:!t.vertical||"horizontal",probeType:3,snapSpeed:t.duration,preventDefault:!0,scrollbars:!!t.vertical&&"custom",interactiveScrollbars:t.vertical&&!app.device.support.touch,fake:!0});a.setLimits=function(e){e=Math.min(Math.max(0,e),n.length-1);var i=e>=n.length-1,s=0==e;l[t.vertical?"minScrollY":"minScrollX"]=-n[e].offset+(s?0:n[e-1].size),l[t.vertical?"maxScrollY":"maxScrollX"]=-n[e].offset-(i?n[e].size-a.size:n[e].size),l.currentPage={x:0,y:0,pageX:0,pageY:0},l.currentPage[t.vertical?"y":"x"]=-n[e].offset,l.currentPage[t.vertical?"pageY":"pageX"]=e},a.update=function(){for(var e=-Math.round(l[t.vertical?"y":"x"]),i=0,s=0;s<n.length;s++)e>=n[s].offset&&(i=s);a.position=(e-n[i].offset)/n[i].size,a.progress=i+a.position,a.index!=i&&(a.prevIndex=a.index,a.index=i)},a.hideInvisibles=function(){for(var e=0;e<n.length;e++)e!=a.index&&e!=a.index+1&&(e>a.index+1&&o.show(n[e].block,0,a.size,n[e].ratio),e<a.index&&o.hide(n[e].block,1,a.size,n[e].ratio),t.hideSections&&(n[e].block[0].style.display="none"))},a.callScreensAPI=function(){var e=a.index>=n.length-1,i=1/n[a.index].ratio,s={top:0,bottom:0};if(s.top=a.position/i,s.bottom=a.position*n[a.index].ratio-(n[a.index].ratio-1),s.bottom>.6?(n[a.index].api.state.isVisible&&(n[a.index].api.state.isVisible=!1,n[a.index].block.triggerHandler("hide")),e||n[a.index+1].api.state.isVisible||(n[a.index+1].api.state.isVisible=!0,n[a.index+1].block.triggerHandler("show"))):s.top>.4&&(n[a.index]&&!n[a.index].api.state.isVisible&&(n[a.index].api.state.isVisible=!0,n[a.index].block.triggerHandler("show")),!e&&n[a.index+1].api.state.isVisible&&(n[a.index+1].api.state.isVisible=!1,n[a.index+1].block.triggerHandler("hide"))),e||(s.bottom>.1&&!n[a.index+1].api.state.isStartShow?(n[a.index+1].api.state.isStartShow=!0,n[a.index+1].block.triggerHandler("startShow")):s.bottom<.1&&n[a.index+1].api.state.isStartShow&&(n[a.index+1].api.state.isStartShow=!1),s.bottom>.9&&!n[a.index+1].api.state.isEndShow?(n[a.index+1].api.state.isEndShow=!0,n[a.index+1].block.triggerHandler("endShow")):s.bottom<.9&&n[a.index+1].api.state.isEndShow&&(n[a.index+1].api.state.isEndShow=!1)),n[a.index]&&s.bottom<.9&&!n[a.index].api.state.isEndShow?(n[a.index].api.state.isEndShow=!0,n[a.index].block.triggerHandler("endShow")):n[a.index]&&s.bottom>.9&&n[a.index].api.state.isEndShow&&(n[a.index].api.state.isEndShow=!1),n[a.index]&&s.bottom<.1&&!n[a.index].api.state.isStartShow?(n[a.index].api.state.isStartShow=!0,n[a.index].block.triggerHandler("startShow")):n[a.index]&&s.bottom>.1&&n[a.index].api.state.isStartShow&&(n[a.index].api.state.isStartShow=!1),n[a.index]&&s.top>=0&&s.bottom<=0){n[a.index].api.state.isFullShow||(n[a.index].api.state.isFullShow=!0,n[a.index].block.triggerHandler("fullShow"));for(var o=0;o<n.length;o++)o!=a.index&&(n[o].api.state.isFullShow=!1)}else for(var o=0;o<n.length;o++)n[o].api.state.isFullShow=!1;for(var r=[Math.floor(a.progress),Math.ceil(a.progress)],o=0;o<n.length;o++)o==r[0]||o==r[1]?(n[o].api.state.isFullHide=!1,t.hideSections&&(n[o].block[0].style.display="block"),a.section=n[o].block[0].getAttribute("data-"+(t.dataAttr?t.dataAttr:"marquee")),t.activeClass&&n[o].block.addClass(t.activeClass)):n[o].api.state.isFullHide||(t.hideSections&&(n[o].block[0].style.display="none"),n[o].block.triggerHandler("fullHide"),n[o].api.state.isFullHide=!0,t.activeClass&&n[o].block.removeClass(t.activeClass))},a.markNav=function(){t.navPrev&&t.navPrev[a.progress<=.5?"addClass":"removeClass"]("i-disabled"),t.navNext&&t.navNext[a.progress>=n.length-1.5?"addClass":"removeClass"]("i-disabled")},a.draw=function(){if(!o.move||n[a.index].ratio*a.position>=n[a.index].ratio-1){var e=1-Math.abs(n[a.index].ratio*a.position-n[a.index].ratio);a.index>=0&&o.hide(n[a.index].block,e,a.size,n[a.index].ratio),a.index<n.length-1&&o.show(n[a.index+1].block,e,a.size,n[a.index+1].ratio),0!==e&&1!==e||a._execEvent("change")}else a.index>=0&&o.move(n[a.index].block,n[a.index].ratio*a.position,a.size,n[a.index].ratio),a.index<n.length-1&&o.show(n[a.index+1].block,0,a.size,n[a.index+1].ratio);a.hideInvisibles(),a.markNav()},a.onScrollStart=function(){a.scrolling=!0},a.onScroll=function(){if(index=0,a.update(),a.draw(),a.callScreensAPI(),l.moved){for(var e=l[t.vertical?"y":"x"]-l[t.vertical?"pointY":"pointX"],i=0;i<n.length;i++)e<=-n[i].offset&&e>=-n[i].offset-n[i].size&&(index=i);a.setLimits(index)}else if(l.indicators&&l.indicators[0].moved){for(var i=0;i<n.length;i++)l[t.vertical?"y":"x"]-a.size/2<=-n[i].offset&&l[t.vertical?"y":"x"]+a.size/2>=-n[i].offset-n[i].size&&(index=i);a.setLimits(index)}},a.grabTimer=!1;var c=function(){clearTimeout(a.grabTimer),a.scrolling||(a.scrolling=!0)},d=function(){a&&clearTimeout(a.grabTimer),a&&a.scrolling&&(a.scrolling=!1)};if(l.on("beforeWheelSnap",function(){index=0;for(var e=0;e<n.length;e++)l[t.vertical?"y":"x"]-a.size/2<=-n[e].offset&&l[t.vertical?"y":"x"]+a.size/2>=-n[e].offset-n[e].size&&(index=e);l.absStartX=t.vertical?0:-n[index].offset,l.absStartY=-t.vertical?-n[index].offset:0,a.setLimits(index)}),a.onScrollEnd=function(){a.refresh()},a.refresh=function(){a.update(),a.draw(),a.callScreensAPI(),a.setLimits(a.index)},a.resize=function(){if(!a)return!1;r();var e=l.y;l.refresh(),e!==l.y&&l.scrollBy(0,e-l.y,0),a.refresh()},a.enable=function(){a.enabled=!0,l.enable(),a.enableKeyboard()},a.disable=function(){a.enabled=!1,l.disable(),a.disableKeyboard()},l.on("scrollStart",function(){return!!a&&void a.onScrollStart()}),l.on("scroll",function(){return!!a&&(a.onScroll(),void(l.moved&&c()))}),l.on("scrollEnd",function(){return!!a&&(a.onScrollEnd(),void d())}),l.on("grab",function(){if(!a)return!1;c(),a.grabTimer=setTimeout(function(){l&&l.reset(),d()},500);for(var e=0,i=l[t.vertical?"y":"x"]-l[t.vertical?"pointY":"pointX"],s=0;s<n.length;s++)i<=-n[s].offset&&i>=-n[s].offset-n[s].size&&(e=s);a.setLimits(e)}),app.device.isMobile||app.$dom.window.on("resize",a.resize),a.setLimits(0),a.scrollTo=function(e,i){i=void 0===i&&0!==i?550:i,t.hideSections&&(n[e].block[0].style.display="block"),setTimeout(function(){l.goToPage(t.vertical?0:e,t.vertical?e:0,i,IScroll.utils.ease.cubicOut),0==i&&a.refresh()},5)},a.prev=function(e){if(a.scrolling)return!1;e=void 0===e?t.duration:e;var i=-l.y-n[a.index].offset;t.vertical&&i?l.scrollBy(0,Math.min(i,a.size),e,IScroll.utils.ease.cubicOut):t.vertical&&l.y<=-a.size?l.scrollBy(0,a.size,e,IScroll.utils.ease.cubicOut):a.index>0&&l.prev(e,IScroll.utils.ease.cubicOut)},a.next=function(e){if(a.scrolling)return!1;e=void 0===e?t.duration:e;var i=n[a.index].offset+n[a.index].size-(-l.y+a.size);i>.1*a.size&&t.vertical?l.scrollBy(0,-Math.min(i,a.size),e,IScroll.utils.ease.cubicOut):a.index<n.length-1&&l.next(e,IScroll.utils.ease.cubicOut)},a.get=function(e){return a[e]},a.hideScreen=function(e){t.controlInvisible&&u[e].enable&&(u[e].enable=!1,u[e].block.css("display","none"),u[e].fake.remove(),a.callScreensVisible(),a.resize())},a.showScreen=function(e){t.controlInvisible&&!u[e].enable&&(u[e].enable=!0,u[e].fake=$('<div class="'+t.spaceClass+'__screen" />'),s.find("."+t.spaceClass+"__screen:eq("+(e-1)+")").after(u[e].fake),a.callScreensVisible(),a.resize())},a.callScreensVisible=function(){for(var e=[],t=0,i=0;i<u.length;i++)u[i].enable&&(e.push(u[i]),e[t].index=t,t++);e.length!==n.length&&(n=e)},a.destroy=function(){e.find("."+t.spaceClass).remove(),e.removeData("marquee"),l.destroy(),l=null,a=null},t.vertical){var h=e.find(".iScrollVerticalScrollbar");h.addClass("ui-scroll").prepend('<div class="ui-scroll__bar" />'),h.find(".iScrollIndicator").addClass("ui-scroll__handle").prepend('<div class="ui-scroll__handle__inner" />')}t.navPrev&&t.navPrev.on("click",function(){a.prev(app.device.isPhone?500:700)}),t.navNext&&t.navNext.on("click",function(){a.next(app.device.isPhone?500:700)});var p="keydown.marquee-"+String(Math.round((new Date).getTime()/1e3))+(t.vertical?"v":"h");if(a.enableKeyboard=function(){app.device.support.touch||app.$dom.document.on(p,function(e){$(e.target).is("input,textarea,select")||(e.which==(t.vertical?38:37)&&a.prev(app.device.isPhone?500:700),e.which==(t.vertical?40:39)&&a.next(app.device.isPhone?500:700))})},a.disableKeyboard=function(){app.device.support.touch||app.$dom.document.off(p)},a.scroll=l,t.controlInvisible)for(var u=[],f=0;f<n.length;f++)u.push(n[f]);return e.data("marquee",{screens:n,onScrollStart:$.noop,onScrollEnd:$.noop,scrollTo:a.scrollTo,get:a.get,scroll:l,update:a.onScroll,resize:a.resize,enable:a.enable,disable:a.disable,destroy:a.destroy,enableKeyboard:a.enableKeyboard,disableKeyboard:a.disableKeyboard}),a},app.plugins.marqueeStatic=function(e,t){var i={index:0,vertical:!0,screens:".screen",mousewheel:!0,duration:550,prev:!1,next:!1},s=e.find(i.screens),n=[],o=app.plugins.marqueeEffects("static"),a=e.data("fixed"),r=e.data("name"),l={$block:e,index:0,prevIndex:0,progress:0,size:0,scrolling:!1,enabled:!0,duration:i.duration};s.each(function(e){var t=$(this),s=t.api("screen");s.state={isVisible:!1,isEndShow:!1,isStartShow:!1,isFullShow:!1,isFullHide:i.index!=e};var o={index:e,$block:t,api:s,ratio:1};n.push(o),e&&i.nextClass&&t.addClass(i.nextClass)});var c=function(){var e=0;l.size=i.vertical?app.sizes.height:app.sizes.width,$.each(n,function(t,s){if(i.vertical){s.$block.removeClass("screen__long").height(l.size);var n=s.$block.find(".screen__content"),o=n.length?Math.max(l.size,n.length?n.outerHeight():0):0;!a&&o>l.size?(s.$block.addClass("screen__long"),s.size=o,s.$block.height(o)):s.size=l.size}else s.size=app.sizes.width;s.offset=e,s.ratio=s.size/l.size,e+=s.size})};c();var d=new IScrollStatic(e[0],{disableMouse:!0,mouseWheel:i.mousewheel,invertWheelDirection:!0,scrollX:!i.vertical,scrollY:i.vertical,bounce:!0,snap:".screen",eventPassthrough:!i.vertical||"horizontal",probeType:3,tap:!1,click:!1,snapSpeed:350,preventDefault:!0,scrollbars:!!i.vertical&&"custom",interactiveScrollbars:i.vertical&&!app.device.support.touch,prevTrigger:i.prev,nextTrigger:i.next});d.disable(),l.updateState=function(){d.scrollerHeight>d.wrapperHeight?l.enable():l.disable()},l.setLimits=function(e){e=Math.min(Math.max(0,e),n.length-1);var t=e>=n.length-1,s=0==e;d[i.vertical?"minScrollY":"minScrollX"]=-n[e].offset+(s?0:n[e-1].size),d[i.vertical?"maxScrollY":"maxScrollX"]=-n[e].offset-(t?n[e].size-l.size:n[e].size),d.currentPage={x:0,y:0,pageX:0,pageY:0},d.currentPage[i.vertical?"y":"x"]=-n[e].offset,d.currentPage[i.vertical?"pageY":"pageX"]=e},l.update=function(){for(var e=-Math.round(d[i.vertical?"y":"x"]),t=0,s=0;s<n.length;s++)e>=n[s].offset&&(t=s);l.position=(e-n[t].offset)/n[t].size,l.progress=t+l.position,l.index!=t&&(l.prevIndex=l.index,l.index=t)},l.hideInvisibles=function(){},l.callScreensAPI=function(){var e=l.index>=n.length-1,t=1/n[l.index].ratio,i={top:0,bottom:0};if(i.top=l.position/t,i.bottom=l.position*n[l.index].ratio-(n[l.index].ratio-1),app.device.isMobile&&(i.bottom>.6?(n[l.index].api.state.isVisible&&(n[l.index].api.state.isVisible=!1,n[l.index].$block.triggerHandler("hide")),e||n[l.index+1].api.state.isVisible||(n[l.index+1].api.state.isVisible=!0,n[l.index+1].$block.triggerHandler("show"))):i.top>.4&&(n[l.index]&&!n[l.index].api.state.isVisible&&(n[l.index].api.state.isVisible=!0,n[l.index].$block.triggerHandler("show")),!e&&n[l.index+1].api.state.isVisible&&(n[l.index+1].api.state.isVisible=!1,n[l.index+1].$block.triggerHandler("hide"))),e||(i.bottom>.1&&!n[l.index+1].api.state.isStartShow?(n[l.index+1].api.state.isStartShow=!0,n[l.index+1].$block.triggerHandler("startShow")):i.bottom<.1&&n[l.index+1].api.state.isStartShow&&(n[l.index+1].api.state.isStartShow=!1),i.bottom>.9&&!n[l.index+1].api.state.isEndShow?(n[l.index+1].api.state.isEndShow=!0,n[l.index+1].$block.triggerHandler("endShow")):i.bottom<.9&&n[l.index+1].api.state.isEndShow&&(n[l.index+1].api.state.isEndShow=!1)),n[l.index]&&i.bottom<.9&&!n[l.index].api.state.isEndShow?(n[l.index].api.state.isEndShow=!0,n[l.index].$block.triggerHandler("endShow")):n[l.index]&&i.bottom>.9&&n[l.index].api.state.isEndShow&&(n[l.index].api.state.isEndShow=!1),n[l.index]&&i.bottom<.1&&!n[l.index].api.state.isStartShow?(n[l.index].api.state.isStartShow=!0,n[l.index].$block.triggerHandler("startShow")):n[l.index]&&i.bottom>.1&&n[l.index].api.state.isStartShow&&(n[l.index].api.state.isStartShow=!1)),n[l.index]&&i.top>=0&&i.bottom<=0){n[l.index].api.state.isFullShow||(n[l.index].api.state.isFullShow=!0,app.device.isMobile||n[l.index].$block.triggerHandler("show"),n[l.index].$block.triggerHandler("fullShow"));for(var s=0;s<n.length;s++)s!=l.index&&n[s].api.state.isFullShow&&(n[s].api.state.isFullShow=!1)}else for(var s=0;s<n.length;s++)n[s].api.state.isFullShow&&(n[s].api.state.isFullShow=!1);var o=[Math.floor(l.progress),Math.ceil(l.progress)];if(l.animated)return!1;for(var s=0;s<n.length;s++)s==o[0]||s==o[1]?n[s].api.state.isFullHide=!1:n[s].api.state.isFullHide||(app.device.isMobile||n[l.index].$block.triggerHandler("hide"),n[s].$block.triggerHandler("fullHide"),n[s].api.state.isFullHide=!0)},l.markNav=function(){i.navPrev&&i.navPrev[l.progress<=.5?"addClass":"removeClass"]("i-disabled"),i.navNext&&i.navNext[l.progress>=n.length-1.5?"addClass":"removeClass"]("i-disabled")},l.draw=function(){if(l.animated)return!1;if(!o.move||n[l.index].ratio*l.position>=n[l.index].ratio-1){var e=1-Math.abs(n[l.index].ratio*l.position-n[l.index].ratio);l.index>=0&&o.hide(n[l.index].$block,e,l.size,n[l.index].ratio),l.index<n.length-1&&o.show(n[l.index+1].$block,e,l.size,n[l.index+1].ratio)}else l.index>=0&&o.move(n[l.index].$block,n[l.index].ratio*l.position,l.size,n[l.index].ratio),l.index<n.length-1&&o.show(n[l.index+1].$block,0,l.size,n[l.index+1].ratio);l.hideInvisibles(),l.markNav()},l.onScrollStart=function(){l.scrolling=!0},l.onScroll=function(){if(index=0,l.update(),app.device.isMobile&&l.callScreensAPI(),d.moved){for(var e=d[i.vertical?"y":"x"]-d[i.vertical?"pointY":"pointX"],t=0;t<n.length;t++)e<=-n[t].offset&&e>=-n[t].offset-n[t].size&&(index=t);l.setLimits(index)}else if(d.indicators&&d.indicators[0].moved){for(var t=0;t<n.length;t++)d[i.vertical?"y":"x"]-l.size/2<=-n[t].offset&&d[i.vertical?"y":"x"]+l.size/2>=-n[t].offset-n[t].size&&(index=t);l.setLimits(index)}},l.grabTimer=!1;var h=function(){clearTimeout(l.grabTimer),l.scrolling||(l.scrolling=!0)},p=function(){l&&clearTimeout(l.grabTimer),l&&l.scrolling&&(l.scrolling=!1)};if(d.on("beforeWheelSnap",function(){index=0;for(var e=0;e<n.length;e++)d[i.vertical?"y":"x"]-l.size/2<=-n[e].offset&&d[i.vertical?"y":"x"]+l.size/2>=-n[e].offset-n[e].size&&(index=e);d.absStartX=i.vertical?0:-n[index].offset,d.absStartY=-i.vertical?-n[index].offset:0,l.setLimits(index)}),l.onScrollEnd=function(){l.onScroll(),app.utils.raf(l.refresh)},l.refresh=function(){l.update(),l.callScreensAPI(),l.setLimits(l.index)},l.resize=function(){if(!l)return!1;c(),l.enabled&&n[l.index].$block.triggerHandler("endShow");var e=d.y;d.refresh(),e!==d.y&&d.scrollBy(0,e-d.y,0),l.refresh(),l.updateState()},l.enable=function(){l.enabled=!0,d.enable(),l.enableKeyboard(),e.on("dragstart.marquee",function(){return!1})},l.disable=function(){l.enabled=!1,d.disable(),l.disableKeyboard(),e.off("dragstart.marquee")},d.on("scrollStart",function(){return!!l&&void l.onScrollStart()}),d.on("scroll",function(){return!!l&&(l.onScroll(),void(d.moved&&h()))}),d.on("scrollEnd",function(){return!!l&&(l.onScrollEnd(),void p())}),d.on("grab",function(){if(!l)return!1;h(),l.grabTimer=setTimeout(function(){d&&d.reset(),p()},500);for(var e=0,t=d[i.vertical?"y":"x"]-d[i.vertical?"pointY":"pointX"],s=0;s<n.length;s++)t<=-n[s].offset&&t>=-n[s].offset-n[s].size&&(e=s);l.setLimits(e)}),d.on("animate",function(){n[l.index].$block.triggerHandler("leave")}),app.device.isMobile||app.$dom.window.on("resize",l.resize),l.setLimits(0),l.scrollTo=function(e,t){t=void 0===t?i.duration:t,d.goToPage(i.vertical?0:e,i.vertical?e:0,t,IScrollStatic.utils.ease.cubicOut),0==t&&l.refresh()},l.prev=function(e){if(l.scrolling)return!1;e=void 0===e?i.duration:e;var t=-d.y-n[l.index].offset;i.vertical&&t?d.scrollBy(0,Math.min(t,l.size),e,IScrollStatic.utils.ease.cubicOut):i.vertical&&d.y<=-l.size?d.scrollBy(0,l.size,e,IScrollStatic.utils.ease.cubicOut):l.index>0&&d.prev(e,IScrollStatic.utils.ease.cubicOut)},l.next=function(e){if(l.scrolling)return!1;e=void 0===e?i.duration:e;var t=n[l.index].offset+n[l.index].size-(-d.y+l.size);t>.1*l.size&&i.vertical?d.scrollBy(0,-Math.min(t,l.size),e,IScrollStatic.utils.ease.cubicOut):l.index<n.length-1&&d.next(e,IScrollStatic.utils.ease.cubicOut)},l.get=function(e){return l[e]},l.destroy=function(){l.disable(),n[l.index].$block.triggerHandler("fullHide"),e.removeData("marquee"),d.destroy(),e=null,d=null,l=null},i.vertical){var u=e.find(".iScrollVerticalScrollbar");u.addClass("ui-scroll").prepend('<div class="ui-scroll__bar" />'),u.find(".iScrollIndicator").addClass("ui-scroll__handle").prepend('<div class="ui-scroll__handle__inner" />')}i.navPrev&&i.navPrev.on("click",function(){l.prev()}),i.navNext&&i.navNext.on("click",function(){l.next()});var f="keydown.marquee-"+(r?r:"")+(i.vertical?"v":"h");return l.enableKeyboard=function(){app.device.support.touch||app.$dom.document.on(f,function(e){$(e.target).is("input,textarea,select")||(e.which==(i.vertical?38:37)&&l.prev(),e.which==(i.vertical?40:39)&&l.next())})},l.disableKeyboard=function(){app.device.support.touch||app.$dom.document.off(f)},l.activate=function(){var t=n[l.index].$block;e.triggerHandler("init",{marquee:l}),t.triggerHandler("show"),t.triggerHandler("fullShow"),l.updateState(),i.index&&(l.scrollTo("last"==i.index?n.length-1:i.index,0),d._execEvent("scrollEnd"),i.index=!1)},l.scroll=d,l.screens=n,e.data("marquee",{screens:n,scrollTo:l.scrollTo,get:l.get,scroll:d,updateState:l.updateState,update:l.onScroll,resize:l.resize,activate:l.activate,enable:l.enable,disable:l.disable,destroy:l.destroy,enableKeyboard:l.enableKeyboard,disableKeyboard:l.disableKeyboard}),l},function(e,t,i,s,n){e.define("plugins.metrika"),e.plugins.metrika=function(e){e&&(this.state=e.data,this.previousState=e.previousData,this.visits=e.visits,this.key=e.key,this.report=e.report,this.init())},e.plugins.metrika.prototype={init:function(){if(!this.active){var t=this,i=this.state,s=this.key,o=Store.get(s),a=this.previousState?this.previousState.date:null,r=o&&o.ver||this.previousState&&this.previousState.ver;r&&r!=i.ver?Store.set(s,{ver:i.ver}):o&&!a?n.deepExtend(i,o):a&&(o=window.moment&&o&&o.date?moment(a).diff(moment(o.date))>0?this.previousState:o:this.previousState,n.deepExtend(i,o)),i.visits=this.visits?this.visits:1,i.device=e.device&&e.device.get?e.device.get():null,this.state=new Baobab(i,{autoCommit:!0}),this.state.on("write",function(e){Store.set(s,t.state.get())}),Store.set(s,this.state.get()),this.report&&this.logger(),this.active=!0}},set:function(e,t,i){if(e&&this.active){if(i||(i={}),"inc"==i.action){var s=this.state.get(e.split("."))+t;this.state.select(e.split(".")).set(s)}else if("dec"==i.action){var s=this.state.get(e.split("."))-t;this.state.select(e.split(".")).set(s)}else this.state.select(e.split(".")).set(t);i.force&&this.logger.request()}},get:function(e){if(e&&this.active)return this.state.get(e.split("."))},logger:function(){var t=this,i=this.report.method,s=this.report.interval;this.logger.request=function(){var s=t.state.get(),n=JSON.stringify(s);t.lastState!=n&&(t.lastState=n,e.request(i,s,{loader:!1,notify:!1}))},i&&s&&(this.lastState=JSON.stringify(this.state.get()),setInterval(function(){t.logger.request()},1e3*s))}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.screens"),e.define("plugins.marquee.effects"),e.plugins.screens=function(e,i){this.active=!1,this.scope=t(e),this.options=i||{},this.state=null},e.plugins.screens.prototype={init:function(t){var i=this;if(!this.active){this.scope.on("touchmove MSPointerMove",function(e){e.preventDefault()}),this.scope.on("dragstart selectstart",function(){return!1});var s={vertical:!0,screens:".screen",effect:this.options.vertical===!1?"space":"light",mousewheel:this.options.vertical!==!1,spaceClass:this.options.vertical===!1?"horizontal__space":"vertical__space",longClass:this.options.vertical!==!1&&"screen--long",contentClass:this.options.vertical!==!1&&"screen__content",hideSections:!0,navPrev:this.options.navPrev,navNext:this.options.navNext,duration:this.options.vertical===!1?e.device.isPhone?375:450:500};this.options&&n.extend(s,this.options),this.options=s,this.items=[];var o=100;this.scope.find(s.screens).each(function(e){i.items.push({index:e,title:this.getAttribute("data-"+(s.dataAttr?s.dataAttr:"marquee"))}),s.vertical||(this.style.zIndex=o),o--}),this.marquee=s.static?e.plugins.marqueeStatic(this.scope,s):e.plugins.marquee(this.scope,s),this.marquee.enable(),this.marquee.scroll.on("scrollEnd",function(){i.state=i.marquee.section}),void 0!==t&&this.nav(t,0),e.device.isMobile&&this.embeds(),this.active=!0}},nav:function(e,t){if(n.isNumber(e))e>this.items.length-1&&(e=this.items.length-1),this.marquee.scrollTo(e,void 0!==t?t:void 0);else{if(!e)return;var i=n.findWhere(this.items,{title:e});i&&i.index&&(this.state=i.title,this.marquee.scrollTo(i.index,void 0!==t?t:void 0))}},get:function(e){return this.marquee[e]},refresh:function(){this.marquee.resize()},refreshAll:function(){var e=this.marquee.index;this.destroy(),this.init(e)},embeds:function(){var s=this,o=null,a=null,r=n.debounce(this.refresh,300);i.window.on("resize.screens",function(){s.scope.scrollTop(0),s.options.static&&"focus"==o&&a&&setTimeout(function(){l(e.sizes.height/1.3,0)},150),s.options.resizeRefresh&&r.call(s)}),s.options.static&&this.scope.on("focus blur","input[type='text'], textarea",function(i){"focusin"==i.type||"focus"==i.type?(a=t(i.target),o="focus",l(e.sizes.height/2.5,400)):o="blur",s.scope.scrollTop(0)});var l=function(e,t){var i=a.offset().top;i<0?s.marquee.scroll.scrollBy(0,-i+e,t,s.options.static?IScrollStatic.utils.ease.cubicOut:IScroll.utils.ease.cubicOut):i>e&&s.marquee.scroll.scrollBy(0,-(i-e),t,s.options.static?IScrollStatic.utils.ease.cubicOut:IScroll.utils.ease.cubicOut)}},destroy:function(){this.scope.off(),this.marquee.scroll.off(),this.marquee.destroy(),i.window.off("resize.screens"),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.sections"),e.plugins.sections=function(e,t){this.scope=e,this.active=!1,this.options=t||{},this.content=this.options.content||this.scope},e.plugins.sections.prototype={show:function(e){if(!this.active){var i=this,e=e||{};if(e.forceShow){this.active=!0;var s=t(this.content);return s.addClass("transition-none"),this.scope.setAttribute("data-inner","show"),this.scope.setAttribute("data-open",!0),e.scroll&&(e.scroll.refresh(),e.scroll.scrollTop()),n.isFunction(e.beforeShow)&&e.beforeShow(),e.update&&e.tag?(e.tag.update(e.update),e.tag.one("updated",function(){n.isFunction(e.afterShow)&&e.afterShow()})):n.isFunction(e.afterShow)&&e.afterShow(),void $afterlag.run(function(){s.removeClass("transition-none");
})}this.scope.setAttribute("data-open",!0),this.scope.setAttribute("data-loading",!0),n.isFunction(e.beforeShow)&&e.beforeShow(),n.onEndTransition(this.content,function(){n.isFunction(e.callback)?e.callback(i._afterShow.bind(i),i.hide.bind(i)):e.update&&e.tag?(e.tag.update(e.update),e.tag.one("updated",function(){i._afterShow(e)})):i._afterShow(e),i.active=!0})}},_afterShow:function(e){var t=this,e=e||{};this.scope.setAttribute("data-inner","show"),$afterlag.run(function(){e.scroll&&(e.scroll.refresh(),e.scroll.scrollTop()),t.scope.setAttribute("data-loading",!1),n.isFunction(e.afterShow)&&e.afterShow()})},loading:function(e){var t=this;e?(this.scope.setAttribute("data-inner","hidden"),this.scope.setAttribute("data-loading",!0)):(this.scope.setAttribute("data-inner","show"),$afterlag.run(function(){t.scope.setAttribute("data-loading",!1)}))},hide:function(e){if(this.active){var t=this,e=e||{};this.scope.setAttribute("data-open",!1),n.isFunction(e.beforeHide)&&e.beforeHide(),n.onEndTransition(this.content,function(){t.scope.setAttribute("data-inner","hidden"),n.isFunction(e.afterHide)&&e.afterHide(),t.active=!1})}}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.share"),e.plugins.share=function(e,i){e&&i&&(this.scope=t(e),this.options=i,this.init())},e.plugins.share.prototype={init:function(){var e=this,t=this.options;this.active||(this.scope.on("click",t.buttons,function(i){var s=i.currentTarget,o=t.dataAttr?"data-"+t.dataAttr:"data-social",a=s.getAttribute(o);if(a){var r=t.share&&t.share.title||document.title,l=t.url||window.location.href;"fb"==a?e.fb(l,n.isFunction(r)?r():r):"vk"==a?e.vk(l,n.isFunction(r)?r():r):"gl"==a?e.gl(l,n.isFunction(r)?r():r):"dk"==a?e.dk(l,n.isFunction(r)?r():r):"tw"==a&&e.tw(l,n.isFunction(r)?r():r)}}),this.active=!0)},vk:function(e,t,i,s){url="http://vkontakte.ru/share.php?",url+="url="+encodeURIComponent(e),url+="&title="+encodeURIComponent(t),i&&(url+="&image="+encodeURIComponent(i)),s&&(url+="&description="+encodeURIComponent(s)),url+="&noparse=true",this.popup(url)},dk:function(e,t){url="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1",url+="&st.comments="+encodeURIComponent(t),url+="&st._surl="+encodeURIComponent(e),this.popup(url)},fb:function(e,t,i,s){url="http://www.facebook.com/sharer.php?",url+="&p[title]="+encodeURIComponent(t),url+="&p[url]="+encodeURIComponent(e),i&&(url+="&p[images][0]="+encodeURIComponent(i)),s&&(url+="&p[summary]="+encodeURIComponent(s)),this.popup(url)},tw:function(e,t){url="http://twitter.com/share?",url+="text="+encodeURIComponent(t),url+="&url="+encodeURIComponent(e),url+="&counturl="+encodeURIComponent(e),this.popup(url)},ml:function(e,t,i,s){url="http://connect.mail.ru/share?",url+="url="+encodeURIComponent(e),url+="&title="+encodeURIComponent(t),i&&(url+="&imageurl="+encodeURIComponent(i)),s&&(url+="&description="+encodeURIComponent(s)),this.popup(url)},gl:function(e){url="https://plus.google.com/share?",url+="url="+encodeURIComponent(e),this.popup(url)},popup:function(e){window.open(e,"","width=600,height=400,left=350,top=170,status=no,toolbar=no,menubar=no")},destroy:function(){this.scope.off(),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.slider"),e.plugins.slider=function(e){this.active=!1,this.index=0,this.scope=t(e),this.slider=this.scope.find(".slider__wrapper"),this.nav={prev:this.scope.find(".slider__nav__prev"),next:this.scope.find(".slider__nav__next")},this.init(),this.render()},e.plugins.slider.prototype={init:function(){var e=this;this.nav.next.on("click",function(){e.nextSlides()}),this.nav.prev.on("click",function(){e.prevSlides()}),this.slider.on("swipeLeft",function(){e.nav.next.hasClass("slider__nav--hidden")||e.nextSlides()}),this.slider.on("swipeRight",function(){e.nav.prev.hasClass("slider__nav--hidden")||e.prevSlides()})},render:function(){this.firstSlide=this.slider.find(".slider__item:first"),this.widthSlide=this.firstSlide.width(),this.cnt=Math.floor((e.sizes.width<1190?e.sizes.width:1190)/this.widthSlide),this.cnt&&!e.device.isPhone||(this.cnt=1),1!=this.cnt||this.scope.hasClass("largeSlides")||this.scope.addClass("largeSlides"),this.navUpdate(),this.firstSlide.addClass("current")},show:function(e){this.active||(this.scope.addClass("showSlides"),n.isFunction(e)&&n.onEndTransition(this.firstSlide[0],function(){e()}),this.active=!0)},hide:function(e){var t=this;return this.active?(this.reset(),this.scope.addClass("hideSlides"),void n.onEndTransition(this.slider.find(".slider__item:first")[0],function(){t.scope.removeClass("showSlides hideSlides"),t.active=!1,n.isFunction(e)&&e()})):void(n.isFunction(e)&&e())},reset:function(){this.setTranslateValue(0),this.slider.removeClass("next prev").find(".current, .previous").removeClass("current previous"),this.slider.find(".slider__item:first").addClass("current"),this.navUpdate()},navUpdate:function(){var e=this.slider.find(".slider__item").length;this.cnt>1&&e<4||1==this.cnt&&"1"==e?this.nav.next.addClass("slider__nav--hidden"):this.nav.next.removeClass("slider__nav--hidden"),this.nav.prev.addClass("slider__nav--hidden")},nextSlides:function(){var t=this,i=this.slider.children(".current"),s=i.index(),o=i.nextAll(".slider__item").length;s=1==this.cnt?o?s+this.cnt:s:o>this.cnt+1?s+this.cnt:s+o-(this.cnt-1);var a=s*(this.widthSlide+15)+"px";this.cnt>1&&this.slider.addClass("next"),this.setTranslateValue(a),e.device.isPhone?t.updateSlider("next",i,o):n.onEndTransition(this.slider[0],function(){t.updateSlider("next",i,o)}),this.index=s},prevSlides:function(){var t=this,i=this.slider.children(".previous"),s=i.index(),o=s*(this.widthSlide+15)+"px";this.cnt>1&&this.slider.addClass("prev"),this.setTranslateValue(o),e.device.isPhone?t.updateSlider("prev",i):n.onEndTransition(this.slider[0],function(){t.updateSlider("prev",i)}),this.index=s},updateSlider:function(e,t,i){"next"===e?(this.slider.removeClass("next").find(".previous").removeClass("previous"),t.removeClass("current"),1==this.cnt?t.addClass("previous").next(".slider__item").addClass("current"):i>this.cnt+1?t.addClass("previous").next(".slider__item").next(".slider__item").next(".slider__item").addClass("current"):i==this.cnt+1?t.next(".slider__item").next(".slider__item").addClass("current").prev(".slider__item").prev(".slider__item").addClass("previous"):t.next(".slider__item").addClass("current").end().addClass("previous")):(this.slider.removeClass("prev").find(".current").removeClass("current"),t.removeClass("previous").addClass("current"),1==this.cnt?t.prev(".slider__item").addClass("previous"):t.prevAll(".slider__item").length>this.cnt-1?t.prev(".slider__item").prev(".slider__item").prev(".slider__item").addClass("previous"):!this.slider.children(".slider__item").eq(0).hasClass("current")&&this.slider.children(".slider__item").eq(0).addClass("previous")),this.updateNavigation()},updateNavigation:function(){var e=this.slider.find(".slider__item.current");e.is(":first-child")?this.nav.prev.addClass("slider__nav--hidden"):this.nav.prev.removeClass("slider__nav--hidden"),e.nextAll(".slider__item").length<this.cnt?this.nav.next.addClass("slider__nav--hidden"):this.nav.next.removeClass("slider__nav--hidden")},setTranslateValue:function(e){this.slider.css({"-moz-transform":"translate3d(-"+e+", 0, 0)","-webkit-transform":"translate3d(-"+e+", 0, 0)","-ms-transform":"translate3d(-"+e+", 0, 0)","-o-transform":"translate3d(-"+e+", 0, 0)",transform:"translate3d(-"+e+", 0, 0)"})}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.sliderElastic"),e.plugins.sliderElastic=function(e,i){e&&(this.active=!1,this.scope=t(e),this.options=i,this.initX=null,this.transX=0,this.deltaY=0,this.rotZ=0,this.transY=0,this.prevSlide=null,this.curSlide=null,this.isScrolling=!1,this.slides=null)},e.plugins.sliderElastic.prototype={init:function(){if(!this.active&&this.scope.length){var e={fadeOut:"ease 0.2s",Y_DIS:"-50%",Z_DIS:50,TRANS_DUR:.4};this.options&&n.extend(e,this.options),this.options=e,this.container=this.scope.children(),this.container.on("touchmove MSPointerMove","img",function(e){e.preventDefault()}),this.container.on("dragstart selectstart","img",function(){return!1}),this.slides=this.container[0].children,this.attachEvents(this.slides[this.slides.length-1]),this.active=!0}},attachEvents:function(t){this.curSlide=t,this.curSlide.addEventListener(e.device.support.touch?"touchstart":"mousedown",this.slideMouseDown.bind(this),!1)},slideMouseDown:function(t){t.touches?this.initX=t.touches[0].clientX:this.initX=t.pageX,this.scope[0].addEventListener(e.device.support.touch?"touchmove":"mousemove",this.slideMouseMove.bind(this),!1),this.scope[0].addEventListener(e.device.support.touch?"touchend":"mouseup",this.slideMouseUp.bind(this),!1)},slideMouseMove:function(t){var i,s=this;if(!this.isScrolling){i=t.touches?t.touches[0].clientX:t.pageX,this.transX+=i-this.initX,this.rotZ=this.transX/20,this.curSlide.style.transition="none",this.curSlide.style.webkitTransform="translateX("+this.transX+"px) rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ(0)",this.curSlide.style.transform="translateX("+this.transX+"px) rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ(0)";for(var n=1,o=this.slides.length-2;o>=0;o--)this.slides[o].style.webkitTransform="translateX("+this.transX/(2*n)+"px) rotateZ("+this.rotZ/(2*n)+"deg) translateY("+this.options.Y_DIS+") translateZ("+-this.options.Z_DIS*n+"px) translateZ(0)",this.slides[o].style.transform="translateX("+this.transX/(2*n)+"px) rotateZ("+this.rotZ/(2*n)+"deg) translateY("+this.options.Y_DIS+") translateZ("+-this.options.Z_DIS*n+"px) translateZ(0)",this.slides[o].style.transition="none",n++;return this.initX=i,t.preventDefault(),Math.abs(this.transX)>=this.curSlide.offsetWidth-30?(this.scope[0].removeEventListener(e.device.support.touch?"touchmove":"mousemove",this.slideMouseMove,!1),this.curSlide.style.transition=this.options.fadeOut,this.curSlide.style.opacity=0,this.prevSlide=this.curSlide,this.attachEvents(this.slides[this.slides.length-2]),this.slideMouseUp(),void setTimeout(function(){s.container[0].insertBefore(s.prevSlide,s.container[0].firstChild),s.prevSlide.style.transition="none",s.prevSlide.style.opacity="1",s.slideMouseUp()},201)):void 0}},slideMouseUp:function(){this.transX=0,this.rotZ=0,this.curSlide.style.transition="cubic-bezier(0.075, 0.82, 0.165, 1) "+this.options.TRANS_DUR+"s",this.curSlide.style.webkitTransform="translateX("+this.transX+"px)rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ(0)",this.curSlide.style.transform="translateX("+this.transX+"px)rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ(0)";for(var t=1,i=this.slides.length-2;i>=0;i--)this.slides[i].style.transition="cubic-bezier(0.075, 0.82, 0.165, 1) "+this.options.TRANS_DUR/(t+.9)+"s",this.slides[i].style.webkitTransform="translateX("+this.transX+"px)rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ("+-this.options.Z_DIS*t+"px)",this.slides[i].style.transform="translateX("+this.transX+"px)rotateZ("+this.rotZ+"deg) translateY("+this.options.Y_DIS+") translateZ("+-this.options.Z_DIS*t+"px)",t++;this.scope[0].removeEventListener(e.device.support.touch?"touchmove":"mousemove",this.slideMouseMove,!1)}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.sortable"),e.plugins.sortable=function(e,t,i){if(e&&t&&i){var s={animation:400,handle:!1};n.extend(s,t),this.scope=e,this.options=s,this.callback=i}},e.plugins.sortable.prototype={init:function(){var e=this;this.active||(this.elem=Sortable.create(this.scope[0],{animation:this.options.animation,handle:this.options.handle,draggable:this.options.draggable,onUpdate:function(t){var i=[];e.scope.find(e.options.draggable).each(function(e,t){i.push({_id:t.getAttribute("data-id"),pos:e+1})}),e.callback(i)}}),this.active=!0)},destroy:function(){this.elem.destroy(),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.styles"),e.plugins.styles={ready:!1,init:function(i){if(!o.ready){this.el=t(i.elem),this.screen=i.default,this.screens=i.screens,this.callback=i.callback,o.resizer(e.$dom.window[0].innerWidth);var s=n.debounce(o.resizer,100);e.$dom.window.on("resize.styles",function(){var e=s(this.innerWidth);e&&e.length&&o.callback&&o.callback(o.screen)}),o.ready=!0}},resizer:function(e){return n.filter(o.screens,function(t){if((t.minWidth&&t.maxWidth&&e>t.minWidth-1&&e<t.maxWidth+1||t.minWidth&&!t.maxWidth&&e>t.minWidth||t.maxWidth&&!t.minWidth&&e<t.maxWidth)&&o.screen!==t.title)return t.reload&&o.ready&&o.screen!=t.title?window.location.reload():t.path&&o.el.attr("href",t.path),o.screen=t.title,console.log("resize: "+t.title),o.screen})}};var o=e.plugins.styles}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.scroll.animate"),e.plugins.scroll.animate=function(e){!e||e&&!e.scroll||(this.ready=!1,this.delay=e.delay,this.elems=e.elems?e.elems:".anim",this.scroll=t(e.scroll),this.scope=e.container?t(e.container):this.scroll,this.delta=e.delta?this.deltaValues.getValueByTitle(e.delta):null,this.scenario=e.scenario,this.items=[])},e.plugins.scroll.animate.prototype={start:function(e){var t=this;this.ready&&!e||this.render();var i=n.throttle(this.onScroll,100);this.items.length&&this.scroll.on("scroll.animate",function(){i(t)})},render:function(){var e=this;this.items=[],this.scope.find(this.elems).each(function(){e.each(this)}),this.scenario&&n.each(this.scenario,function(t){e.scope.find(t.elem).each(function(){e.each(this,t.callback)})}),this.ready=!0},each:function(e,i){var s=this,n=t(e),o=e.getAttribute("data-delta");o=o?s.deltaValues.getValueByTitle(o):s.delta?s.delta:.55,s.items.push({elem:n,anim:!1,offset:n.offset(),delta:o,callback:i?i:null})},onScroll:function(t){var i=t.scroll[0].scrollTop||t.scroll[0].scrollY;t.items.forEach(function(t,s){!t.anim&&i+e.sizes.height*t.delta>t.offset.top&&(t.anim=!0,t.callback?t.callback(t.elem):t.elem.addClass("animated"))})},destroy:function(){this.scroll.off("scroll.animate"),this.items.forEach(function(e,t){e.anim&&(e.anim=!1,e.elem.removeClass("animated"))}),this.ready=!1},deltaValues:{items:[{title:"xxs",value:1.25},{title:"xs",value:1},{title:"s",value:.7},{title:"m",value:.55},{title:"l",value:.38},{title:"xl",value:.25}],getValueByTitle:function(e){return n.findWhere(this.items,{title:e}).value}}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.scroll.content"),e.plugins.scroll.content=function(e,i){e&&(this.active=!1,this.scope=t(e),this.options=i)},e.plugins.scroll.content.prototype={init:function(){if(!this.active&&this.scope.length){var t={disableMouse:!1,mouseWheel:!0,scrollX:!1,scrollY:!0,click:!1,tap:!1,preventDefault:!0,eventPassthrough:"horizontal",forceBounds:!0,boundDeceleration:3.5,scrollbars:"custom",interactiveScrollbars:!e.device.support.touch,probeType:!e.device.support.touch&&3};this.options&&n.extend(t,this.options),e.device.isPhone&&(t.deceleration=6e-4),this.scroll=new IScroll(this.scope[0],t),t.keyboard&&!e.device.support.touch&&this.keyboard(),this.embeds(!(!e.device.isMobile||!t.autoScroll)),this.active=!0}},show:function(){this.scroll.enable()},hide:function(){this.scroll.disable()},scrollTop:function(){this.scroll.scrollTo(0,0)},refresh:function(){this.scroll.refresh()},keyboard:function(){var t=this.scroll,s="keydown.keyboards-scroll-"+String(Math.round((new Date).getTime()/1e3));paused=!1,duration=500;var n=function(e){return!paused&&(paused=!0,scrollTimer=setTimeout(function(){paused=!1},50),void t.scrollTo(0,e,duration,IScroll.utils.ease.cubicOut))},o=function(){var e=Math.min(0,t.y+100);n(e)},a=function(){var e=Math.max(t.maxScrollY,t.y-100);n(e)},r=function(){var e=Math.min(0,t.y+t.wrapperHeight);n(e)},l=function(){var e=Math.max(t.maxScrollY,t.y-t.wrapperHeight);n(e)},c=function(){n(0)},d=function(){n(t.maxScrollY)};t.enableKeyboardScroll=function(){e.device.support.touch||i.document.on(s,function(e){38==e.which&&o(),40==e.which&&a(),33==e.which&&r(),34==e.which&&l(),36==e.which&&c(),35==e.which&&d()})},t.disableKeyboardScroll=function(){e.device.support.touch||i.document.off(s)},t.enabled&&t.enableKeyboardScroll(),t.on("enable",function(){t.enableKeyboardScroll()}),t.on("disable",function(){t.disableKeyboardScroll()})},embeds:function(s){var o,a=this,r=this.scope,l=this.scroll,c=!1,d=null,h=null,p=n.debounce(this.refresh,300);l.enable(),i.window.on("resize.scrollable-content",function(){e.device.isMobile&&a.scope.scrollTop(0),s&&"focus"==d&&h&&setTimeout(function(){u(e.sizes.height/1.3,0)},150),p.call(a)}),s&&this.scope.on("focus blur","input[type='text'], textarea",function(i){"focusin"==i.type||"focus"==i.type?(h=t(i.target),d="focus",u(e.sizes.height/2.5,400)):d="blur",a.scope.scrollTop(0)});var u=function(e,t){var i=h.offset().top;i<e?l.scrollBy(0,-i+e,t,IScroll.utils.ease.cubicOut):i>e&&l.scrollBy(0,-(i-e),t,IScroll.utils.ease.cubicOut)},f=function(){clearTimeout(o),c||(r.addClass("i-scrolling"),c=!0)},v=function(){clearTimeout(o),c&&(r.removeClass("i-scrolling"),c=!1)};e.device.isMobile&&(l.on("grab",function(){f(),o=setTimeout(function(){v()},500)}),l.on("scrollEnd",function(){v()}))},destroy:function(){this.scope.off(),this.scroll.destroy(),i.window.off("resize.scrollable-content"),this.active=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.scroll.fix"),e.plugins.scroll.fix=function(e){!e||e&&!e.scroll||(this.active=!1,this.scroll=t(e.scroll),this.container=t(e.container))},e.plugins.scroll.fix.prototype={init:function(){var t=this;if(!this.active&&!e.device.isMobile){var s;i.body[0];this.scroll.on("scroll.fix",function(){clearTimeout(s),t.container[0].getAttribute("class").match(/disable__hover/)||t.container.addClass("disable__hover"),s=setTimeout(function(){t.container.removeClass("disable__hover")},300)}),this.active=!0}},destroy:function(){this.active&&(this.scroll.off("scroll.fix"),this.active=!1)}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.scroll.parallax"),e.plugins.scroll.parallax=function(e){e&&(this.ready=!1,this.scroll=t(e.scroll),this.scope=e.container?t(e.container):null,this.scopeOffsetTop=this.scope?e.container.offset().top:null,this.scopeHeight=this.scope?e.container.height():null,this.scenario=e.scenario,this.fade=e.fade,this.items=[])},e.plugins.scroll.parallax.prototype={start:function(e){var t=this;this.ready&&!e||this.render(),this.items.length&&!function e(){t.raf=n.raf(e),t.ready&&t.onScroll(t)}()},render:function(){var e=this;this.items=[],this.scenario&&n.each(this.scenario,function(t,s){e.items.push(t),e.items[s].cHeights={large:4e3,medium:3e3,small:2800},e.items[s].it=0,e.scope?(e.items[s].offset={top:e.scopeOffsetTop,height:e.scopeHeight},e.items[s].scope=e.scope):!e.scope&&t.container&&(e.items[s].scope=i.body.find(t.container),e.items[s].offset={top:e.items[s].scope.offset().top,height:e.items[s].scope.height()}),e.items[s].$elem=e.items[s].scope.find(t.selector)}),this.ready=!0},onScroll:function(t){var i=t.scroll[0].scrollTop||t.scroll[0].scrollY,s=i+e.sizes.height;t.items.forEach(function(n,o){var a=n.viewports.large,r=i-n.offset.top;if(s>n.offset.top&&i<n.offset.top+n.offset.height+10){if(n.offset.top>e.sizes.height&&(r+=e.sizes.height),n.cHeight=1-n.offset.height/n.cHeights.large,n.progress=r/n.offset.height,n.t=t.smoothstep(a.fromTime,a.toTime,n.progress),n.t*=n.cHeight,n.t=t.clamp(n.t,0,1),n.t+=n.it,n.it<-1e-6?n.it*=.955:n.it=0,n.y=t.lerp(a.fromY,a.toY,n.t),t.fade){var l=n.progress;n.offset.top>e.sizes.height&&(l-=1),l<1.01&&l>-1e-6&&(t.fade.in&&t.fade.in.elem.css("opacity",l),t.fade.out&&t.fade.out.elem.css("opacity",1-l))}var c=n.$elem.css("transform").match(/matrix\(\d+, ?\d+, ?\d+, ?\d+, ?(\-?\d+), ?(\-?\d+)/);n.x=c[1],t.update(n.$elem,n.x,n.y)}})},update:function(e,t,i){e.css("transform","translate3d("+t+"px, "+i+"px, 0)")},clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},normalize:function(e,t,i){return(e-t)/(i-t)},smoothstep:function(e,t,i){var s=this.clamp(this.normalize(i,e,t),0,1);return s*s*(3-2*s)},lerp:function(e,t,i){return e+(t-e)*i},destroy:function(){n.caf(this.raf),this.ready=!1}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.scroll.refreshFix"),e.plugins.scroll.refreshFix=function(e){e&&(this.active=!1,this.scroll=n.isElement(e)?e:e[0],this.reset(),this.init())},e.plugins.scroll.refreshFix.prototype={init:function(){this.active||(this.scroll.addEventListener("touchstart",this.touchstartHandler.bind(this),!1),this.scroll.addEventListener("touchmove",this.touchmoveHandler.bind(this),!1),this.active=!0)},touchstartHandler:function(e){1==e.touches.length&&(this.lastTouchY=e.touches[0].clientY,this.maybePreventPullToRefresh=0==window.pageYOffset)},touchmoveHandler:function(e){var t=e.touches[0].clientY,i=t-this.lastTouchY;if(this.lastTouchY=t,this.maybePreventPullToRefresh&&(this.maybePreventPullToRefresh=!1,i>0))return void e.preventDefault()},reset:function(){this.maybePreventPullToRefresh=!1,this.lastTouchY=0},destroy:function(){this.active&&(this.scroll.removeEventListener("touchstart",this.touchstartHandler),this.scroll.removeEventListener("touchmove",this.touchmoveHandler),this.reset(),this.active=!1)}}}(app,$,app.$dom,app.events,app.utils),function(e,t,i,s,n){e.define("plugins.scroll.slider"),e.plugins.scroll.slider=function(e,i){e&&(this.active=!1,this.scope=t(e),this.options=i,this.index=0,this.prevIndex=0,this.prevSlide=null,this.currentSlide=null,this.scrolling=!1,this.slides=[])},e.plugins.scroll.slider.prototype={init:function(i){var s=this;if(!this.active&&this.scope.length&&this.options.items){var o={navbar:{el:".section__slider__navbar",align:"right",pos:"top"},container:".section__slider__container",slide:".section__slider__item",slideId:"_id",select:".section__slider__navbar__select",dataSlide:"data-slide",dataItem:"data-item",hideSlides:!0};this.options&&n.extend(o,this.options),this.options=o,this.navbar=this.scope.find(o.navbar.el),this.container=this.scope.find(o.container),this.title=t('<span class="section__slider__navbar__title">').appendTo(this.navbar),this.navbar.attr({"data-select":!0,"data-align":o.navbar.align,"data-pos":o.navbar.pos}),this.container.find(o.slide).each(function(t){var i=$$(this);i.attr(o.dataItem,t+1),o.scroll&&(s.slides.push({index:t,id:o.items[t][o.slideId],title:o.items[t].title,el:i,scroll:new e.plugins.scroll.content(i,{autoScroll:!0})}),s.slides[t].scroll.init()),o.hideSlides&&t>0&&i.css("display","none")}),e.plugins.eventsEmitter&&e.plugins.eventsEmitter.init(this),this.select=t('<select class="section__slider__navbar__select">'),n.each(this.slides,function(e){s.select.append('<option value="'+e.id+'">'+e.title+"</option>")}),this.navbar.append(this.select),this.onSelect(),this.nav(void 0!==i?i:this.slides[0].id),this.active=!0}},onSelect:function(){var e=this;this.select.on("change",function(t){e.nav(t.currentTarget.value)})},nav:function(e){var t=this,i=n.findWhere(this.slides,{id:e});i&&(this.title[0].innerHTML=i.title,this.container[0].setAttribute(this.options.dataSlide,i.index+1),this.trigger("change",e,i.title),this.scrolling=!0,this.prevIndex=this.index,this.prevSlide=this.currentSlide,this.index=i.index,this.currentSlide=i,this.options.hideSlides&&(i.el.css("display","block"),this.prevSlide&&n.onEndTransition(this.container[0],function(){t.prevSlide.el.css("display","none"),t.refresh()})))},refresh:function(){this.options.scroll&&n.each(this.slides,function(e){e.scroll.refresh()})},destroy:function(){this.navbar&&this.navbar.empty(),this.options.scroll&&n.each(this.slides,function(e){e.scroll.destroy()}),this.destroyEvents(),this.active=!1}}}(app,$,app.$dom,app.events,app.utils);